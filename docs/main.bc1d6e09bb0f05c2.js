(self.webpackChunkimage_uploader=self.webpackChunkimage_uploader||[]).push([[179],{2011:(qe,Ie,F)=>{"use strict";F.d(Ie,{hO:()=>Ve,xv:()=>ce,Dh:()=>pe,GT:()=>me,cc:()=>Ae,on:()=>G,pX:()=>ie});var d=F(5e3),te=F(127),O=F(5813);qe=F.hmd(qe);const _e=["ngOnDestroy"],ie=(de,Se,xe,ue={})=>new Proxy(de,{get:(ge,be)=>xe.runOutsideAngular(()=>{var He;if(de[be])return(null===(He=null==ue?void 0:ue.spy)||void 0===He?void 0:He.get)&&ue.spy.get(be,de[be]),de[be];if(_e.indexOf(be)>-1)return()=>{};const je=Se.toPromise().then(oe=>{const X=oe&&oe[be];return"function"==typeof X?X.bind(oe):X&&X.then?X.then(ae=>xe.run(()=>ae)):xe.run(()=>X)});return new Proxy(()=>{},{get:(oe,X)=>je[X],apply:(oe,X,ae)=>je.then(ve=>{var le;const ke=ve&&ve(...ae);return(null===(le=null==ue?void 0:ue.spy)||void 0===le?void 0:le.apply)&&ue.spy.apply(be,ae,ke),ke})})})}),me=(de,Se)=>{Se.forEach(xe=>{Object.getOwnPropertyNames(xe.prototype||xe).forEach(ue=>{Object.defineProperty(de.prototype,ue,Object.getOwnPropertyDescriptor(xe.prototype||xe,ue))})})};class ne{constructor(Se){return Se}}const pe=new d.OlP("angularfire2.app.options"),ce=new d.OlP("angularfire2.app.name");function G(de,Se,xe){const ge="object"==typeof xe&&xe||{};ge.name=ge.name||"string"==typeof xe&&xe||"[DEFAULT]";const He=te.Z.apps.filter(je=>je&&je.name===ge.name)[0]||Se.runOutsideAngular(()=>te.Z.initializeApp(de,ge));try{JSON.stringify(de)!==JSON.stringify(He.options)&&H("error",`${He.name} Firebase App already initialized with different options${qe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(je){}return new ne(He)}const H=(de,...Se)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[de](...Se)},ee={provide:ne,useFactory:G,deps:[pe,d.R0b,[new d.FiY,ce]]};let Ve=(()=>{class de{constructor(xe){te.Z.registerVersion("angularfire",O.q4.full,"core"),te.Z.registerVersion("angularfire",O.q4.full,"app-compat"),te.Z.registerVersion("angular",d.q4F.full,xe.toString())}static initializeApp(xe,ue){return{ngModule:de,providers:[{provide:pe,useValue:xe},{provide:ce,useValue:ue}]}}}return de.\u0275fac=function(xe){return new(xe||de)(d.LFG(d.Lbi))},de.\u0275mod=d.oAB({type:de}),de.\u0275inj=d.cJS({providers:[ee]}),de})();function Ae(de,Se,xe,ue,ge){const[,be,He]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===de)||[];if(be)return function Me(de,Se){try{return de.toString()===Se.toString()}catch(xe){return de===Se}}(ge,He)||(Q("error",`${Se} was already initialized on the ${xe} Firebase App with different settings.${Be?" You may need to reload as Firebase is not HMR aware.":""}`),Q("warn",{is:ge,was:He})),be;{const je=ue();return globalThis.\u0275AngularfireInstanceCache.push([de,je,ge]),je}}const Be=!!qe.hot,Q=(de,...Se)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[de](...Se)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(qe,Ie,F)=>{"use strict";F.d(Ie,{q4:()=>Wn,iC:()=>cs,fc:()=>ha,HU:()=>Vl,vb:()=>za,JM:()=>Xt});var d=F(5e3),te=F(5867),O=F(5861),_e=F(9681),ie=F(2090),me=F(4859),ne=F(1877),pe=F(2940);const ce="@firebase/installations",G="0.5.5",ee=`w:${G}`,Ve="FIS_v2",Se=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function xe(w){return w instanceof ie.ZR&&w.code.includes("request-failed")}function ue({projectId:w}){return`https://firebaseinstallations.googleapis.com/v1/projects/${w}/installations`}function ge(w){return{token:w.token,requestStatus:2,expiresIn:ve(w.expiresIn),creationTime:Date.now()}}function be(w,I){return He.apply(this,arguments)}function He(){return(He=(0,O.Z)(function*(w,I){const V=(yield I.json()).error;return Se.create("request-failed",{requestName:w,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function je({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function oe(w,{refreshToken:I}){const k=je(w);return k.append("Authorization",function le(w){return`${Ve} ${w}`}(I)),k}function X(w){return ae.apply(this,arguments)}function ae(){return(ae=(0,O.Z)(function*(w){const I=yield w();return I.status>=500&&I.status<600?w():I})).apply(this,arguments)}function ve(w){return Number(w.replace("s","000"))}function ke(w,I){return fe.apply(this,arguments)}function fe(){return(fe=(0,O.Z)(function*(w,{fid:I}){const k=ue(w),se={method:"POST",headers:je(w),body:JSON.stringify({fid:I,authVersion:Ve,appId:w.appId,sdkVersion:ee})},Ce=yield X(()=>fetch(k,se));if(Ce.ok){const Oe=yield Ce.json();return{fid:Oe.fid||I,registrationStatus:2,refreshToken:Oe.refreshToken,authToken:ge(Oe.authToken)}}throw yield be("Create Installation",Ce)})).apply(this,arguments)}function dt(w){return new Promise(I=>{setTimeout(I,w)})}const fn=/^[cdef][\w-]{21}$/;function Je(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const k=function In(w){return function xt(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return fn.test(k)?k:""}catch(w){return""}}function Gt(w){return`${w.appName}!${w.appId}`}const Hn=new Map;function Pt(w,I){const k=Gt(w);At(k,I),function nr(w,I){const k=function Wr(){return!jn&&"BroadcastChannel"in self&&(jn=new BroadcastChannel("[Firebase] FID Change"),jn.onmessage=w=>{At(w.data.key,w.data.fid)}),jn}();k&&k.postMessage({key:w,fid:I}),function ti(){0===Hn.size&&jn&&(jn.close(),jn=null)}()}(k,I)}function At(w,I){const k=Hn.get(w);if(k)for(const V of k)V(I)}let jn=null;const _i="firebase-installations-store";let rr=null;function at(){return rr||(rr=(0,pe.openDb)("firebase-installations-database",1,w=>{0===w.oldVersion&&w.createObjectStore(_i)})),rr}function yi(w,I){return An.apply(this,arguments)}function An(){return(An=(0,O.Z)(function*(w,I){const k=Gt(w),q=(yield at()).transaction(_i,"readwrite"),se=q.objectStore(_i),Ce=yield se.get(k);return yield se.put(I,k),yield q.complete,(!Ce||Ce.fid!==I.fid)&&Pt(w,I.fid),I})).apply(this,arguments)}function pn(w){return qr.apply(this,arguments)}function qr(){return(qr=(0,O.Z)(function*(w){const I=Gt(w),V=(yield at()).transaction(_i,"readwrite");yield V.objectStore(_i).delete(I),yield V.complete})).apply(this,arguments)}function it(w,I){return We.apply(this,arguments)}function We(){return(We=(0,O.Z)(function*(w,I){const k=Gt(w),q=(yield at()).transaction(_i,"readwrite"),se=q.objectStore(_i),Ce=yield se.get(k),Oe=I(Ce);return void 0===Oe?yield se.delete(k):yield se.put(Oe,k),yield q.complete,Oe&&(!Ce||Ce.fid!==Oe.fid)&&Pt(w,Oe.fid),Oe})).apply(this,arguments)}function bt(w){return qt.apply(this,arguments)}function qt(){return(qt=(0,O.Z)(function*(w){let I;const k=yield it(w,V=>{const q=Gn(V),se=Et(w,q);return I=se.registrationPromise,se.installationEntry});return""===k.fid?{installationEntry:yield I}:{installationEntry:k,registrationPromise:I}})).apply(this,arguments)}function Gn(w){return Vo(w||{fid:Je(),registrationStatus:0})}function Et(w,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(Se.create("app-offline"))};const k={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},V=function Ye(w,I){return et.apply(this,arguments)}(w,k);return{installationEntry:k,registrationPromise:V}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:zi(w)}:{installationEntry:I}}function et(){return(et=(0,O.Z)(function*(w,I){try{return yi(w,yield ke(w,I))}catch(k){throw xe(k)&&409===k.customData.serverCode?yield pn(w):yield yi(w,{fid:I.fid,registrationStatus:0}),k}})).apply(this,arguments)}function zi(w){return vr.apply(this,arguments)}function vr(){return(vr=(0,O.Z)(function*(w){let I=yield St(w);for(;1===I.registrationStatus;)yield dt(100),I=yield St(w);if(0===I.registrationStatus){const{installationEntry:k,registrationPromise:V}=yield bt(w);return V||k}return I})).apply(this,arguments)}function St(w){return it(w,I=>{if(!I)throw Se.create("installation-not-found");return Vo(I)})}function Vo(w){return function vi(w){return 1===w.registrationStatus&&w.registrationTime+1e4<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function Ri(w,I){return B.apply(this,arguments)}function B(){return(B=(0,O.Z)(function*({appConfig:w,platformLoggerProvider:I},k){const V=z(w,k),q=oe(w,k),se=I.getImmediate({optional:!0});se&&q.append("x-firebase-client",se.getPlatformInfoString());const Oe={method:"POST",headers:q,body:JSON.stringify({installation:{sdkVersion:ee}})},ze=yield X(()=>fetch(V,Oe));if(ze.ok)return ge(yield ze.json());throw yield be("Generate Auth Token",ze)})).apply(this,arguments)}function z(w,{fid:I}){return`${ue(w)}/${I}/authTokens:generate`}function $(w){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,O.Z)(function*(w,I=!1){let k;const V=yield it(w.appConfig,se=>{if(!Qt(se))throw Se.create("not-registered");const Ce=se.authToken;if(!I&&bi(Ce))return se;if(1===Ce.requestStatus)return k=re(w,I),se;{if(!navigator.onLine)throw Se.create("app-offline");const Oe=Tn(se);return k=zt(w,Oe),Oe}});return k?yield k:V.authToken})).apply(this,arguments)}function re(w,I){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,O.Z)(function*(w,I){let k=yield rt(w.appConfig);for(;1===k.authToken.requestStatus;)yield dt(100),k=yield rt(w.appConfig);const V=k.authToken;return 0===V.requestStatus?$(w,I):V})).apply(this,arguments)}function rt(w){return it(w,I=>{if(!Qt(I))throw Se.create("not-registered");return function ni(w){return 1===w.requestStatus&&w.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function zt(w,I){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,O.Z)(function*(w,I){try{const k=yield Ri(w,I),V=Object.assign(Object.assign({},I),{authToken:k});return yield yi(w.appConfig,V),k}catch(k){if(!xe(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const V=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield yi(w.appConfig,V)}else yield pn(w.appConfig);throw k}})).apply(this,arguments)}function Qt(w){return void 0!==w&&2===w.registrationStatus}function bi(w){return 2===w.requestStatus&&!function Ct(w){const I=Date.now();return I<w.creationTime||w.creationTime+w.expiresIn<I+36e5}(w)}function Tn(w){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:I})}function Bo(){return(Bo=(0,O.Z)(function*(w){const I=w,{installationEntry:k,registrationPromise:V}=yield bt(I.appConfig);return V?V.catch(console.error):$(I).catch(console.error),k.fid})).apply(this,arguments)}function Uo(){return(Uo=(0,O.Z)(function*(w,I=!1){const k=w;return yield Sn(k.appConfig),(yield $(k,I)).token})).apply(this,arguments)}function Sn(w){return ii.apply(this,arguments)}function ii(){return(ii=(0,O.Z)(function*(w){const{registrationPromise:I}=yield bt(w);I&&(yield I)})).apply(this,arguments)}function Xs(w){return Se.create("missing-app-config-values",{valueName:w})}const Ci="installations",_t=w=>{const I=w.getProvider("app").getImmediate(),k=function zn(w){if(!w||!w.options)throw Xs("App Configuration");if(!w.name)throw Xs("App Name");const I=["projectId","apiKey","appId"];for(const k of I)if(!w.options[k])throw Xs(k);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(I);return{app:I,appConfig:k,platformLoggerProvider:(0,_e._getProvider)(I,"platform-logger"),_delete:()=>Promise.resolve()}},Yt=w=>{const I=w.getProvider("app").getImmediate(),k=(0,_e._getProvider)(I,Ci).getImmediate();return{getId:()=>function xa(w){return Bo.apply(this,arguments)}(k),getToken:q=>function ka(w){return Uo.apply(this,arguments)}(k,q)}};(function ri(){(0,_e._registerComponent)(new me.wA(Ci,_t,"PUBLIC")),(0,_e._registerComponent)(new me.wA("installations-internal",Yt,"PRIVATE"))})(),(0,_e.registerVersion)(ce,G),(0,_e.registerVersion)(ce,G,"esm2017");const Er="@firebase/remote-config",an=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ic{constructor(I,k,V,q){this.client=I,this.storage=k,this.storageCache=V,this.logger=q}isCachedDataFresh(I,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-k,q=V<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${q}.`),q}fetch(I){var k=this;return(0,O.Z)(function*(){const[V,q]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(q&&k.isCachedDataFresh(I.cacheMaxAgeMillis,V))return q;I.eTag=q&&q.eTag;const se=yield k.client.fetch(I),Ce=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===se.status&&Ce.push(k.storage.setLastSuccessfulFetchResponse(se)),yield Promise.all(Ce),se})()}}function Pa(w=navigator){return w.languages&&w.languages[0]||w.language}class _n{constructor(I,k,V,q,se,Ce){this.firebaseInstallations=I,this.sdkVersion=k,this.namespace=V,this.projectId=q,this.apiKey=se,this.appId=Ce}fetch(I){var k=this;return(0,O.Z)(function*(){const[V,q]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),Ce=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,Oe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},ze={sdk_version:k.sdkVersion,app_instance_id:V,app_instance_id_token:q,app_id:k.appId,language_code:Pa()},Tt={method:"POST",headers:Oe,body:JSON.stringify(ze)},Ut=fetch(Ce,Tt),yn=new Promise((Bn,Si)=>{I.signal.addEventListener(()=>{const pr=new Error("The operation was aborted.");pr.name="AbortError",Si(pr)})});let Qn;try{yield Promise.race([Ut,yn]),Qn=yield Ut}catch(Bn){let Si="fetch-client-network";throw"AbortError"===Bn.name&&(Si="fetch-timeout"),an.create(Si,{originalErrorMessage:Bn.message})}let sn=Qn.status;const vo=Qn.headers.get("ETag")||void 0;let fr,Ti;if(200===Qn.status){let Bn;try{Bn=yield Qn.json()}catch(Si){throw an.create("fetch-client-parse",{originalErrorMessage:Si.message})}fr=Bn.entries,Ti=Bn.state}if("INSTANCE_STATE_UNSPECIFIED"===Ti?sn=500:"NO_CHANGE"===Ti?sn=304:("NO_TEMPLATE"===Ti||"EMPTY_CONFIG"===Ti)&&(fr={}),304!==sn&&200!==sn)throw an.create("fetch-status",{httpStatus:sn});return{status:sn,eTag:vo,config:fr}})()}}class wr{constructor(I,k){this.client=I,this.storage=k}fetch(I){var k=this;return(0,O.Z)(function*(){const V=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(I,V)})()}attemptFetch(I,{throttleEndTimeMillis:k,backoffCount:V}){var q=this;return(0,O.Z)(function*(){yield function Ac(w,I){return new Promise((k,V)=>{const q=Math.max(I-Date.now(),0),se=setTimeout(k,q);w.addEventListener(()=>{clearTimeout(se),V(an.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,k);try{const se=yield q.client.fetch(I);return yield q.storage.deleteThrottleMetadata(),se}catch(se){if(!function sf(w){if(!(w instanceof ie.ZR&&w.customData))return!1;const I=Number(w.customData.httpStatus);return 429===I||500===I||503===I||504===I}(se))throw se;const Ce={throttleEndTimeMillis:Date.now()+(0,ie.$s)(V),backoffCount:V+1};return yield q.storage.setThrottleMetadata(Ce),q.attemptFetch(I,Ce)}})()}}class lf{constructor(I,k,V,q,se){this.app=I,this._client=k,this._storageCache=V,this._storage=q,this._logger=se,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function jo(w,I){const k=w.target.error||void 0;return an.create(I,{originalErrorMessage:k&&k.message})}const no="app_namespace_store";class Sc{constructor(I,k,V,q=function uf(){return new Promise((w,I)=>{try{const k=indexedDB.open("firebase_remote_config",1);k.onerror=V=>{I(jo(V,"storage-open"))},k.onsuccess=V=>{w(V.target.result)},k.onupgradeneeded=V=>{0===V.oldVersion&&V.target.result.createObjectStore(no,{keyPath:"compositeKey"})}}catch(k){I(an.create("storage-open",{originalErrorMessage:k}))}})}()){this.appId=I,this.appName=k,this.namespace=V,this.openDbPromise=q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var k=this;return(0,O.Z)(function*(){const V=yield k.openDbPromise;return new Promise((q,se)=>{const Oe=V.transaction([no],"readonly").objectStore(no),ze=k.createCompositeKey(I);try{const Tt=Oe.get(ze);Tt.onerror=Ut=>{se(jo(Ut,"storage-get"))},Tt.onsuccess=Ut=>{const yn=Ut.target.result;q(yn?yn.value:void 0)}}catch(Tt){se(an.create("storage-get",{originalErrorMessage:Tt&&Tt.message}))}})})()}set(I,k){var V=this;return(0,O.Z)(function*(){const q=yield V.openDbPromise;return new Promise((se,Ce)=>{const ze=q.transaction([no],"readwrite").objectStore(no),Tt=V.createCompositeKey(I);try{const Ut=ze.put({compositeKey:Tt,value:k});Ut.onerror=yn=>{Ce(jo(yn,"storage-set"))},Ut.onsuccess=()=>{se()}}catch(Ut){Ce(an.create("storage-set",{originalErrorMessage:Ut&&Ut.message}))}})})()}delete(I){var k=this;return(0,O.Z)(function*(){const V=yield k.openDbPromise;return new Promise((q,se)=>{const Oe=V.transaction([no],"readwrite").objectStore(no),ze=k.createCompositeKey(I);try{const Tt=Oe.delete(ze);Tt.onerror=Ut=>{se(jo(Ut,"storage-delete"))},Tt.onsuccess=()=>{q()}}catch(Tt){se(an.create("storage-delete",{originalErrorMessage:Tt&&Tt.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class io{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,O.Z)(function*(){const k=I.storage.getLastFetchStatus(),V=I.storage.getLastSuccessfulFetchTimestampMillis(),q=I.storage.getActiveConfig(),se=yield k;se&&(I.lastFetchStatus=se);const Ce=yield V;Ce&&(I.lastSuccessfulFetchTimestampMillis=Ce);const Oe=yield q;Oe&&(I.activeConfig=Oe)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function dm(){return Go.apply(this,arguments)}function Go(){return(Go=(0,O.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch(w){return!1}})).apply(this,arguments)}!function df(){(0,_e._registerComponent)(new me.wA("remote-config",function w(I,{instanceIdentifier:k}){const V=I.getProvider("app").getImmediate(),q=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw an.create("registration-window");if(!(0,ie.hl)())throw an.create("indexed-db-unavailable");const{projectId:se,apiKey:Ce,appId:Oe}=V.options;if(!se)throw an.create("registration-project-id");if(!Ce)throw an.create("registration-api-key");if(!Oe)throw an.create("registration-app-id");const ze=new Sc(Oe,V.name,k=k||"firebase"),Tt=new io(ze),Ut=new ne.Yd(Er);Ut.logLevel=ne.in.ERROR;const yn=new _n(q,_e.SDK_VERSION,k,se,Ce,Oe),Qn=new wr(yn,ze),sn=new Ic(Qn,ze,Tt,Ut),vo=new lf(V,sn,Tt,ze,Ut);return function Nt(w){const I=(0,ie.m9)(w);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(vo),vo},"PUBLIC").setMultipleInstances(!0)),(0,_e.registerVersion)(Er,"0.3.4"),(0,_e.registerVersion)(Er,"0.3.4","esm2017")}();const Xr="/firebase-messaging-sw.js",Fi="/firebase-cloud-messaging-push-scope",Is="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",so="google.c.a.c_id",Mc="google.c.a.c_l",hf="google.c.a.ts",Wi="google.c.a.e";var Ir=(()=>{return(w=Ir||(Ir={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",Ir;var w})();function Ni(w){const I=new Uint8Array(w);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function kc(w){const k=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(k),q=new Uint8Array(V.length);for(let se=0;se<V.length;++se)q[se]=V.charCodeAt(se);return q}const $n="fcm_token_details_db",Rc="fcm_token_object_Store";function Pc(w){return Oa.apply(this,arguments)}function Oa(){return Oa=(0,O.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(se=>se.name).includes($n))return null;let I=null;return(yield(0,pe.openDb)($n,5,function(){var V=(0,O.Z)(function*(q){var se;if(q.oldVersion<2||!q.objectStoreNames.contains(Rc))return;const Ce=q.transaction.objectStore(Rc),Oe=yield Ce.index("fcmSenderId").get(w);if(yield Ce.clear(),Oe)if(2===q.oldVersion){const ze=Oe;if(!ze.auth||!ze.p256dh||!ze.endpoint)return;I={token:ze.fcmToken,createTime:null!==(se=ze.createTime)&&void 0!==se?se:Date.now(),subscriptionOptions:{auth:ze.auth,p256dh:ze.p256dh,endpoint:ze.endpoint,swScope:ze.swScope,vapidKey:"string"==typeof ze.vapidKey?ze.vapidKey:Ni(ze.vapidKey)}}}else if(3===q.oldVersion){const ze=Oe;I={token:ze.fcmToken,createTime:ze.createTime,subscriptionOptions:{auth:Ni(ze.auth),p256dh:Ni(ze.p256dh),endpoint:ze.endpoint,swScope:ze.swScope,vapidKey:Ni(ze.vapidKey)}}}else if(4===q.oldVersion){const ze=Oe;I={token:ze.fcmToken,createTime:ze.createTime,subscriptionOptions:{auth:Ni(ze.auth),p256dh:Ni(ze.p256dh),endpoint:ze.endpoint,swScope:ze.swScope,vapidKey:Ni(ze.vapidKey)}}}});return function(q){return V.apply(this,arguments)}}())).close(),yield(0,pe.deleteDb)($n),yield(0,pe.deleteDb)("fcm_vapid_details_db"),yield(0,pe.deleteDb)("undefined"),gl(I)?I:null}),Oa.apply(this,arguments)}function gl(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:I}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const Ar="firebase-messaging-store";let vl=null;function $t(){return vl||(vl=(0,pe.openDb)("firebase-messaging-database",1,w=>{0===w.oldVersion&&w.createObjectStore(Ar)})),vl}function zo(w){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,O.Z)(function*(w){const I=On(w),V=yield(yield $t()).transaction(Ar).objectStore(Ar).get(I);if(V)return V;{const q=yield Pc(w.appConfig.senderId);if(q)return yield Lt(w,q),q}})).apply(this,arguments)}function Lt(w,I){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,O.Z)(function*(w,I){const k=On(w),q=(yield $t()).transaction(Ar,"readwrite");return yield q.objectStore(Ar).put(I,k),yield q.complete,I})).apply(this,arguments)}function $o(w){return As.apply(this,arguments)}function As(){return(As=(0,O.Z)(function*(w){const I=On(w),V=(yield $t()).transaction(Ar,"readwrite");yield V.objectStore(Ar).delete(I),yield V.complete})).apply(this,arguments)}function On({appConfig:w}){return w.appId}const ln=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Tr(w,I){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,O.Z)(function*(w,I){const k=yield ts(w),V=Wo(I),q={method:"POST",headers:k,body:JSON.stringify(V)};let se;try{se=yield(yield fetch(es(w.appConfig),q)).json()}catch(Ce){throw ln.create("token-subscribe-failed",{errorInfo:Ce})}if(se.error)throw ln.create("token-subscribe-failed",{errorInfo:se.error.message});if(!se.token)throw ln.create("token-subscribe-no-token");return se.token})).apply(this,arguments)}function oo(w,I){return sr.apply(this,arguments)}function sr(){return(sr=(0,O.Z)(function*(w,I){const k=yield ts(w),V=Wo(I.subscriptionOptions),q={method:"PATCH",headers:k,body:JSON.stringify(V)};let se;try{se=yield(yield fetch(`${es(w.appConfig)}/${I.token}`,q)).json()}catch(Ce){throw ln.create("token-update-failed",{errorInfo:Ce})}if(se.error)throw ln.create("token-update-failed",{errorInfo:se.error.message});if(!se.token)throw ln.create("token-update-no-token");return se.token})).apply(this,arguments)}function bl(w,I){return wi.apply(this,arguments)}function wi(){return(wi=(0,O.Z)(function*(w,I){const V={method:"DELETE",headers:yield ts(w)};try{const se=yield(yield fetch(`${es(w.appConfig)}/${I}`,V)).json();if(se.error)throw ln.create("token-unsubscribe-failed",{errorInfo:se.error.message})}catch(q){throw ln.create("token-unsubscribe-failed",{errorInfo:q})}})).apply(this,arguments)}function es({projectId:w}){return`https://fcmregistrations.googleapis.com/v1/projects/${w}/registrations`}function ts(w){return tt.apply(this,arguments)}function tt(){return(tt=(0,O.Z)(function*({appConfig:w,installations:I}){const k=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function Wo({p256dh:w,auth:I,endpoint:k,vapidKey:V}){const q={web:{endpoint:k,auth:I,p256dh:w}};return V!==Is&&(q.web.applicationPubKey=V),q}const Yo=6048e5;function Oc(w){return qo.apply(this,arguments)}function qo(){return(qo=(0,O.Z)(function*(w){const I=yield nn(w.swRegistration,w.vapidKey),k={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:I.endpoint,auth:Ni(I.getKey("auth")),p256dh:Ni(I.getKey("p256dh"))},V=yield zo(w.firebaseDependencies);if(V){if(Qo(V.subscriptionOptions,k))return Date.now()>=V.createTime+Yo?rd(w,{token:V.token,createTime:Date.now(),subscriptionOptions:k}):V.token;try{yield bl(w.firebaseDependencies,V.token)}catch(q){console.warn(q)}return Dt(w.firebaseDependencies,k)}return Dt(w.firebaseDependencies,k)})).apply(this,arguments)}function El(w){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,O.Z)(function*(w){const I=yield zo(w.firebaseDependencies);I&&(yield bl(w.firebaseDependencies,I.token),yield $o(w.firebaseDependencies));const k=yield w.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function rd(w,I){return De.apply(this,arguments)}function De(){return(De=(0,O.Z)(function*(w,I){try{const k=yield oo(w.firebaseDependencies,I),V=Object.assign(Object.assign({},I),{token:k,createTime:Date.now()});return yield Lt(w.firebaseDependencies,V),k}catch(k){throw yield El(w),k}})).apply(this,arguments)}function Dt(w,I){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,O.Z)(function*(w,I){const V={token:yield Tr(w,I),createTime:Date.now(),subscriptionOptions:I};return yield Lt(w,V),V.token})).apply(this,arguments)}function nn(w,I){return ns.apply(this,arguments)}function ns(){return(ns=(0,O.Z)(function*(w,I){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:kc(I)})})).apply(this,arguments)}function Qo(w,I){return I.vapidKey===w.vapidKey&&I.endpoint===w.endpoint&&I.auth===w.auth&&I.p256dh===w.p256dh}function ai(w){const I={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function Cl(w,I){if(!I.notification)return;w.notification={};const k=I.notification.title;k&&(w.notification.title=k);const V=I.notification.body;V&&(w.notification.body=V);const q=I.notification.image;q&&(w.notification.image=q)}(I,w),function wl(w,I){!I.data||(w.data=I.data)}(I,w),function Fc(w,I){if(!I.fcmOptions)return;w.fcmOptions={};const k=I.fcmOptions.link;k&&(w.fcmOptions.link=k);const V=I.fcmOptions.analytics_label;V&&(w.fcmOptions.analyticsLabel=V)}(I,w),I}function Nc(w){return"object"==typeof w&&!!w&&so in w}function Xo(w,I){const k=[];for(let V=0;V<w.length;V++)k.push(w.charAt(V)),V<I.length&&k.push(I.charAt(V));return k.join("")}function kn(w){return ln.create("missing-app-config-values",{valueName:w})}Xo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Xo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Yi{constructor(I,k,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const q=function ao(w){if(!w||!w.options)throw kn("App Configuration Object");if(!w.name)throw kn("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:k}=w;for(const V of I)if(!k[V])throw kn(V);return{appName:w.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:q,installations:k,analyticsProvider:V}}_delete(){return Promise.resolve()}}function Dl(w){return or.apply(this,arguments)}function or(){return(or=(0,O.Z)(function*(w){try{w.swRegistration=yield navigator.serviceWorker.register(Xr,{scope:Fi}),w.swRegistration.update().catch(()=>{})}catch(I){throw ln.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function Sr(w,I){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,O.Z)(function*(w,I){if(!I&&!w.swRegistration&&(yield Dl(w)),I||!w.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw ln.create("invalid-sw-registration");w.swRegistration=I}})).apply(this,arguments)}function Lc(w,I){return ea.apply(this,arguments)}function ea(){return(ea=(0,O.Z)(function*(w,I){I?w.vapidKey=I:w.vapidKey||(w.vapidKey=Is)})).apply(this,arguments)}function Ts(){return(Ts=(0,O.Z)(function*(w,I){if(!navigator)throw ln.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ln.create("permission-blocked");return yield Lc(w,null==I?void 0:I.vapidKey),yield Sr(w,null==I?void 0:I.serviceWorkerRegistration),Oc(w)})).apply(this,arguments)}function La(w,I,k){return ta.apply(this,arguments)}function ta(){return(ta=(0,O.Z)(function*(w,I,k){const V=Il(I);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:k[so],message_name:k[Mc],message_time:k[hf],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Il(w){switch(w){case Ir.NOTIFICATION_CLICKED:return"notification_open";case Ir.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Va(){return(Va=(0,O.Z)(function*(w,I){const k=I.data;if(!k.isFirebaseMessaging)return;w.onMessageHandler&&k.messageType===Ir.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(ai(k)):w.onMessageHandler.next(ai(k)));const V=k.data;Nc(V)&&"1"===V[Wi]&&(yield La(w,k.messageType,V))})).apply(this,arguments)}const Ss="@firebase/messaging",Ms=w=>{const I=new Yi(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function ff(w,I){return Va.apply(this,arguments)}(I,k)),I},Bc=w=>{const I=w.getProvider("messaging").getImmediate();return{getToken:V=>function Vc(w,I){return Ts.apply(this,arguments)}(I,V)}};function lo(){return ar.apply(this,arguments)}function ar(){return(ar=(0,O.Z)(function*(){try{yield(0,ie.eu)()}catch(w){return!1}return"undefined"!=typeof window&&(0,ie.hl)()&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function sd(){(0,_e._registerComponent)(new me.wA("messaging",Ms,"PUBLIC")),(0,_e._registerComponent)(new me.wA("messaging-internal",Bc,"PRIVATE")),(0,_e.registerVersion)(Ss,"0.9.8"),(0,_e.registerVersion)(Ss,"0.9.8","esm2017")}();const Uc="analytics",Tl="firebase_id",Sl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ba="https://www.googletagmanager.com/gtag/js",Ln=new ne.Yd("@firebase/analytics");function ld(w){return Promise.all(w.map(I=>I.catch(k=>k)))}function kr(w,I){const k=document.createElement("script");k.src=`${Ba}?l=${w}&id=${I}`,k.async=!0,document.head.appendChild(k)}function pf(w,I,k,V,q,se){return ia.apply(this,arguments)}function ia(){return(ia=(0,O.Z)(function*(w,I,k,V,q,se){const Ce=V[q];try{if(Ce)yield I[Ce];else{const ze=(yield ld(k)).find(Tt=>Tt.measurementId===q);ze&&(yield I[ze.appId])}}catch(Oe){Ln.error(Oe)}w("config",q,se)})).apply(this,arguments)}function is(w,I,k,V,q){return ra.apply(this,arguments)}function ra(){return(ra=(0,O.Z)(function*(w,I,k,V,q){try{let se=[];if(q&&q.send_to){let Ce=q.send_to;Array.isArray(Ce)||(Ce=[Ce]);const Oe=yield ld(k);for(const ze of Ce){const Tt=Oe.find(yn=>yn.measurementId===ze),Ut=Tt&&I[Tt.appId];if(!Ut){se=[];break}se.push(Ut)}}0===se.length&&(se=Object.values(I)),yield Promise.all(se),w("event",V,q||{})}catch(se){Ln.error(se)}})).apply(this,arguments)}function cd(){const w=window.document.getElementsByTagName("script");for(const I of Object.values(w))if(I.src&&I.src.includes(Ba))return I;return null}const Ft=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),xs=new class Di{constructor(I={},k=1e3){this.throttleMetadata=I,this.intervalMillis=k}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,k){this.throttleMetadata[I]=k}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function li(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function yt(w){return rs.apply(this,arguments)}function rs(){return(rs=(0,O.Z)(function*(w){var I;const{appId:k,apiKey:V}=w,q={method:"GET",headers:li(V)},se=Sl.replace("{app-id}",k),Ce=yield fetch(se,q);if(200!==Ce.status&&304!==Ce.status){let Oe="";try{const ze=yield Ce.json();(null===(I=ze.error)||void 0===I?void 0:I.message)&&(Oe=ze.error.message)}catch(ze){}throw Ft.create("config-fetch-failed",{httpStatus:Ce.status,responseMessage:Oe})}return Ce.json()})).apply(this,arguments)}function Vt(w){return uo.apply(this,arguments)}function uo(){return(uo=(0,O.Z)(function*(w,I=xs,k){const{appId:V,apiKey:q,measurementId:se}=w.options;if(!V)throw Ft.create("no-app-id");if(!q){if(se)return{measurementId:se,appId:V};throw Ft.create("no-api-key")}const Ce=I.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Oe=new ud;return setTimeout((0,O.Z)(function*(){Oe.abort()}),void 0!==k?k:6e4),ss({appId:V,apiKey:q,measurementId:se},Ce,Oe,I)})).apply(this,arguments)}function ss(w,I,k){return cr.apply(this,arguments)}function cr(){return(cr=(0,O.Z)(function*(w,{throttleEndTimeMillis:I,backoffCount:k},V,q=xs){const{appId:se,measurementId:Ce}=w;try{yield jc(V,I)}catch(Oe){if(Ce)return Ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ce} provided in the "measurementId" field in the local Firebase config. [${Oe.message}]`),{appId:se,measurementId:Ce};throw Oe}try{const Oe=yield yt(w);return q.deleteThrottleMetadata(se),Oe}catch(Oe){if(!Ml(Oe)){if(q.deleteThrottleMetadata(se),Ce)return Ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ce} provided in the "measurementId" field in the local Firebase config. [${Oe.message}]`),{appId:se,measurementId:Ce};throw Oe}const ze=503===Number(Oe.customData.httpStatus)?(0,ie.$s)(k,q.intervalMillis,30):(0,ie.$s)(k,q.intervalMillis),Tt={throttleEndTimeMillis:Date.now()+ze,backoffCount:k+1};return q.setThrottleMetadata(se,Tt),Ln.debug(`Calling attemptFetch again in ${ze} millis`),ss(w,Tt,V,q)}})).apply(this,arguments)}function jc(w,I){return new Promise((k,V)=>{const q=Math.max(I-Date.now(),0),se=setTimeout(k,q);w.addEventListener(()=>{clearTimeout(se),V(Ft.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function Ml(w){if(!(w instanceof ie.ZR&&w.customData))return!1;const I=Number(w.customData.httpStatus);return 429===I||500===I||503===I||504===I}class ud{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function Ua(){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,O.Z)(function*(){if(!(0,ie.hl)())return Ln.warn(Ft.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(w){return Ln.warn(Ft.create("indexeddb-unavailable",{errorInfo:w}).message),!1}return!0})).apply(this,arguments)}function Kn(){return(Kn=(0,O.Z)(function*(w,I,k,V,q,se,Ce){var Oe;const ze=Vt(w);ze.then(sn=>{k[sn.measurementId]=sn.appId,w.options.measurementId&&sn.measurementId!==w.options.measurementId&&Ln.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${sn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(sn=>Ln.error(sn)),I.push(ze);const Tt=Ua().then(sn=>{if(sn)return V.getId()}),[Ut,yn]=yield Promise.all([ze,Tt]);cd()||kr(se,Ut.measurementId),q("js",new Date);const Qn=null!==(Oe=null==Ce?void 0:Ce.config)&&void 0!==Oe?Oe:{};return Qn.origin="firebase",Qn.update=!0,null!=yn&&(Qn[Tl]=yn),q("config",Ut.measurementId,Qn),Ut.measurementId})).apply(this,arguments)}class xl{constructor(I){this.app=I}_delete(){return delete ci[this.app.options.appId],Promise.resolve()}}let ci={},kl=[];const ho={};let Ha,Pr,fo="dataLayer",rn=!1;function Ga(w,I,k){!function Li(){const w=[];if((0,ie.ru)()&&w.push("This is a browser extension environment."),(0,ie.zI)()||w.push("Cookies are not available."),w.length>0){const I=w.map((V,q)=>`(${q+1}) ${V}`).join(" "),k=Ft.create("invalid-analytics-context",{errorInfo:I});Ln.warn(k.message)}}();const V=w.options.appId;if(!V)throw Ft.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw Ft.create("no-api-key");Ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ci[V])throw Ft.create("already-exists",{id:V});if(!rn){!function co(w){let I=[];Array.isArray(window[w])?I=window[w]:window[w]=I}(fo);const{wrappedGtag:se,gtagCore:Ce}=function mf(w,I,k,V,q){let se=function(...Ce){window[V].push(arguments)};return window[q]&&"function"==typeof window[q]&&(se=window[q]),window[q]=function Hc(w,I,k,V){function se(){return(se=(0,O.Z)(function*(Ce,Oe,ze){try{"event"===Ce?yield is(w,I,k,Oe,ze):"config"===Ce?yield pf(w,I,k,V,Oe,ze):w("set",Oe)}catch(Tt){Ln.error(Tt)}})).apply(this,arguments)}return function q(Ce,Oe,ze){return se.apply(this,arguments)}}(se,w,I,k),{gtagCore:se,wrappedGtag:window[q]}}(ci,kl,ho,fo,"gtag");Pr=se,Ha=Ce,rn=!0}return ci[V]=function os(w,I,k,V,q,se,Ce){return Kn.apply(this,arguments)}(w,kl,ho,I,Ha,fo,k),new xl(w)}function mo(){return(mo=(0,O.Z)(function*(w,I,k,V,q){if(q&&q.global)w("event",k,V);else{const se=yield I;w("event",k,Object.assign(Object.assign({},V),{send_to:se}))}})).apply(this,arguments)}function hd(){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,O.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch(w){return!1}})).apply(this,arguments)}const md="@firebase/analytics";!function _f(){(0,_e._registerComponent)(new me.wA(Uc,(I,{options:k})=>Ga(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,_e._registerComponent)(new me.wA("analytics-internal",function w(I){try{const k=I.getProvider(Uc).getImmediate();return{logEvent:(V,q,se)=>function Gc(w,I,k,V){w=(0,ie.m9)(w),function Rl(w,I,k,V,q){return mo.apply(this,arguments)}(Pr,ci[w.app.options.appId],I,k,V).catch(q=>Ln.error(q))}(k,V,q,se)}}catch(k){throw Ft.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,_e.registerVersion)(md,"0.7.5"),(0,_e.registerVersion)(md,"0.7.5","esm2017")}();var _o=F(4408),dn=F(7565);const yo=new class Nl extends dn.v{}(class mm extends _o.o{constructor(I,k){super(I,k),this.scheduler=I,this.work=k}schedule(I,k=0){return k>0?super.schedule(I,k):(this.delay=k,this.state=I,this.scheduler.flush(this),this)}execute(I,k){return k>0||this.closed?super.execute(I,k):this._execute(I,k)}requestAsyncId(I,k,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(I,k,V):I.flush(this)}});var Vn=F(4986),Pn=F(8505),Ii=F(5363),ls=F(9468);const Wn=new d.GfV("7.2.1"),Bt="__angularfire_symbol__analyticsIsSupportedValue",qi="__angularfire_symbol__analyticsIsSupported",Zn="__angularfire_symbol__remoteConfigIsSupportedValue",Ai="__angularfire_symbol__remoteConfigIsSupported",N="__angularfire_symbol__messagingIsSupportedValue",dr="__angularfire_symbol__messagingIsSupported";function Xt(w,I,k){if(I){if(1===I.length)return I[0];const se=I.filter(Ce=>Ce.app===k);if(1===se.length)return se[0]}return k.container.getProvider(w).getImmediate({optional:!0})}globalThis[qi]||(globalThis[qi]=hd().then(w=>globalThis[Bt]=w).catch(()=>globalThis[Bt]=!1)),globalThis[dr]||(globalThis[dr]=lo().then(w=>globalThis[N]=w).catch(()=>globalThis[N]=!1)),globalThis[Ai]||(globalThis[Ai]=dm().then(w=>globalThis[Zn]=w).catch(()=>globalThis[Zn]=!1));const za=(w,I)=>{const k=I?[I]:(0,te.C6)(),V=[];return k.forEach(q=>{q.container.getProvider(w).instances.forEach(Ce=>{V.includes(Ce)||V.push(Ce)})}),V};function hr(){}class $c{constructor(I,k=yo){this.zone=I,this.delegate=k}now(){return this.delegate.now()}schedule(I,k,V){const q=this.zone;return this.delegate.schedule(function(Ce){q.runGuarded(()=>{I.apply(this,[Ce])})},k,V)}}class Ll{constructor(I){this.zone=I,this.task=null}call(I,k){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",hr,{},hr,hr)),k.pipe((0,Pn.b)({next:V,complete:V,error:V})).subscribe(I).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Vl=(()=>{class w{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new $c(Zone.current)),this.insideAngular=k.run(()=>new $c(Zone.current,Vn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(k){return new(k||w)(d.LFG(d.R0b))},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function Ps(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function ha(w){return w.pipe((0,Ii.Q)(Ps().outsideAngular))}function cs(w){return Ps(),function fa(w){return function(k){return(k=k.lift(new Ll(w.ngZone))).pipe((0,ls.R)(w.outsideAngular),(0,Ii.Q)(w.insideAngular))}}(Ps())(w)}},2090:(qe,Ie,F)=>{"use strict";F.d(Ie,{BH:()=>Ve,LL:()=>fe,ZR:()=>ke,gQ:()=>_i,zI:()=>ae,hu:()=>te,g5:()=>O,US:()=>me,tV:()=>ce,h$:()=>ne,$s:()=>St,r3:()=>tr,Sg:()=>Ae,ne:()=>rr,p$:()=>G,vZ:()=>jn,ZB:()=>H,gK:()=>it,pd:()=>Yr,m9:()=>Ri,z$:()=>Me,GJ:()=>Pt,jU:()=>de,ru:()=>Se,xb:()=>At,w1:()=>ge,hl:()=>oe,uI:()=>Be,UG:()=>Q,Yr:()=>He,b$:()=>xe,w9:()=>Hn,cI:()=>fn,UI:()=>nr,xO:()=>ti,zd:()=>ir,DV:()=>Ot,ug:()=>Et,dS:()=>Gn,Pz:()=>Ke,Dv:()=>qr,Wj:()=>bt,lb:()=>qt,eu:()=>X});const te=function(B,z){if(!B)throw O(z)},O=function(B){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+B)},_e=function(B){const z=[];let $=0;for(let Ee=0;Ee<B.length;Ee++){let re=B.charCodeAt(Ee);re<128?z[$++]=re:re<2048?(z[$++]=re>>6|192,z[$++]=63&re|128):55296==(64512&re)&&Ee+1<B.length&&56320==(64512&B.charCodeAt(Ee+1))?(re=65536+((1023&re)<<10)+(1023&B.charCodeAt(++Ee)),z[$++]=re>>18|240,z[$++]=re>>12&63|128,z[$++]=re>>6&63|128,z[$++]=63&re|128):(z[$++]=re>>12|224,z[$++]=re>>6&63|128,z[$++]=63&re|128)}return z},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(B,z){if(!Array.isArray(B))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ee=[];for(let re=0;re<B.length;re+=3){const Ge=B[re],rt=re+1<B.length,zt=rt?B[re+1]:0,Kt=re+2<B.length,Qt=Kt?B[re+2]:0;let Tn=(15&zt)<<2|Qt>>6,ni=63&Qt;Kt||(ni=64,rt||(Tn=64)),Ee.push($[Ge>>2],$[(3&Ge)<<4|zt>>4],$[Tn],$[ni])}return Ee.join("")},encodeString(B,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(B):this.encodeByteArray(_e(B),z)},decodeString(B,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(B):function(B){const z=[];let $=0,Ee=0;for(;$<B.length;){const re=B[$++];if(re<128)z[Ee++]=String.fromCharCode(re);else if(re>191&&re<224){const Ge=B[$++];z[Ee++]=String.fromCharCode((31&re)<<6|63&Ge)}else if(re>239&&re<365){const Kt=((7&re)<<18|(63&B[$++])<<12|(63&B[$++])<<6|63&B[$++])-65536;z[Ee++]=String.fromCharCode(55296+(Kt>>10)),z[Ee++]=String.fromCharCode(56320+(1023&Kt))}else{const Ge=B[$++],rt=B[$++];z[Ee++]=String.fromCharCode((15&re)<<12|(63&Ge)<<6|63&rt)}}return z.join("")}(this.decodeStringToByteArray(B,z))},decodeStringToByteArray(B,z){this.init_();const $=z?this.charToByteMapWebSafe_:this.charToByteMap_,Ee=[];for(let re=0;re<B.length;){const Ge=$[B.charAt(re++)],zt=re<B.length?$[B.charAt(re)]:0;++re;const Qt=re<B.length?$[B.charAt(re)]:64;++re;const Ct=re<B.length?$[B.charAt(re)]:64;if(++re,null==Ge||null==zt||null==Qt||null==Ct)throw Error();Ee.push(Ge<<2|zt>>4),64!==Qt&&(Ee.push(zt<<4&240|Qt>>2),64!==Ct&&Ee.push(Qt<<6&192|Ct))}return Ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let B=0;B<this.ENCODED_VALS.length;B++)this.byteToCharMap_[B]=this.ENCODED_VALS.charAt(B),this.charToByteMap_[this.byteToCharMap_[B]]=B,this.byteToCharMapWebSafe_[B]=this.ENCODED_VALS_WEBSAFE.charAt(B),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[B]]=B,B>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(B)]=B,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(B)]=B)}}},ne=function(B){const z=_e(B);return me.encodeByteArray(z,!0)},pe=function(B){return ne(B).replace(/\./g,"")},ce=function(B){try{return me.decodeString(B,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function G(B){return H(void 0,B)}function H(B,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===B&&(B={});break;case Array:B=[];break;default:return z}for(const $ in z)!z.hasOwnProperty($)||!ee($)||(B[$]=H(B[$],z[$]));return B}function ee(B){return"__proto__"!==B}class Ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,$)=>{this.resolve=z,this.reject=$})}wrapCallback(z){return($,Ee)=>{$?this.reject($):this.resolve(Ee),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z($):z($,Ee))}}}function Ae(B,z){if(B.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ee=z||"demo-project",re=B.iat||0,Ge=B.sub||B.user_id;if(!Ge)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const rt=Object.assign({iss:`https://securetoken.google.com/${Ee}`,aud:Ee,iat:re,exp:re+3600,auth_time:re,sub:Ge,user_id:Ge,firebase:{sign_in_provider:"custom",identities:{}}},B);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(rt)),""].join(".")}function Me(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Be(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Me())}function Q(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(B){return!1}}function de(){return"object"==typeof self&&self.self===self}function Se(){const B="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof B&&void 0!==B.id}function xe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ge(){const B=Me();return B.indexOf("MSIE ")>=0||B.indexOf("Trident/")>=0}function He(){return!1}function oe(){return"object"==typeof indexedDB}function X(){return new Promise((B,z)=>{try{let $=!0;const Ee="validate-browser-context-for-indexeddb-analytics-module",re=self.indexedDB.open(Ee);re.onsuccess=()=>{re.result.close(),$||self.indexedDB.deleteDatabase(Ee),B(!0)},re.onupgradeneeded=()=>{$=!1},re.onerror=()=>{var Ge;z((null===(Ge=re.error)||void 0===Ge?void 0:Ge.message)||"")}}catch($){z($)}})}function ae(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ke extends Error{constructor(z,$,Ee){super($),this.code=z,this.customData=Ee,this.name="FirebaseError",Object.setPrototypeOf(this,ke.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fe.prototype.create)}}class fe{constructor(z,$,Ee){this.service=z,this.serviceName=$,this.errors=Ee}create(z,...$){const Ee=$[0]||{},re=`${this.service}/${z}`,Ge=this.errors[z],rt=Ge?function dt(B,z){return B.replace(xt,($,Ee)=>{const re=z[Ee];return null!=re?String(re):`<${Ee}?>`})}(Ge,Ee):"Error";return new ke(re,`${this.serviceName}: ${rt} (${re}).`,Ee)}}const xt=/\{\$([^}]+)}/g;function fn(B){return JSON.parse(B)}function Ke(B){return JSON.stringify(B)}const Je=function(B){let z={},$={},Ee={},re="";try{const Ge=B.split(".");z=fn(ce(Ge[0])||""),$=fn(ce(Ge[1])||""),re=Ge[2],Ee=$.d||{},delete $.d}catch(Ge){}return{header:z,claims:$,data:Ee,signature:re}},Hn=function(B){const $=Je(B).claims;return!!$&&"object"==typeof $&&$.hasOwnProperty("iat")},Pt=function(B){const z=Je(B).claims;return"object"==typeof z&&!0===z.admin};function tr(B,z){return Object.prototype.hasOwnProperty.call(B,z)}function Ot(B,z){if(Object.prototype.hasOwnProperty.call(B,z))return B[z]}function At(B){for(const z in B)if(Object.prototype.hasOwnProperty.call(B,z))return!1;return!0}function nr(B,z,$){const Ee={};for(const re in B)Object.prototype.hasOwnProperty.call(B,re)&&(Ee[re]=z.call($,B[re],re,B));return Ee}function jn(B,z){if(B===z)return!0;const $=Object.keys(B),Ee=Object.keys(z);for(const re of $){if(!Ee.includes(re))return!1;const Ge=B[re],rt=z[re];if(Wr(Ge)&&Wr(rt)){if(!jn(Ge,rt))return!1}else if(Ge!==rt)return!1}for(const re of Ee)if(!$.includes(re))return!1;return!0}function Wr(B){return null!==B&&"object"==typeof B}function ti(B){const z=[];for(const[$,Ee]of Object.entries(B))Array.isArray(Ee)?Ee.forEach(re=>{z.push(encodeURIComponent($)+"="+encodeURIComponent(re))}):z.push(encodeURIComponent($)+"="+encodeURIComponent(Ee));return z.length?"&"+z.join("&"):""}function ir(B){const z={};return B.replace(/^\?/,"").split("&").forEach(Ee=>{if(Ee){const[re,Ge]=Ee.split("=");z[decodeURIComponent(re)]=decodeURIComponent(Ge)}}),z}function Yr(B){const z=B.indexOf("?");if(!z)return"";const $=B.indexOf("#",z);return B.substring(z,$>0?$:void 0)}class _i{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let z=1;z<this.blockSize;++z)this.pad_[z]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(z,$){$||($=0);const Ee=this.W_;if("string"==typeof z)for(let Ct=0;Ct<16;Ct++)Ee[Ct]=z.charCodeAt($)<<24|z.charCodeAt($+1)<<16|z.charCodeAt($+2)<<8|z.charCodeAt($+3),$+=4;else for(let Ct=0;Ct<16;Ct++)Ee[Ct]=z[$]<<24|z[$+1]<<16|z[$+2]<<8|z[$+3],$+=4;for(let Ct=16;Ct<80;Ct++){const Tn=Ee[Ct-3]^Ee[Ct-8]^Ee[Ct-14]^Ee[Ct-16];Ee[Ct]=4294967295&(Tn<<1|Tn>>>31)}let Qt,bi,re=this.chain_[0],Ge=this.chain_[1],rt=this.chain_[2],zt=this.chain_[3],Kt=this.chain_[4];for(let Ct=0;Ct<80;Ct++){Ct<40?Ct<20?(Qt=zt^Ge&(rt^zt),bi=1518500249):(Qt=Ge^rt^zt,bi=1859775393):Ct<60?(Qt=Ge&rt|zt&(Ge|rt),bi=2400959708):(Qt=Ge^rt^zt,bi=3395469782);const Tn=(re<<5|re>>>27)+Qt+Kt+bi+Ee[Ct]&4294967295;Kt=zt,zt=rt,rt=4294967295&(Ge<<30|Ge>>>2),Ge=re,re=Tn}this.chain_[0]=this.chain_[0]+re&4294967295,this.chain_[1]=this.chain_[1]+Ge&4294967295,this.chain_[2]=this.chain_[2]+rt&4294967295,this.chain_[3]=this.chain_[3]+zt&4294967295,this.chain_[4]=this.chain_[4]+Kt&4294967295}update(z,$){if(null==z)return;void 0===$&&($=z.length);const Ee=$-this.blockSize;let re=0;const Ge=this.buf_;let rt=this.inbuf_;for(;re<$;){if(0===rt)for(;re<=Ee;)this.compress_(z,re),re+=this.blockSize;if("string"==typeof z){for(;re<$;)if(Ge[rt]=z.charCodeAt(re),++rt,++re,rt===this.blockSize){this.compress_(Ge),rt=0;break}}else for(;re<$;)if(Ge[rt]=z[re],++rt,++re,rt===this.blockSize){this.compress_(Ge),rt=0;break}}this.inbuf_=rt,this.total_+=$}digest(){const z=[];let $=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let re=this.blockSize-1;re>=56;re--)this.buf_[re]=255&$,$/=256;this.compress_(this.buf_);let Ee=0;for(let re=0;re<5;re++)for(let Ge=24;Ge>=0;Ge-=8)z[Ee]=this.chain_[re]>>Ge&255,++Ee;return z}}function rr(B,z){const $=new at(B,z);return $.subscribe.bind($)}class at{constructor(z,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{z(this)}).catch(Ee=>{this.error(Ee)})}next(z){this.forEachObserver($=>{$.next(z)})}error(z){this.forEachObserver($=>{$.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,$,Ee){let re;if(void 0===z&&void 0===$&&void 0===Ee)throw new Error("Missing Observer.");re=function An(B,z){if("object"!=typeof B||null===B)return!1;for(const $ of z)if($ in B&&"function"==typeof B[$])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:$,complete:Ee},void 0===re.next&&(re.next=pn),void 0===re.error&&(re.error=pn),void 0===re.complete&&(re.complete=pn);const Ge=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?re.error(this.finalError):re.complete()}catch(rt){}}),this.observers.push(re),Ge}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,z)}sendOne(z,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{$(this.observers[z])}catch(Ee){"undefined"!=typeof console&&console.error&&console.error(Ee)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pn(){}const qr=function(B,z,$,Ee){let re;if(Ee<z?re="at least "+z:Ee>$&&(re=0===$?"none":"no more than "+$),re)throw new Error(B+" failed: Was called with "+Ee+(1===Ee?" argument.":" arguments.")+" Expects "+re+".")};function it(B,z){return`${B} failed: ${z} argument `}function bt(B,z,$,Ee){if((!Ee||$)&&"function"!=typeof $)throw new Error(it(B,z)+"must be a valid function.")}function qt(B,z,$,Ee){if((!Ee||$)&&("object"!=typeof $||null===$))throw new Error(it(B,z)+"must be a valid context object.")}const Gn=function(B){const z=[];let $=0;for(let Ee=0;Ee<B.length;Ee++){let re=B.charCodeAt(Ee);if(re>=55296&&re<=56319){const Ge=re-55296;Ee++,te(Ee<B.length,"Surrogate pair missing trail surrogate."),re=65536+(Ge<<10)+(B.charCodeAt(Ee)-56320)}re<128?z[$++]=re:re<2048?(z[$++]=re>>6|192,z[$++]=63&re|128):re<65536?(z[$++]=re>>12|224,z[$++]=re>>6&63|128,z[$++]=63&re|128):(z[$++]=re>>18|240,z[$++]=re>>12&63|128,z[$++]=re>>6&63|128,z[$++]=63&re|128)}return z},Et=function(B){let z=0;for(let $=0;$<B.length;$++){const Ee=B.charCodeAt($);Ee<128?z++:Ee<2048?z+=2:Ee>=55296&&Ee<=56319?(z+=4,$++):z+=3}return z};function St(B,z=1e3,$=2){const Ee=z*Math.pow($,B),re=Math.round(.5*Ee*(Math.random()-.5)*2);return Math.min(144e5,Ee+re)}function Ri(B){return B&&B._delegate?B._delegate:B}},5818:(qe,Ie,F)=>{"use strict";var d=F(5e3);let te=null;function O(){return te}const ne=new d.OlP("DocumentToken");let pe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function ce(){return(0,d.LFG)(H)}()},providedIn:"platform"}),n})(),H=(()=>{class n extends pe{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(e){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,o){ee()?this._history.pushState(e,i,o):this.location.hash=o}replaceState(e,i,o){ee()?this._history.replaceState(e,i,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Ve(){return new H((0,d.LFG)(ne))}()},providedIn:"platform"}),n})();function ee(){return!!window.history.pushState}function Ae(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Me(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Be(n){return n&&"?"!==n[0]?"?"+n:n}let Q=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function de(n){const t=(0,d.LFG)(ne).location;return new xe((0,d.LFG)(pe),t&&t.origin||"")}()},providedIn:"root"}),n})();const Se=new d.OlP("appBaseHref");let xe=(()=>{class n extends Q{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ae(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Be(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${i}${o}`:i}pushState(e,i,o,l){const f=this.prepareExternalUrl(o+Be(l));this._platformLocation.pushState(e,i,f)}replaceState(e,i,o,l){const f=this.prepareExternalUrl(o+Be(l));this._platformLocation.replaceState(e,i,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,o;null===(o=(i=this._platformLocation).historyGo)||void 0===o||o.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(pe),d.LFG(Se,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),ge=(()=>{class n{constructor(e,i){this._subject=new d.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const o=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Me(je(o)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Be(i))}normalize(e){return n.stripTrailingSlash(function He(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,je(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",o=null){this._platformStrategy.pushState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Be(i)),o)}replaceState(e,i="",o=null){this._platformStrategy.replaceState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Be(i)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,o;null===(o=(i=this._platformStrategy).historyGo)||void 0===o||o.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(o=>o(e,i))}subscribe(e,i,o){return this._subject.subscribe({next:e,error:i,complete:o})}}return n.normalizeQueryParams=Be,n.joinWithSlash=Ae,n.stripTrailingSlash=Me,n.\u0275fac=function(e){return new(e||n)(d.LFG(Q),d.LFG(pe))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function be(){return new ge((0,d.LFG)(Q),(0,d.LFG)(pe))}()},providedIn:"root"}),n})();function je(n){return n.replace(/\/index.html$/,"")}var ae=(()=>((ae=ae||{})[ae.Zero=0]="Zero",ae[ae.One=1]="One",ae[ae.Two=2]="Two",ae[ae.Few=3]="Few",ae[ae.Many=4]="Many",ae[ae.Other=5]="Other",ae))();const Yr=d.kL8;class kt{}let an=(()=>{class n extends kt{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(Yr(i||this.locale)(e)){case ae.Zero:return"zero";case ae.One:return"one";case ae.Two:return"two";case ae.Few:return"few";case ae.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(d.soG))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Cs(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[o,l]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(o.trim()===t)return decodeURIComponent(l)}return null}let si=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Nt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){wc("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){wc("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Nt{constructor(){this.$implicit=null,this.ngIf=null}}function wc(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(t)}'.`)}let pl=(()=>{class n{constructor(e,i,o){this._ngEl=e,this._differs=i,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[o,l]=e.split(".");null!=(i=null!=i&&l?`${i}${l}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,o,i):this._renderer.removeStyle(this._ngEl.nativeElement,o)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.SBq),d.Y36(d.aQg),d.Y36(d.Qsj))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();class Ac{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class sf{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}onDestroy(t){}}const wr=new sf,af=new Ac;let ml=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,d.QGY)(e))return wr;if((0,d.F4k)(e))return af;throw function _n(n,t){return new d.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.sBO,16))},n.\u0275pipe=d.Yjl({name:"async",type:n,pure:!1}),n})(),Wi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[{provide:kt,useClass:an}]}),n})();const xc="browser";class $t{}class Jr extends class zo extends class me{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ie(n){te||(te=n)}(new Jr)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Fa(){return Lt=Lt||document.querySelector("base"),Lt?Lt.getAttribute("href"):null}();return null==e?null:function As(n){$o=$o||document.createElement("a"),$o.setAttribute("href",n);const t=$o.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Lt=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Cs(document.cookie,t)}}let $o,Lt=null;const On=new d.OlP("TRANSITION_ID"),ln=[{provide:d.ip1,useFactory:function Na(n,t,e){return()=>{e.get(d.CZH).donePromise.then(()=>{const i=O(),o=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<o.length;l++)i.remove(o[l])})}},deps:[On,ne,d.zs3],multi:!0}];class Tr{static init(){(0,d.VLi)(new Tr)}addToWindow(t){d.dqk.getAngularTestability=(i,o=!0)=>{const l=t.findTestabilityInTree(i,o);if(null==l)throw new Error("Could not find testability for element.");return l},d.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(i=>{const o=d.dqk.getAllAngularTestabilities();let l=o.length,f=!1;const g=function(b){f=f||b,l--,0==l&&i(f)};o.forEach(function(b){b.whenStable(g)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const o=t.getTestability(e);return null!=o?o:i?O().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Fn=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const oo=new d.OlP("EventManagerPlugins");let sr=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(o=>o.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,o){return this._findPluginFor(i).addEventListener(e,i,o)}addGlobalEventListener(e,i,o){return this._findPluginFor(i).addGlobalEventListener(e,i,o)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const o=this._plugins;for(let l=0;l<o.length;l++){const f=o[l];if(f.supports(e))return this._eventNameToPlugin.set(e,f),f}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(oo),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class bl{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const o=O().getGlobalEventTarget(this._doc,t);if(!o)throw new Error(`Unsupported event target ${o} for event ${e}`);return this.addEventListener(o,e,i)}}let wi=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),i.add(o))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),es=(()=>{class n extends wi{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,o){e.forEach(l=>{const f=this._doc.createElement("style");f.textContent=l,o.push(i.appendChild(f))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(ts),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,o)=>{this._addStylesToHost(e,o,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(ts))}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function ts(n){O().remove(n)}const tt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Wo=/%COMP%/g;function De(n,t,e){for(let i=0;i<t.length;i++){let o=t[i];Array.isArray(o)?De(n,o,e):(o=o.replace(Wo,n),e.push(o))}return e}function Dt(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let nn=(()=>{class n{constructor(e,i,o){this.eventManager=e,this.sharedStylesHost=i,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new ns(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case d.ifc.Emulated:{let o=this.rendererByCompId.get(i.id);return o||(o=new Cl(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,o)),o.applyToHost(e),o}case 1:case d.ifc.ShadowDom:return new wl(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const o=De(i.id,i.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(sr),d.LFG(es),d.LFG(d.AFp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class ns{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(tt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,o){if(o){e=o+":"+e;const l=tt[o];l?t.setAttributeNS(l,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const o=tt[i];o?t.removeAttributeNS(o,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,o){o&(d.JOm.DashCase|d.JOm.Important)?t.style.setProperty(e,i,o&d.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&d.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Dt(i)):this.eventManager.addEventListener(t,e,Dt(i))}}class Cl extends ns{constructor(t,e,i,o){super(t),this.component=i;const l=De(o+"-"+i.id,i.styles,[]);e.addStyles(l),this.contentAttr=function Ko(n){return"_ngcontent-%COMP%".replace(Wo,n)}(o+"-"+i.id),this.hostAttr=function rd(n){return"_nghost-%COMP%".replace(Wo,n)}(o+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class wl extends ns{constructor(t,e,i,o){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=De(o.id,o.styles,[]);for(let f=0;f<l.length;f++){const g=document.createElement("style");g.textContent=l[f],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Fc=(()=>{class n extends bl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,o){return e.addEventListener(i,o,!1),()=>this.removeEventListener(e,i,o)}removeEventListener(e,i,o){return e.removeEventListener(i,o)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Nc=["alt","control","meta","shift"],ao={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Yi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Dl=(()=>{class n extends bl{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,o){const l=n.parseEventName(i),f=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(e,l.domEventName,f))}static parseEventName(e){const i=e.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const l=n._normalizeKey(i.pop());let f="";if(Nc.forEach(b=>{const D=i.indexOf(b);D>-1&&(i.splice(D,1),f+=b+".")}),f+=l,0!=i.length||0===l.length)return null;const g={};return g.domEventName=o,g.fullKey=f,g}static getEventFullKey(e){let i="",o=function or(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&kn.hasOwnProperty(t)&&(t=kn[t]))}return ao[t]||t}(e);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Nc.forEach(l=>{l!=o&&Yi[l](e)&&(i+=l+".")}),i+=o,i}static eventCallback(e,i,o){return l=>{n.getEventFullKey(l)===e&&o.runGuarded(()=>i(l))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Vc=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:xc},{provide:d.g9A,useValue:function Sr(){Jr.makeCurrent(),Tr.init()},multi:!0},{provide:ne,useFactory:function Lc(){return(0,d.RDi)(document),document},deps:[]}]),Ts=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function Jo(){return new d.qLn},deps:[]},{provide:oo,useClass:Fc,multi:!0,deps:[ne,d.R0b,d.Lbi]},{provide:oo,useClass:Dl,multi:!0,deps:[ne]},{provide:nn,useClass:nn,deps:[sr,es,d.AFp]},{provide:d.FYo,useExisting:nn},{provide:wi,useExisting:es},{provide:es,useClass:es,deps:[ne]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b]},{provide:sr,useClass:sr,deps:[oo,d.R0b]},{provide:$t,useClass:Fn,deps:[]}];let La=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:d.AFp,useValue:e.appId},{provide:On,useExisting:d.AFp},ln]}}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(n,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:Ts,imports:[Wi,d.hGG]}),n})();"undefined"!=typeof window&&window;let is=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):d.LFG(Hc),i},providedIn:"root"}),n})(),Hc=(()=>{class n extends is{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case d.q3G.NONE:return i;case d.q3G.HTML:return(0,d.qzn)(i,"HTML")?(0,d.z3N)(i):(0,d.EiD)(this._doc,String(i)).toString();case d.q3G.STYLE:return(0,d.qzn)(i,"Style")?(0,d.z3N)(i):i;case d.q3G.SCRIPT:if((0,d.qzn)(i,"Script"))return(0,d.z3N)(i);throw new Error("unsafe value used in a script context");case d.q3G.URL:return(0,d.yhl)(i),(0,d.qzn)(i,"URL")?(0,d.z3N)(i):(0,d.mCW)(String(i));case d.q3G.RESOURCE_URL:if((0,d.qzn)(i,"ResourceURL"))return(0,d.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,d.JVY)(e)}bypassSecurityTrustStyle(e){return(0,d.L6k)(e)}bypassSecurityTrustScript(e){return(0,d.eBb)(e)}bypassSecurityTrustUrl(e){return(0,d.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,d.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function ra(n){return new Hc(n.get(ne))}(d.LFG(d.zs3)),i},providedIn:"root"}),n})();var cd=F(3269),lr=F(8996);function Ft(...n){const t=(0,cd.yG)(n);return(0,lr.D)(n,t)}var Rn=F(8306),sa=F(5577),Di=F(576),li=F(4482),yt=F(5403);function rs(n,t){return(0,li.e)((e,i)=>{let o=0;e.subscribe((0,yt.x)(i,l=>n.call(t,l,o++)&&i.next(l)))})}var Vt=F(4004);class uo{}class ss{}class cr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const o=e.slice(0,i),l=o.toLowerCase(),f=e.slice(i+1).trim();this.maybeSetNormalizedName(o,l),this.headers.has(l)?this.headers.get(l).push(f):this.headers.set(l,[f])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const o=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(o,i),this.maybeSetNormalizedName(e,o))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof cr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new cr;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof cr?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const o=("a"===t.op?this.headers.get(e):void 0)||[];o.push(...i),this.headers.set(e,o);break;case"d":const l=t.value;if(l){let f=this.headers.get(e);if(!f)return;f=f.filter(g=>-1===l.indexOf(g)),0===f.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,f)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class jc{encodeKey(t){return Rr(t)}encodeValue(t){return Rr(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const ud=/%(\d[a-f0-9])/gi,Ua={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Rr(n){return encodeURIComponent(n).replace(ud,(t,e)=>{var i;return null!==(i=Ua[e])&&void 0!==i?i:t})}function os(n){return`${n}`}class Kn{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new jc,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ml(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const l=o.indexOf("="),[f,g]=-1==l?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,l)),t.decodeValue(o.slice(l+1))],b=e.get(f)||[];b.push(g),e.set(f,b)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const o=t[i];Array.isArray(o)?o.forEach(l=>{e.push({param:i,value:l,op:"a"})}):e.push({param:i,value:o,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Kn({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(os(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const o=i.indexOf(os(t.value));-1!==o&&i.splice(o,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class ci{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function ho(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function fo(n){return"undefined"!=typeof Blob&&n instanceof Blob}function po(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Pr{constructor(t,e,i,o){let l;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function kl(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==i?i:null,l=o):l=i,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new cr),this.context||(this.context=new ci),this.params){const f=this.params.toString();if(0===f.length)this.urlWithParams=e;else{const g=e.indexOf("?");this.urlWithParams=e+(-1===g?"?":g<e.length-1?"&":"")+f}}else this.params=new Kn,this.urlWithParams=e}serializeBody(){return null===this.body?null:ho(this.body)||fo(this.body)||po(this.body)||function Ha(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Kn?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||po(this.body)?null:fo(this.body)?this.body.type||null:ho(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Kn?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,o=t.url||this.url,l=t.responseType||this.responseType,f=void 0!==t.body?t.body:this.body,g=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,b=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let D=t.headers||this.headers,M=t.params||this.params;const P=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(D=Object.keys(t.setHeaders).reduce((U,Y)=>U.set(Y,t.setHeaders[Y]),D)),t.setParams&&(M=Object.keys(t.setParams).reduce((U,Y)=>U.set(Y,t.setParams[Y]),M)),new Pr(i,o,f,{params:M,headers:D,context:P,reportProgress:b,responseType:l,withCredentials:g})}}var rn=(()=>((rn=rn||{})[rn.Sent=0]="Sent",rn[rn.UploadProgress=1]="UploadProgress",rn[rn.ResponseHeader=2]="ResponseHeader",rn[rn.DownloadProgress=3]="DownloadProgress",rn[rn.Response=4]="Response",rn[rn.User=5]="User",rn))();class ja{constructor(t,e=200,i="OK"){this.headers=t.headers||new cr,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Li extends ja{constructor(t={}){super(t),this.type=rn.ResponseHeader}clone(t={}){return new Li({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Ga extends ja{constructor(t={}){super(t),this.type=rn.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Ga({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Rl extends ja{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function mo(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let ur=(()=>{class n{constructor(e){this.handler=e}request(e,i,o={}){let l;if(e instanceof Pr)l=e;else{let b,D;b=o.headers instanceof cr?o.headers:new cr(o.headers),o.params&&(D=o.params instanceof Kn?o.params:new Kn({fromObject:o.params})),l=new Pr(e,i,void 0!==o.body?o.body:null,{headers:b,context:o.context,params:D,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const f=Ft(l).pipe(function xs(n,t){return(0,Di.m)(t)?(0,sa.z)(n,t,1):(0,sa.z)(n,1)}(b=>this.handler.handle(b)));if(e instanceof Pr||"events"===o.observe)return f;const g=f.pipe(rs(b=>b instanceof Ga));switch(o.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return g.pipe((0,Vt.U)(b=>{if(null!==b.body&&!(b.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return b.body}));case"blob":return g.pipe((0,Vt.U)(b=>{if(null!==b.body&&!(b.body instanceof Blob))throw new Error("Response is not a Blob.");return b.body}));case"text":return g.pipe((0,Vt.U)(b=>{if(null!==b.body&&"string"!=typeof b.body)throw new Error("Response is not a string.");return b.body}));default:return g.pipe((0,Vt.U)(b=>b.body))}case"response":return g;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Kn).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,o={}){return this.request("PATCH",e,mo(o,i))}post(e,i,o={}){return this.request("POST",e,mo(o,i))}put(e,i,o={}){return this.request("PUT",e,mo(o,i))}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(uo))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class oa{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const aa=new d.OlP("HTTP_INTERCEPTORS");let go=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Ol=/^\)\]\}',?\n/;let gf=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Rn.y(i=>{const o=this.xhrFactory.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((Y,J)=>o.setRequestHeader(Y,J.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const Y=e.detectContentTypeHeader();null!==Y&&o.setRequestHeader("Content-Type",Y)}if(e.responseType){const Y=e.responseType.toLowerCase();o.responseType="json"!==Y?Y:"text"}const l=e.serializeBody();let f=null;const g=()=>{if(null!==f)return f;const Y=o.statusText||"OK",J=new cr(o.getAllResponseHeaders()),Te=function un(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||e.url;return f=new Li({headers:J,status:o.status,statusText:Y,url:Te}),f},b=()=>{let{headers:Y,status:J,statusText:Te,url:Fe}=g(),Ze=null;204!==J&&(Ze=void 0===o.response?o.responseText:o.response),0===J&&(J=Ze?200:0);let lt=J>=200&&J<300;if("json"===e.responseType&&"string"==typeof Ze){const ft=Ze;Ze=Ze.replace(Ol,"");try{Ze=""!==Ze?JSON.parse(Ze):null}catch(Qe){Ze=ft,lt&&(lt=!1,Ze={error:Qe,text:Ze})}}lt?(i.next(new Ga({body:Ze,headers:Y,status:J,statusText:Te,url:Fe||void 0})),i.complete()):i.error(new Rl({error:Ze,headers:Y,status:J,statusText:Te,url:Fe||void 0}))},D=Y=>{const{url:J}=g(),Te=new Rl({error:Y,status:o.status||0,statusText:o.statusText||"Unknown Error",url:J||void 0});i.error(Te)};let M=!1;const P=Y=>{M||(i.next(g()),M=!0);let J={type:rn.DownloadProgress,loaded:Y.loaded};Y.lengthComputable&&(J.total=Y.total),"text"===e.responseType&&!!o.responseText&&(J.partialText=o.responseText),i.next(J)},U=Y=>{let J={type:rn.UploadProgress,loaded:Y.loaded};Y.lengthComputable&&(J.total=Y.total),i.next(J)};return o.addEventListener("load",b),o.addEventListener("error",D),o.addEventListener("timeout",D),o.addEventListener("abort",D),e.reportProgress&&(o.addEventListener("progress",P),null!==l&&o.upload&&o.upload.addEventListener("progress",U)),o.send(l),i.next({type:rn.Sent}),()=>{o.removeEventListener("error",D),o.removeEventListener("abort",D),o.removeEventListener("load",b),o.removeEventListener("timeout",D),e.reportProgress&&(o.removeEventListener("progress",P),null!==l&&o.upload&&o.upload.removeEventListener("progress",U)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(d.LFG($t))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const fd=new d.OlP("XSRF_COOKIE_NAME"),pd=new d.OlP("XSRF_HEADER_NAME");class Gc{}let md=(()=>{class n{constructor(e,i,o){this.doc=e,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Cs(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(ne),d.LFG(d.Lbi),d.LFG(fd))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Fl=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const o=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||o.startsWith("http://")||o.startsWith("https://"))return i.handle(e);const l=this.tokenService.getToken();return null!==l&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,l)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(Gc),d.LFG(pd))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),_f=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(aa,[]);this.chain=i.reduceRight((o,l)=>new oa(o,l),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(ss),d.LFG(d.zs3))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),dn=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Fl,useClass:go}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:fd,useValue:e.cookieName}:[],e.headerName?{provide:pd,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Fl,{provide:aa,useExisting:Fl,multi:!0},{provide:Gc,useClass:md},{provide:fd,useValue:"XSRF-TOKEN"},{provide:pd,useValue:"X-XSRF-TOKEN"}]}),n})(),Nl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[ur,{provide:uo,useClass:_f},gf,{provide:ss,useExisting:gf}],imports:[[dn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();var Vn=F(2011),Pn=F(4986),ls=F(8421);function Wn(n,t){return(0,li.e)((e,i)=>{let o=null,l=0,f=!1;const g=()=>f&&!o&&i.complete();e.subscribe((0,yt.x)(i,b=>{null==o||o.unsubscribe();let D=0;const M=l++;(0,ls.Xf)(n(b,M)).subscribe(o=(0,yt.x)(i,P=>i.next(t?t(b,P,M,D++):P),()=>{o=null,g()}))},()=>{f=!0,g()}))})}var Bt=F(5813),qi=F(3942),Zn=F(5861),Ai=F(9681),N=F(2090),dr=F(4859);const Rs="firebasestorage.googleapis.com",ui="storageBucket";class Xt extends N.ZR{constructor(t,e){super(za(t),`Firebase Storage: ${e} (${za(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xt.prototype)}_codeEquals(t){return za(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function za(n){return"storage/"+n}function hr(){return new Xt("unknown","An unknown error occurred, please check the error payload for server response.")}function ha(){return new Xt("canceled","User canceled the upload/download.")}function pa(){return new Xt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function I(n){return new Xt("invalid-argument",n)}function k(){return new Xt("app-deleted","The Firebase app was deleted.")}function V(n){return new Xt("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function q(n,t){return new Xt("invalid-format","String does not match format '"+n+"': "+t)}function se(n){throw new Xt("internal-error","Internal error: "+n)}class Ce{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Ce.makeFromUrl(t,e)}catch(o){return new Ce(t,"")}if(""===i.path)return i;throw function cs(n){return new Xt("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const o="([A-Za-z0-9.\\-_]+)",g=new RegExp("^gs://"+o+"(/(.*))?$","i");function D(Qe){Qe.path_=decodeURIComponent(Qe.path)}const P=e.replace(/[.]/g,"\\."),ft=[{regex:g,indices:{bucket:1,path:3},postModify:function l(Qe){"/"===Qe.path.charAt(Qe.path.length-1)&&(Qe.path_=Qe.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${P}/v[A-Za-z0-9_]+/b/${o}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:D},{regex:new RegExp(`^https?://${e===Rs?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${o}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:D}];for(let Qe=0;Qe<ft.length;Qe++){const gn=ft[Qe],Dn=gn.regex.exec(t);if(Dn){let zr=Dn[gn.indices.path];zr||(zr=""),i=new Ce(Dn[gn.indices.bucket],zr),gn.postModify(i);break}}if(null==i)throw function gd(n){return new Xt("invalid-url","Invalid URL '"+n+"'.")}(t);return i}}class Oe{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function sn(n){return"string"==typeof n||n instanceof String}function vo(n){return fr()&&n instanceof Blob}function fr(){return"undefined"!=typeof Blob}function Ti(n,t,e,i){if(i<t)throw I(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw I(`Invalid value for '${n}'. Expected ${e} or less.`)}function Bn(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function Si(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var pr=(()=>{return(n=pr||(pr={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",pr;var n})();class yf{constructor(t,e,i,o,l,f,g,b,D,M,P){this.url_=t,this.method_=e,this.headers_=i,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=f,this.callback_=g,this.errorCallback_=b,this.timeout_=D,this.progressCallback_=M,this.connectionFactory_=P,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((U,Y)=>{this.resolve_=U,this.reject_=Y,this.start_()})}start_(){const e=(i,o)=>{const l=this.resolve_,f=this.reject_,g=o.connection;if(o.wasSuccessCode)try{const b=this.callback_(g,g.getResponse());!function Ut(n){return void 0!==n}(b)?l():l(b)}catch(b){f(b)}else if(null!==g){const b=hr();b.serverResponse=g.getErrorText(),f(this.errorCallback_?this.errorCallback_(g,b):b)}else f(o.canceled?this.appDelete_?k():ha():function Or(){return new Xt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?e(0,new ma(!1,null,!0)):this.backoffId_=function ze(n,t,e){let i=1,o=null,l=null,f=!1,g=0;function b(){return 2===g}let D=!1;function M(...Fe){D||(D=!0,t.apply(null,Fe))}function P(Fe){o=setTimeout(()=>{o=null,n(Y,b())},Fe)}function U(){l&&clearTimeout(l)}function Y(Fe,...Ze){if(D)return void U();if(Fe)return U(),void M.call(null,Fe,...Ze);if(b()||f)return U(),void M.call(null,Fe,...Ze);let ft;i<64&&(i*=2),1===g?(g=2,ft=0):ft=1e3*(i+Math.random()),P(ft)}let J=!1;function Te(Fe){J||(J=!0,U(),!D&&(null!==o?(Fe||(g=2),clearTimeout(o),P(0)):Fe||(g=1)))}return P(0),l=setTimeout(()=>{f=!0,Te(!0)},e),Te}((i,o)=>{if(o)return void i(!1,new ma(!1,null,!0));const l=this.connectionFactory_();this.pendingConnection_=l;const f=g=>{null!==this.progressCallback_&&this.progressCallback_(g.loaded,g.lengthComputable?g.total:-1)};null!==this.progressCallback_&&l.addUploadProgressListener(f),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&l.removeUploadProgressListener(f),this.pendingConnection_=null;const g=l.getErrorCode()===pr.NO_ERROR,b=l.getStatus();if(!g||this.isRetryStatusCode_(b)){const M=l.getErrorCode()===pr.ABORT;return void i(!1,new ma(!1,null,M))}const D=-1!==this.successCodes_.indexOf(b);i(!0,new ma(D,l))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function Tt(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,o=-1!==[408,429].indexOf(t),l=-1!==this.additionalRetryCodes_.indexOf(t);return e||o||l}}class ma{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function ym(...n){const t=function Bl(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(fr())return new Blob(n);throw new Xt("unsupported-environment","This browser doesn't seem to support creating Blobs")}const di={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ef{constructor(t,e){this.data=t,this.contentType=e||null}}function yd(n,t){switch(n){case di.RAW:return new Ef(Cf(t));case di.BASE64:case di.BASE64URL:return new Ef(Ul(n,t));case di.DATA_URL:return new Ef(function Wa(n){const t=new Wc(n);return t.base64?Ul(di.BASE64,t.rest):function bm(n){let t;try{t=decodeURIComponent(n)}catch(e){throw q(di.DATA_URL,"Malformed data URL.")}return Cf(t)}(t.rest)}(t),function Em(n){return new Wc(n).contentType}(t))}throw hr()}function Cf(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function Ul(n,t){switch(n){case di.BASE64:{const o=-1!==t.indexOf("-"),l=-1!==t.indexOf("_");if(o||l)throw q(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case di.BASE64URL:{const o=-1!==t.indexOf("+"),l=-1!==t.indexOf("/");if(o||l)throw q(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function bf(n){return atob(n)}(t)}catch(o){throw q(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let o=0;o<e.length;o++)i[o]=e.charCodeAt(o);return i}class Wc{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw q(di.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function vd(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class Os{constructor(t,e){let i=0,o="";vo(t)?(this.data_=t,i=t.size,o=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=o}size(){return this.size_}type(){return this.type_}slice(t,e){if(vo(this.data_)){const o=function vm(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===o?null:new Os(o)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new Os(i,!0)}}static getBlob(...t){if(fr()){const e=t.map(i=>i instanceof Os?i.data_:i);return new Os(ym.apply(null,e))}{const e=t.map(f=>sn(f)?yd(di.RAW,f).data:f.data_);let i=0;e.forEach(f=>{i+=f.byteLength});const o=new Uint8Array(i);let l=0;return e.forEach(f=>{for(let g=0;g<f.length;g++)o[l++]=f[g]}),new Os(o,!0)}}uploadData(){return this.data_}}function Ya(n){let t;try{t=JSON.parse(n)}catch(e){return null}return function Qn(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function Ed(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function Cd(n,t){return t}class vn{constructor(t,e,i,o){this.server=t,this.local=e||t,this.writable=!!i,this.xform=o||Cd}}let Yc=null;function Hl(){if(Yc)return Yc;const n=[];n.push(new vn("bucket")),n.push(new vn("generation")),n.push(new vn("metageneration")),n.push(new vn("name","fullPath",!0));const e=new vn("name");e.xform=function t(l,f){return function Cm(n){return!sn(n)||n.length<2?n:Ed(n)}(f)},n.push(e);const o=new vn("size");return o.xform=function i(l,f){return void 0!==f?Number(f):f},n.push(o),n.push(new vn("timeCreated")),n.push(new vn("updated")),n.push(new vn("md5Hash",null,!0)),n.push(new vn("cacheControl",null,!0)),n.push(new vn("contentDisposition",null,!0)),n.push(new vn("contentEncoding",null,!0)),n.push(new vn("contentLanguage",null,!0)),n.push(new vn("contentType",null,!0)),n.push(new vn("metadata","customMetadata",!0)),Yc=n,Yc}function mr(n,t,e){const i=Ya(t);return null===i?null:function wm(n,t,e){const i={type:"file"},o=e.length;for(let l=0;l<o;l++){const f=e[l];i[f.local]=f.xform(i,t[f.server])}return function wd(n,t){Object.defineProperty(n,"ref",{get:function e(){const l=new Ce(n.bucket,n.fullPath);return t._makeStorageReference(l)}})}(i,n),i}(n,i,e)}function jl(n,t){const e={},i=t.length;for(let o=0;o<i;o++){const l=t[o];l.writable&&(e[l.server]=n[l.local])}return JSON.stringify(e)}const Df="prefixes";class Fr{constructor(t,e,i,o){this.url=t,this.method=e,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Nr(n){if(!n)throw hr()}function Kc(n,t){return function e(i,o){const l=mr(n,o,t);return Nr(null!==l),l}}function gr(n){return function t(e,i){let o;return o=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function Ps(){return new Xt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Vl(){return new Xt("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function Ll(n){return new Xt("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function da(n){return new Xt("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,o.serverResponse=i.serverResponse,o}}function Zc(n){const t=gr(n);return function e(i,o){let l=t(i,o);return 404===i.getStatus()&&(l=function $c(n){return new Xt("object-not-found","Object '"+n+"' does not exist.")}(n.path)),l.serverResponse=o.serverResponse,l}}function Af(n,t,e){const o=Bn(t.fullServerUrl(),n.host,n._protocol),f=n.maxOperationRetryTime,g=new Fr(o,"GET",Kc(n,e),f);return g.errorHandler=Zc(t),g}function ga(n,t,e,i,o){const l={};l.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(l.delimiter=e),i&&(l.pageToken=i),o&&(l.maxResults=o);const g=Bn(t.bucketOnlyServerUrl(),n.host,n._protocol),D=n.maxOperationRetryTime,M=new Fr(g,"GET",function Im(n,t){return function e(i,o){const l=function If(n,t,e){const i=Ya(e);return null===i?null:function Dm(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[Df])for(const o of e[Df]){const l=o.replace(/\/$/,""),f=n._makeStorageReference(new Ce(t,l));i.prefixes.push(f)}if(e.items)for(const o of e.items){const l=n._makeStorageReference(new Ce(t,o.name));i.items.push(l)}return i}(n,t,i)}(n,t,o);return Nr(null!==l),l}}(n,t.bucket),D);return M.urlParams=l,M.errorHandler=gr(t),M}function Id(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function Qc(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class zl{constructor(t,e,i,o){this.current=t,this.total=e,this.finalized=!!i,this.metadata=o||null}}function Sf(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch(o){Nr(!1)}return Nr(!!e&&-1!==(t||["active"]).indexOf(e)),e}const Tm={STATE_CHANGED:"state_changed"},Yn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Sd(n){switch(n){case"running":case"pausing":case"canceling":return Yn.RUNNING;case"paused":return Yn.PAUSED;case"success":return Yn.SUCCESS;case"canceled":return Yn.CANCELED;default:return Yn.ERROR}}class Sm{constructor(t,e,i){if(function yn(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=null!=e?e:void 0,this.complete=null!=i?i:void 0;else{const l=t;this.next=l.next,this.error=l.error,this.complete=l.complete}}}function Eo(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class eu extends class Mf{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=pr.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=pr.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=pr.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,o){if(this.sent_)throw se("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==o)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw se("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw se("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponse(){if(!this.sent_)throw se("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw se("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function Mi(){return new eu}class kf{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=Hl(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{this._request=void 0,this._chunkMultiplier=1,o._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=o,this._transition("error"))},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals("canceled")?this.completeTransitions_():(this._error=o,this._transition("error"))},this._promise=new Promise((o,l)=>{this._resolve=o,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function Ad(n,t,e,i,o){const l=t.bucketOnlyServerUrl(),f=Id(t,i,o),g={name:f.fullPath},b=Bn(l,n.host,n._protocol),M={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":f.contentType,"Content-Type":"application/json; charset=utf-8"},P=jl(f,e),J=new Fr(b,"POST",function Y(Te){let Fe;Sf(Te);try{Fe=Te.getResponseHeader("X-Goog-Upload-URL")}catch(Ze){Nr(!1)}return Nr(sn(Fe)),Fe},n.maxUploadRetryTime);return J.urlParams=g,J.headers=M,J.body=P,J.errorHandler=gr(t),J}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(i,Mi,t,e);this._request=o,o.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const o=function Td(n,t,e,i){const b=new Fr(e,"POST",function l(D){const M=Sf(D,["active","final"]);let P=null;try{P=D.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Y){Nr(!1)}P||Nr(!1);const U=Number(P);return Nr(!isNaN(U)),new zl(U,i.size(),"final"===M)},n.maxUploadRetryTime);return b.headers={"X-Goog-Upload-Command":"query"},b.errorHandler=gr(t),b}(this._ref.storage,this._ref._location,t,this._blob),l=this._ref.storage._makeRequest(o,Mi,e,i);this._request=l,l.getPromise().then(f=>{f=f,this._request=void 0,this._updateProgress(f.current),this._needToFetchStatus=!1,f.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new zl(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((o,l)=>{let f;try{f=function Dy(n,t,e,i,o,l,f,g){const b=new zl(0,0);if(f?(b.current=f.current,b.total=f.total):(b.current=0,b.total=i.size()),i.size()!==b.total)throw function _d(){return new Xt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const D=b.total-b.current;let M=D;o>0&&(M=Math.min(M,o));const P=b.current,J={"X-Goog-Upload-Command":M===D?"upload, finalize":"upload","X-Goog-Upload-Offset":`${b.current}`},Te=i.slice(P,P+M);if(null===Te)throw pa();const ft=new Fr(e,"POST",function Fe(Qe,gn){const Dn=Sf(Qe,["active","final"]),ki=b.current+M,zr=i.size();let Zs;return Zs="final"===Dn?Kc(t,l)(Qe,gn):null,new zl(ki,zr,"final"===Dn,Zs)},t.maxUploadRetryTime);return ft.headers=J,ft.body=Te.uploadData(),ft.progressCallback=g||null,ft.errorHandler=gr(n),ft}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(b){return this._error=b,void this._transition("error")}const g=this._ref.storage._makeRequest(f,Mi,o,l);this._request=g,g.getPromise().then(b=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(b.current),b.finalized?(this._metadata=b.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=Af(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(i,Mi,t,e);this._request=o,o.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function Am(n,t,e,i,o){const l=t.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"},b=function g(){let ft="";for(let Qe=0;Qe<2;Qe++)ft+=Math.random().toString().slice(2);return ft}();f["Content-Type"]="multipart/related; boundary="+b;const D=Id(t,i,o),M=jl(D,e),Y=Os.getBlob("--"+b+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+M+"\r\n--"+b+"\r\nContent-Type: "+D.contentType+"\r\n\r\n",i,"\r\n--"+b+"--");if(null===Y)throw pa();const J={name:D.fullPath},Te=Bn(l,n.host,n._protocol),Ze=n.maxUploadRetryTime,lt=new Fr(Te,"POST",Kc(n,e),Ze);return lt.urlParams=J,lt.headers=f,lt.body=Y.uploadData(),lt.errorHandler=gr(t),lt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(i,Mi,t,e);this._request=o,o.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=ha(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=Sd(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,o){const l=new Sm(e||void 0,i||void 0,o||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(Sd(this._state)){case Yn.SUCCESS:Eo(this._resolve.bind(null,this.snapshot))();break;case Yn.CANCELED:case Yn.ERROR:Eo(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(Sd(this._state)){case Yn.RUNNING:case Yn.PAUSED:t.next&&Eo(t.next.bind(t,this.snapshot))();break;case Yn.SUCCESS:t.complete&&Eo(t.complete.bind(t))();break;default:t.error&&Eo(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class Fs{constructor(t,e){this._service=t,this._location=e instanceof Ce?e:Ce.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Fs(t,e)}get root(){const t=new Ce(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ed(this._location.path)}get storage(){return this._service}get parent(){const t=function bd(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new Ce(this._location.bucket,t);return new Fs(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw V(t)}}function Pm(n,t,e){return Of.apply(this,arguments)}function Of(){return(Of=(0,Zn.Z)(function*(n,t,e){const o=yield Ka(n,{pageToken:e});t.prefixes.push(...o.prefixes),t.items.push(...o.items),null!=o.nextPageToken&&(yield Pm(n,t,o.nextPageToken))})).apply(this,arguments)}function Ka(n,t){null!=t&&"number"==typeof t.maxResults&&Ti("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=ga(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,Mi)}function tu(n){n._throwIfRoot("getDownloadURL");const t=function _r(n,t,e){const o=Bn(t.fullServerUrl(),n.host,n._protocol),f=n.maxOperationRetryTime,g=new Fr(o,"GET",function wy(n,t){return function e(i,o){const l=mr(n,o,t);return Nr(null!==l),function qa(n,t,e,i){const o=Ya(t);if(null===o||!sn(o.downloadTokens))return null;const l=o.downloadTokens;if(0===l.length)return null;const f=encodeURIComponent;return l.split(",").map(D=>{const P=n.fullPath;return Bn("/b/"+f(n.bucket)+"/o/"+f(P),e,i)+Si({alt:"media",token:D})})[0]}(l,o,n.host,n._protocol)}}(n,e),f);return g.errorHandler=Zc(t),g}(n.storage,n._location,Hl());return n.storage.makeRequestWithTokens(t,Mi).then(e=>{if(null===e)throw function w(){return new Xt("no-download-url","The given file does not have any download URLs.")}();return e})}function Xn(n,t){const e=function wf(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new Ce(n._location.bucket,e);return new Fs(n.storage,i)}function Vi(n,t){if(n instanceof Za){const e=n;if(null==e._bucket)throw function fa(){return new Xt("no-default-bucket","No default bucket found. Did you set the '"+ui+"' property when initializing the app?")}();const i=new Fs(e,e._bucket);return null!=t?Vi(i,t):i}return void 0!==t?Xn(n,t):n}function Yl(n,t){if(t&&function _a(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof Za)return function kd(n,t){return new Fs(n,t)}(n,t);throw I("To use ref(service, url), the first argument must be a Storage instance.")}return Vi(n,t)}function nu(n,t){const e=null==t?void 0:t[ui];return null==e?null:Ce.makeFromBucketSpec(e,n)}class Za{constructor(t,e,i,o,l){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=Rs,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=o?Ce.makeFromBucketSpec(o,this._host):nu(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Ce.makeFromBucketSpec(this._url,t):nu(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Ti("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Ti("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,Zn.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,Zn.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Fs(this,t)}_makeRequest(t,e,i,o){if(this._deleted)return new Oe(k());{const l=function bo(n,t,e,i,o,l){const f=Si(n.urlParams),g=n.url+f,b=Object.assign({},n.headers);return function gm(n,t){t&&(n["X-Firebase-GMPID"]=t)}(b,t),function $a(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(b,e),function vf(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(b,l),function _m(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(b,i),new yf(g,n.method,b,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o)}(t,this._appId,i,o,e,this._firebaseVersion);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(t,e){var i=this;return(0,Zn.Z)(function*(){const[o,l]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,o,l).getPromise()})()}}const iu="@firebase/storage";function Nf(n,t){return Yl(n=(0,N.m9)(n),t)}function Vd(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new Za(e,i,o,t,Ai.SDK_VERSION)}!function Bm(){(0,Ai._registerComponent)(new dr.wA("storage",Vd,"PUBLIC").setMultipleInstances(!0)),(0,Ai.registerVersion)(iu,"0.9.2",""),(0,Ai.registerVersion)(iu,"0.9.2","esm2017")}();class ql{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Lf{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new ql(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new ql(i,this,this._ref))},e)}on(t,e,i,o){let l;return e&&(l="function"==typeof e?f=>e(new ql(f,this,this._ref)):{next:e.next?f=>e.next(new ql(f,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,l,i||void 0,o||void 0)}}class Vf{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new _(t,this._service))}get items(){return this._delegate.items.map(t=>new _(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class _{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function Ls(n,t){return Xn(n,t)}(this._delegate,t);return new _(e,this.storage)}get root(){return new _(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new _(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new Lf(function Nm(n,t,e){return function km(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new kf(n,new Os(t),e)}(n=(0,N.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=di.RAW,i){this._throwIfRoot("putString");const o=yd(e,t),l=Object.assign({},i);return null==l.contentType&&null!=o.contentType&&(l.contentType=o.contentType),new Lf(new kf(this._delegate,new Os(o.data,!0),l),this)}listAll(){return function qn(n){return function Rm(n){const t={prefixes:[],items:[]};return Pm(n,t).then(()=>t)}(n=(0,N.m9)(n))}(this._delegate).then(t=>new Vf(t,this.storage))}list(t){return function Ff(n,t){return Ka(n=(0,N.m9)(n),t)}(this._delegate,t||void 0).then(e=>new Vf(e,this.storage))}getMetadata(){return function Od(n){return function hi(n){n._throwIfRoot("getMetadata");const t=Af(n.storage,n._location,Hl());return n.storage.makeRequestWithTokens(t,Mi)}(n=(0,N.m9)(n))}(this._delegate)}updateMetadata(t){return function Lm(n,t){return function Wl(n,t){n._throwIfRoot("updateMetadata");const e=function Gl(n,t,e,i){const l=Bn(t.fullServerUrl(),n.host,n._protocol),g=jl(e,i),D=n.maxOperationRetryTime,M=new Fr(l,"PATCH",Kc(n,i),D);return M.headers={"Content-Type":"application/json; charset=utf-8"},M.body=g,M.errorHandler=Zc(t),M}(n.storage,n._location,t,Hl());return n.storage.makeRequestWithTokens(e,Mi)}(n=(0,N.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function Fd(n){return tu(n=(0,N.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Nd(n){return function xd(n){n._throwIfRoot("deleteObject");const t=function Tf(n,t){const i=Bn(t.fullServerUrl(),n.host,n._protocol),g=new Fr(i,"DELETE",function f(b,D){},n.maxOperationRetryTime);return g.successCodes=[200,204],g.errorHandler=Zc(t),g}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,Mi)}(n=(0,N.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw V(t)}}class h{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(m(t))throw I("ref() expected a child path but got a URL, use refFromURL instead.");return new _(Nf(this._delegate,t),this)}refFromURL(t){if(!m(t))throw I("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ce.makeFromUrl(t,this._delegate.host)}catch(e){throw I("refFromUrl() expected a valid full URL but got an invalid one.")}return new _(Nf(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function Ld(n,t,e,i={}){!function Om(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken="string"==typeof o?o:(0,N.Sg)(o,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function m(n){return/^[A-Za-z]+:\/\//.test(n)}function W(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new h(e,i)}!function he(n){const t={TaskState:Yn,TaskEvent:Tm,StringFormat:di,Storage:h,Reference:_};n.INTERNAL.registerComponent(new dr.wA("storage-compat",W,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.10")}(qi.Z),F(5867);var ou=F(1877);const My=new Map,PE={activated:!1,tokenObservers:[]},OE={initialized:!1,enabled:!1};function Jn(n){return My.get(n)||PE}function Lr(n,t){My.set(n,t)}function Gd(){return OE}class ky{constructor(t,e,i,o,l){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=o,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=o,o>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Zn.Z)(function*(){e.stop();try{e.pending=new N.BH,yield function Ry(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new N.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const fi=new N.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Hm(n){if(!Jn(n).activated)throw fi.create("use-before-activation",{appName:n.name})}function zf(n,t){return lu.apply(this,arguments)}function lu(){return(lu=(0,Zn.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},o=e.getImmediate({optional:!0});o&&(i["X-Firebase-Client"]=o.getPlatformInfoString());const l={method:"POST",body:JSON.stringify(t),headers:i};let f,g;try{f=yield fetch(n,l)}catch(P){throw fi.create("fetch-network-error",{originalErrorMessage:P.message})}if(200!==f.status)throw fi.create("fetch-status-error",{httpStatus:f.status});try{g=yield f.json()}catch(P){throw fi.create("fetch-parse-error",{originalErrorMessage:P.message})}const b=g.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw fi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const D=1e3*Number(b[1]),M=Date.now();return{token:g.attestationToken,expireTimeMillis:M+D,issuedAtTimeMillis:M}})).apply(this,arguments)}function jm(n,t){const{projectId:e,appId:i,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${i}:exchangeDebugToken?key=${o}`,body:{debug_token:t}}}const va="firebase-app-check-store";let $d=null;function Ly(){return $d||($d=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var o;t(fi.create("storage-open",{originalErrorMessage:null===(o=i.target.error)||void 0===o?void 0:o.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(va,{keyPath:"compositeKey"})}}catch(e){t(fi.create("storage-open",{originalErrorMessage:e.message}))}}),$d)}function Wf(){return(Wf=(0,Zn.Z)(function*(n,t){const i=(yield Ly()).transaction(va,"readwrite"),l=i.objectStore(va).put({compositeKey:n,value:t});return new Promise((f,g)=>{l.onsuccess=b=>{f()},i.onerror=b=>{var D;g(fi.create("storage-set",{originalErrorMessage:null===(D=b.target.error)||void 0===D?void 0:D.message}))}})})).apply(this,arguments)}const Wd=new ou.Yd("@firebase/app-check");function Wm(n,t){return(0,N.hl)()?function Vy(n,t){return function BE(n,t){return Wf.apply(this,arguments)}(function Hy(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Wd.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function jy(){return Gd().enabled}function Gy(){return qf.apply(this,arguments)}function qf(){return(qf=(0,Zn.Z)(function*(){const n=Gd();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const jE={error:"UNKNOWN_ERROR"};function GE(n){return N.US.encodeString(JSON.stringify(n),!1)}function ht(n){return Kf.apply(this,arguments)}function Kf(){return(Kf=(0,Zn.Z)(function*(n,t=!1){const e=n.app;Hm(e);const i=Jn(e);let l,o=i.token;if(!o){const b=yield i.cachedTokenPromise;b&&Xf(b)&&(o=b)}if(!t&&o&&Xf(o))return{token:o.token};let g,f=!1;if(jy()){i.exchangeTokenPromise||(i.exchangeTokenPromise=zf(jm(e,yield Gy()),n.platformLoggerProvider).then(D=>(i.exchangeTokenPromise=void 0,D)),f=!0);const b=yield i.exchangeTokenPromise;return yield Wm(e,b),Lr(e,Object.assign(Object.assign({},i),{token:b})),{token:b.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(b=>(i.exchangeTokenPromise=void 0,b)),f=!0),o=yield i.exchangeTokenPromise}catch(b){"appCheck/throttled"===b.code?Wd.warn(b.message):Wd.error(b),l=b}return o?(g={token:o.token},Lr(e,Object.assign(Object.assign({},i),{token:o})),yield Wm(e,o)):g=Km(l),f&&qm(e,g),g})).apply(this,arguments)}function Qf(n,t){const e=Jn(n),i=e.tokenObservers.filter(o=>o.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Lr(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function Yd(n){const{app:t}=n,e=Jn(t);let i=e.tokenRefresher;i||(i=function Bs(n){const{app:t}=n;return new ky((0,Zn.Z)(function*(){let i;if(i=Jn(t).token?yield ht(n,!0):yield ht(n),i.error)throw i.error}),()=>!0,()=>{const e=Jn(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Lr(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function qm(n,t){const e=Jn(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(o){}}function Xf(n){return n.expireTimeMillis-Date.now()>0}function Km(n){return{token:GE(jE),error:n}}class ba{constructor(t,e){this.app=t,this.platformLoggerProvider=e}_delete(){const{tokenObservers:t}=Jn(this.app);for(const e of t)Qf(this.app,e.next);return Promise.resolve()}}const ZE="app-check-internal";!function zI(){(0,Ai._registerComponent)(new dr.wA("app-check",n=>function Zm(n,t){return new ba(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(ZE).initialize()})),(0,Ai._registerComponent)(new dr.wA(ZE,n=>function zy(n){return{getToken:t=>ht(n,t),addTokenListener:t=>function Zf(n,t,e,i){const{app:o}=n,l=Jn(o),f={next:e,error:i,type:t};if(Lr(o,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,f]})),l.token&&Xf(l.token)){const g=l.token;Promise.resolve().then(()=>{e({token:g.token}),Yd(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>Yd(n))}(n,"INTERNAL",t),removeTokenListener:t=>Qf(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ai.registerVersion)("@firebase/app-check","0.5.3")}();class Jm{constructor(){return(0,Bt.vb)("app-check")}}"undefined"!=typeof window&&window;var ng=F(127);function iv(n){const t=function tC(n){return new Rn.y(t=>{const e=f=>t.next(f);e(n.snapshot);const l=n.on("state_changed",e);return n.then(f=>{e(f),t.complete()},f=>{e(n.snapshot),(f=>{t.error(f)})(f)}),function(){l()}}).pipe(function Ii(n,t=Pn.z){return(0,li.e)((e,i)=>{let o=null,l=null,f=null;const g=()=>{if(o){o.unsubscribe(),o=null;const D=l;l=null,i.next(D)}};function b(){const D=f+n,M=t.now();if(M<D)return o=this.schedule(void 0,D-M),void i.add(o);g()}e.subscribe((0,yt.x)(i,D=>{l=D,f=t.now(),o||(o=t.schedule(b,n),i.add(o))},()=>{g(),i.complete()},void 0,()=>{l=o=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,Vt.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function Qa(n){return{getDownloadURL:()=>Ft(void 0).pipe(Bt.fc,Wn(()=>n.getDownloadURL()),Bt.iC),getMetadata:()=>Ft(void 0).pipe(Bt.fc,Wn(()=>n.getMetadata()),Bt.iC),delete:()=>(0,lr.D)(n.delete()),child:t=>Qa(n.child(t)),updateMetadata:t=>(0,lr.D)(n.updateMetadata(t)),put:(t,e)=>iv(n.put(t,e)),putString:(t,e,i)=>iv(n.putString(t,e,i)),list:t=>(0,lr.D)(n.list(t)),listAll:()=>(0,lr.D)(n.listAll())}}const uu=new d.OlP("angularfire2.storageBucket"),ig=new d.OlP("angularfire2.storage.maxUploadRetryTime"),du=new d.OlP("angularfire2.storage.maxOperationRetryTime"),qd=new d.OlP("angularfire2.storage.use-emulator");let Jl=(()=>{class n{constructor(e,i,o,l,f,g,b,D,M,P){const U=(0,Vn.on)(e,f,i);this.storage=(0,Vn.cc)(`${U.name}.storage.${o}`,"AngularFireStorage",U.name,()=>{const Y=f.runOutsideAngular(()=>U.storage(o||void 0)),J=M;return J&&Y.useEmulator(...J),b&&Y.setMaxUploadRetryTime(b),D&&Y.setMaxOperationRetryTime(D),Y},[b,D])}ref(e){return Qa(this.storage.ref(e))}refFromURL(e){return Qa(this.storage.refFromURL(e))}upload(e,i,o){return Qa(this.storage.ref(e)).put(i,o)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(Vn.Dh),d.LFG(Vn.xv,8),d.LFG(uu,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Bt.HU),d.LFG(ig,8),d.LFG(du,8),d.LFG(qd,8),d.LFG(Jm,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),rv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),sv=(()=>{class n{constructor(){ng.Z.registerVersion("angularfire",Bt.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Jl],imports:[rv]}),n})();var hu=F(266),Kd=F(3099);function ov(n,t,e,i,o){return(l,f)=>{let g=e,b=t,D=0;l.subscribe((0,yt.x)(f,M=>{const P=D++;b=g?n(b,M,P):(g=!0,M),i&&f.next(b)},o&&(()=>{g&&f.next(b),f.complete()})))}}function Zd(n,t){return(0,li.e)(ov(n,t,arguments.length>=2,!0))}var rg=F(4671);function sg(n,t=rg.y){return n=null!=n?n:KI,(0,li.e)((e,i)=>{let o,l=!0;e.subscribe((0,yt.x)(i,f=>{const g=t(f);(l||!n(o,g))&&(l=!1,o=g,i.next(f))}))})}function KI(n,t){return n===t}var og=F(5032);F(3059);const lv="@firebase/database";let Ki="";function uv(n){Ki=n}class rC{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,N.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,N.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class ZI{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,N.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const sC=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new rC(t)}}catch(t){}return new ZI},Xa=sC("localStorage"),dv=sC("sessionStorage"),fu=new ou.Yd("@firebase/database"),ip=function(){let n=1;return function(){return n++}}(),ag=function(n){const t=(0,N.dS)(n),e=new N.gQ;e.update(t);const i=e.digest();return N.US.encodeByteArray(i)},Qd=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=Qd.apply(null,i):t+="object"==typeof i?(0,N.Pz)(i):i,t+=" "}return t};let ec=null,hv=!0;const lg=function(n,t){(0,N.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(fu.logLevel=ou.in.VERBOSE,ec=fu.log.bind(fu),t&&dv.set("logging_enabled",!0)):"function"==typeof n?ec=n:(ec=null,dv.remove("logging_enabled"))},pi=function(...n){if(!0===hv&&(hv=!1,null===ec&&!0===dv.get("logging_enabled")&&lg(!0)),ec){const t=Qd.apply(null,n);ec(t)}},pu=function(n){return function(...t){pi(n,...t)}},cg=function(...n){const t="FIREBASE INTERNAL ERROR: "+Qd(...n);fu.error(t)},Co=function(...n){const t=`FIREBASE FATAL ERROR: ${Qd(...n)}`;throw fu.error(t),new Error(t)},Ui=function(...n){const t="FIREBASE WARNING: "+Qd(...n);fu.warn(t)},rp=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Us="[MIN_NAME]",Do="[MAX_NAME]",tc=function(n,t){if(n===t)return 0;if(n===Us||t===Do)return-1;if(t===Us||n===Do)return 1;{const e=gu(n),i=gu(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},QI=function(n,t){return n===t?0:n<t?-1:1},mu=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,N.Pz)(t))},ug=function(n){if("object"!=typeof n||null===n)return(0,N.Pz)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,N.Pz)(t[i]),e+=":",e+=ug(n[t[i]]);return e+="}",e},pv=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let o=0;o<e;o+=t)i.push(n.substring(o,o+t>e?e:o+t));return i};function mi(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const sp=function(n){(0,N.hu)(!rp(n),"Invalid JSON number");const i=1023;let o,l,f,g,b;0===n?(l=0,f=0,o=1/n==-1/0?1:0):(o=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(g=Math.min(Math.floor(Math.log(n)/Math.LN2),i),l=g+i,f=Math.round(n*Math.pow(2,52-g)-Math.pow(2,52))):(l=0,f=Math.round(n/Math.pow(2,-1074))));const D=[];for(b=52;b;b-=1)D.push(f%2?1:0),f=Math.floor(f/2);for(b=11;b;b-=1)D.push(l%2?1:0),l=Math.floor(l/2);D.push(o?1:0),D.reverse();const M=D.join("");let P="";for(b=0;b<64;b+=8){let U=parseInt(M.substr(b,8),2).toString(16);1===U.length&&(U="0"+U),P+=U}return P.toLowerCase()},dg=new RegExp("^-?(0*)\\d{1,10}$"),mv=-2147483648,Xd=2147483647,gu=function(n){if(dg.test(n)){const t=Number(n);if(t>=mv&&t<=Xd)return t}return null},nc=function(n){try{n()}catch(t){setTimeout(()=>{throw Ui("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Jd=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class hg{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Ui(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class XI{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(pi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ui(t)}}let eh=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Io=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,uC="websocket",ap="long_polling";class lp{constructor(t,e,i,o,l=!1,f="",g=!1){this.secure=e,this.namespace=i,this.webSocketOnly=o,this.nodeAdmin=l,this.persistenceKey=f,this.includeNamespaceInQueryParams=g,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Xa.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Xa.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function _u(n,t,e){let i;if((0,N.hu)("string"==typeof t,"typeof type must == string"),(0,N.hu)("object"==typeof e,"typeof params must == object"),t===uC)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==ap)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function yg(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const o=[];return mi(e,(l,f)=>{o.push(l+"="+f)}),i+o.join("&")}class dC{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,N.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,N.p$)(this.counters_)}}const ih={},cp={};function up(n){const t=n.toString();return ih[t]||(ih[t]=new dC),ih[t]}class hC{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<i.length;++o)i[o]&&nc(()=>{this.onMessage_(i[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class rc{constructor(t,e,i,o,l,f,g){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=o,this.authToken=l,this.transportSessionId=f,this.lastSessionId=g,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=pu(t),this.stats_=up(e),this.urlFn=b=>(this.appCheckToken&&(b.ac=this.appCheckToken),_u(e,ap,b))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new hC(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,N.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new hp((...l)=>{const[f,g,b,D,M]=l;if(this.incrementIncomingBytes_(l),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===f)this.id=g,this.password=b;else{if("close"!==f)throw new Error("Unrecognized command received: "+f);g?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(g,()=>{this.onClosed_()})):this.onClosed_()}},(...l)=>{const[f,g]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(f,g)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&Io.test(location.hostname)&&(i.r="f");const o=this.urlFn(i);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){rc.forceAllow_=!0}static forceDisallow(){rc.forceDisallow_=!0}static isAvailable(){return!((0,N.Yr)()||!rc.forceAllow_&&(rc.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,N.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,N.h$)(e),o=pv(i,1840);for(let l=0;l<o.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[l]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,N.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,N.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class hp{constructor(t,e,i,o){if(this.onDisconnect=i,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,N.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=ip(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=hp.createIFrame_();let l="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(l='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(g){pi("frame writing exception"),g.stack&&pi(g.stack),pi(g)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||pi("No IE domain setting required")}catch(e){const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const f=this.pendingSegs.shift();i=i+"&seg"+o+"="+f.seg+"&ts"+o+"="+f.ts+"&d"+o+"="+f.d,o++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},o=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(o),i()})}addTag(t,e){(0,N.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const o=i.readyState;(!o||"loaded"===o||"complete"===o)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{pi("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let rh=null;"undefined"!=typeof MozWebSocket?rh=MozWebSocket:"undefined"!=typeof WebSocket&&(rh=WebSocket);let sh=(()=>{class n{constructor(e,i,o,l,f,g,b){this.connId=e,this.applicationId=o,this.appCheckToken=l,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=pu(this.connId),this.stats_=up(i),this.connURL=n.connectionURL_(i,g,b,l),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,o,l){const f={v:"5"};return!(0,N.Yr)()&&"undefined"!=typeof location&&location.hostname&&Io.test(location.hostname)&&(f.r="f"),i&&(f.s=i),o&&(f.ls=o),l&&(f.ac=l),_u(e,uC,f)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Xa.set("previous_websocket_failure",!0);try{if((0,N.Yr)()){const l={headers:{"User-Agent":`Firebase/5/${Ki}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(l.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(l.headers["X-Firebase-AppCheck"]=this.appCheckToken);const f=process.env,g=0===this.connURL.indexOf("wss://")?f.HTTPS_PROXY||f.https_proxy:f.HTTP_PROXY||f.http_proxy;g&&(l.proxy={origin:g}),this.mySock=new rh(this.connURL,[],l)}else this.mySock=new rh(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(o){this.log_("Error instantiating WebSocket.");const l=o.message||o.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const o=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);o&&o.length>1&&parseFloat(o[1])<4.4&&(e=!0)}return!e&&null!==rh&&!n.forceDisallow_}static previouslyFailed(){return Xa.isInMemoryStorage||!0===Xa.get("previous_websocket_failure")}markConnectionHealthy(){Xa.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const o=(0,N.cI)(i);this.onMessage(o)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,N.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const o=this.extractFrameCount_(i);null!==o&&this.appendFrame_(o)}}send(e){this.resetKeepAlive();const i=(0,N.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const o=pv(i,16384);o.length>1&&this.sendString_(String(o.length));for(let l=0;l<o.length;l++)this.sendString_(o[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})();class fp{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[rc,sh]}initTransports_(t){const e=sh&&sh.isAvailable();let i=e&&!sh.previouslyFailed();if(t.webSocketOnly&&(e||Ui("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[sh];else{const o=this.transports_=[];for(const l of fp.ALL_TRANSPORTS)l&&l.isAvailable()&&o.push(l)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class wg{constructor(t,e,i,o,l,f,g,b,D,M){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=o,this.authToken_=l,this.onMessage_=f,this.onReady_=g,this.onDisconnect_=b,this.onKill_=D,this.lastSessionId=M,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=pu("c:"+this.id+":"),this.transportManager_=new fp(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=Jd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=mu("t",t),i=mu("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=mu("t",t),i=mu("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=mu("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?cg("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):cg("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Ui("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),Jd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Jd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Xa.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Dg{put(t,e,i,o){}merge(t,e,i,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class Ig{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,N.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let o=0;o<i.length;o++)i[o].callback.apply(i[o].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const o=this.getInitialEvent(t);o&&e.apply(i,o)}off(t,e,i){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let l=0;l<o.length;l++)if(o[l].callback===e&&(!i||i===o[l].context))return void o.splice(l,1)}validateEventType_(t){(0,N.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class pp extends Ig{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,N.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new pp}getInitialEvent(t){return(0,N.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Ht{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[i]=this.pieces_[o],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function jt(){return new Ht("")}function It(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ja(n){return n.pieces_.length-n.pieceNum_}function Jt(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Ht(n.pieces_,t)}function Tg(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function oh(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function Av(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Ht(t,0)}function en(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Ht)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let o=0;o<i.length;o++)i[o].length>0&&e.push(i[o])}return new Ht(e,0)}function gt(n){return n.pieceNum_>=n.pieces_.length}function Zi(n,t){const e=It(n),i=It(t);if(null===e)return t;if(e===i)return Zi(Jt(n),Jt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function ah(n,t){const e=oh(n,0),i=oh(t,0);for(let o=0;o<e.length&&o<i.length;o++){const l=tc(e[o],i[o]);if(0!==l)return l}return e.length===i.length?0:e.length<i.length?-1:1}function Sg(n,t){if(Ja(n)!==Ja(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function ds(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Ja(n)>Ja(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class Mg{constructor(t,e){this.errorPrefix_=e,this.parts_=oh(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,N.ug)(this.parts_[i]);xi(this)}}function xi(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Br(n))}function Br(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class vu extends Ig{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new vu}getInitialEvent(t){return(0,N.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Hi=1e3;let ch,hs=(()=>{class n extends Dg{constructor(e,i,o,l,f,g,b,D){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=o,this.onConnectStatus_=l,this.onServerInfoUpdate_=f,this.authTokenProvider_=g,this.appCheckTokenProvider_=b,this.authOverride_=D,this.id=n.nextPersistentConnectionId_++,this.log_=pu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Hi,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,D&&!(0,N.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");vu.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&pp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,o){const l=++this.requestNumber_,f={r:l,a:e,b:i};this.log_((0,N.Pz)(f)),(0,N.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),o&&(this.requestCBHash_[l]=o)}get(e){this.initConnection_();const i=new N.BH,o={p:e._path.toString(),q:e._queryObject},l={action:"g",request:o,onComplete:g=>{const b=g.d;"ok"===g.s?(this.onDataUpdate_(o.p,b,!1,null),i.resolve(b)):i.reject(b)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const g=this.outstandingGets_[f];void 0===g||l!==g||(delete this.outstandingGets_[f],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+f+" timed out on connection"),i.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(f),i.promise}listen(e,i,o,l){this.initConnection_();const f=e._queryIdentifier,g=e._path.toString();this.log_("Listen called for "+g+" "+f),this.listens.has(g)||this.listens.set(g,new Map),(0,N.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,N.hu)(!this.listens.get(g).has(f),"listen() called twice for same path/queryId.");const b={onComplete:l,hashFn:i,query:e,tag:o};this.listens.get(g).set(f,b),this.connected_&&this.sendListen_(b)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,o=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(o)})}sendListen_(e){const i=e.query,o=i._path.toString(),l=i._queryIdentifier;this.log_("Listen on "+o+" for "+l);const f={p:o};e.tag&&(f.q=i._queryObject,f.t=e.tag),f.h=e.hashFn(),this.sendRequest("q",f,b=>{const D=b.d,M=b.s;n.warnOnListenWarnings_(D,i),(this.listens.get(o)&&this.listens.get(o).get(l))===e&&(this.log_("listen response",b),"ok"!==M&&this.removeListen_(o,l),e.onComplete&&e.onComplete(M,D))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,N.r3)(e,"w")){const o=(0,N.DV)(e,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const l='".indexOn": "'+i._queryParams.getIndex().toString()+'"',f=i._path.toString();Ui(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,N.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,N.w9)(e)?"auth":"gauth",o={cred:e};null===this.authOverride_?o.noauth=!0:"object"==typeof this.authOverride_&&(o.authvar=this.authOverride_),this.sendRequest(i,o,l=>{const f=l.s,g=l.d||"error";this.authToken_===e&&("ok"===f?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,g))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,o=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,o)})}unlisten(e,i){const o=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+o+" "+l),(0,N.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,l)&&this.connected_&&this.sendUnlisten_(o,l,e._queryObject,i)}sendUnlisten_(e,i,o,l){this.log_("Unlisten on "+e+" for "+i);const f={p:e};l&&(f.q=o,f.t=l),this.sendRequest("n",f)}onDisconnectPut(e,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:o})}onDisconnectMerge(e,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:o})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,o,l){const f={p:i,d:o};this.log_("onDisconnect "+e,f),this.sendRequest(e,f,g=>{l&&setTimeout(()=>{l(g.s,g.d)},Math.floor(0))})}put(e,i,o,l){this.putInternal("p",e,i,o,l)}merge(e,i,o,l){this.putInternal("m",e,i,o,l)}putInternal(e,i,o,l,f){this.initConnection_();const g={p:i,d:o};void 0!==f&&(g.h=f),this.outstandingPuts_.push({action:e,request:g,onComplete:l}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,o=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,o,f=>{this.log_(i+" response",f),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),l&&l(f.s,f.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,o=>{"ok"!==o.s&&this.log_("reportStats","Error sending stats: "+o.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,N.Pz)(e));const i=e.r,o=this.requestCBHash_[i];o&&(delete this.requestCBHash_[i],o(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):cg("Unrecognized action received from server: "+(0,N.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,N.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Hi,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Hi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Hi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Zn.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),o=e.onReady_.bind(e),l=e.onRealtimeDisconnect_.bind(e),f=e.id+":"+n.nextConnectionId_++,g=e.lastSessionId;let b=!1,D=null;const M=function(){D?D.close():(b=!0,l())};e.realtime_={close:M,sendRequest:function(Y){(0,N.hu)(D,"sendRequest call when we're not connected not allowed."),D.sendRequest(Y)}};const U=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[Y,J]=yield Promise.all([e.authTokenProvider_.getToken(U),e.appCheckTokenProvider_.getToken(U)]);b?pi("getToken() completed but was canceled"):(pi("getToken() completed. Creating connection."),e.authToken_=Y&&Y.accessToken,e.appCheckToken_=J&&J.token,D=new wg(f,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,o,l,Te=>{Ui(Te+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},g))}catch(Y){e.log_("Failed to get token: "+Y),b||(e.repoInfo_.nodeAdmin&&Ui(Y),M())}}})()}interrupt(e){pi("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){pi("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,N.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Hi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let o;o=i?i.map(f=>ug(f)).join("$"):"default";const l=this.removeListen_(e,o);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,i){const o=new Ht(e).toString();let l;if(this.listens.has(o)){const f=this.listens.get(o);l=f.get(i),f.delete(i),0===f.size&&this.listens.delete(o)}else l=void 0;return l}onAuthRevoked_(e,i){pi("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){pi("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,N.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+Ki.replace(/\./g,"-")]=1,(0,N.uI)()?e["framework.cordova"]=1:(0,N.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=pp.getInstance().currentlyOnline();return(0,N.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class vt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new vt(t,e)}}class Ea{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new vt(Us,t),o=new vt(Us,e);return 0!==this.compare(i,o)}minPost(){return vt.MIN}}class kg extends Ea{static get __EMPTY_NODE(){return ch}static set __EMPTY_NODE(t){ch=t}compare(t,e){return tc(t.name,e.name)}isDefinedOn(t){throw(0,N.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return vt.MIN}maxPost(){return new vt(Do,ch)}makePost(t,e){return(0,N.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new vt(t,ch)}toString(){return".key"}}const Hs=new kg;class uh{constructor(t,e,i,o,l=null){this.isReverse_=o,this.resultGenerator_=l,this.nodeStack_=[];let f=1;for(;!t.isEmpty();)if(t=t,f=e?i(t.key,e):1,o&&(f*=-1),f<0)t=this.isReverse_?t.left:t.right;else{if(0===f){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Rg,fs=(()=>{class n{constructor(e,i,o,l,f){this.key=e,this.value=i,this.color=null!=o?o:n.RED,this.left=null!=l?l:Qi.EMPTY_NODE,this.right=null!=f?f:Qi.EMPTY_NODE}copy(e,i,o,l,f){return new n(null!=e?e:this.key,null!=i?i:this.value,null!=o?o:this.color,null!=l?l:this.left,null!=f?f:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,o){let l=this;const f=o(e,l.key);return l=f<0?l.copy(null,null,null,l.left.insert(e,i,o),null):0===f?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,o)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return Qi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let o,l;if(o=this,i(e,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),0===i(e,o.key)){if(o.right.isEmpty())return Qi.EMPTY_NODE;l=o.right.min_(),o=o.copy(l.key,l.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Qi{constructor(t,e=Qi.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Qi(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,fs.BLACK,null,null))}remove(t){return new Qi(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,fs.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,o=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return o?o.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(o=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new uh(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new uh(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new uh(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new uh(this.root_,null,this.comparator_,!0,t)}}function Sv(n,t){return tc(n.name,t.name)}function mp(n,t){return tc(n,t)}Qi.EMPTY_NODE=new class Tv{copy(t,e,i,o,l){return this}insert(t,e,i){return new fs(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const xv=function(n){return"number"==typeof n?"number:"+sp(n):"string:"+n},Pg=function(n){if(n.isLeafNode()){const t=n.val();(0,N.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,N.r3)(t,".sv"),"Priority must be a string or number.")}else(0,N.hu)(n===Rg||n.isEmpty(),"priority of unexpected type.");(0,N.hu)(n===Rg||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Og,kv,Fg,Du=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,N.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Pg(this.priorityNode_)}static set __childrenNodeConstructor(e){Og=e}static get __childrenNodeConstructor(){return Og}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return gt(e)?this:".priority"===It(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const o=It(e);return null===o?i:i.isEmpty()&&".priority"!==o?this:((0,N.hu)(".priority"!==o||1===Ja(e),".priority must be the last token in a path"),this.updateImmediateChild(o,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Jt(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+xv(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?sp(this.value_):this.value_,this.lazyHash_=ag(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,N.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,o=typeof this.value_,l=n.VALUE_TYPE_ORDER.indexOf(i),f=n.VALUE_TYPE_ORDER.indexOf(o);return(0,N.hu)(l>=0,"Unknown leaf type: "+i),(0,N.hu)(f>=0,"Unknown leaf type: "+o),l===f?"object"===o?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:f-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const on=new class MC extends Ea{compare(t,e){const i=t.node.getPriority(),o=e.node.getPriority(),l=i.compareTo(o);return 0===l?tc(t.name,e.name):l}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return vt.MIN}maxPost(){return new vt(Do,new Du("[PRIORITY-POST]",Fg))}makePost(t,e){const i=kv(t);return new vt(e,new Du("[PRIORITY-POST]",i))}toString(){return".priority"}},tA=Math.log(2);class xC{constructor(t){this.count=parseInt(Math.log(t+1)/tA,10),this.current_=this.count-1;const o=(l=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Iu=function(n,t,e,i){n.sort(t);const o=function(b,D){const M=D-b;let P,U;if(0===M)return null;if(1===M)return P=n[b],U=e?e(P):P,new fs(U,P.node,fs.BLACK,null,null);{const Y=parseInt(M/2,10)+b,J=o(b,Y),Te=o(Y+1,D);return P=n[Y],U=e?e(P):P,new fs(U,P.node,fs.BLACK,J,Te)}},g=function(b){let D=null,M=null,P=n.length;const U=function(J,Te){const Fe=P-J,Ze=P;P-=J;const lt=o(Fe+1,Ze),ft=n[Fe],Qe=e?e(ft):ft;Y(new fs(Qe,ft.node,Te,null,lt))},Y=function(J){D?(D.left=J,D=J):(M=J,D=J)};for(let J=0;J<b.count;++J){const Te=b.nextBitIsOne(),Fe=Math.pow(2,b.count-(J+1));Te?U(Fe,fs.BLACK):(U(Fe,fs.BLACK),U(Fe,fs.RED))}return M}(new xC(n.length));return new Qi(i||t,g)};let dh;const Au={};class el{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,N.hu)(Au&&on,"ChildrenNode.ts has not been loaded"),dh=dh||new el({".priority":Au},{".priority":on}),dh}get(t){const e=(0,N.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Qi?e:null}hasIndex(t){return(0,N.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,N.hu)(t!==Hs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let o=!1;const l=e.getIterator(vt.Wrap);let g,f=l.getNext();for(;f;)o=o||t.isDefinedOn(f.node),i.push(f),f=l.getNext();g=o?Iu(i,t.getCompare()):Au;const b=t.toString(),D=Object.assign({},this.indexSet_);D[b]=t;const M=Object.assign({},this.indexes_);return M[b]=g,new el(M,D)}addToIndexes(t,e){const i=(0,N.UI)(this.indexes_,(o,l)=>{const f=(0,N.DV)(this.indexSet_,l);if((0,N.hu)(f,"Missing index implementation for "+l),o===Au){if(f.isDefinedOn(t.node)){const g=[],b=e.getIterator(vt.Wrap);let D=b.getNext();for(;D;)D.name!==t.name&&g.push(D),D=b.getNext();return g.push(t),Iu(g,f.getCompare())}return Au}{const g=e.get(t.name);let b=o;return g&&(b=b.remove(new vt(t.name,g))),b.insert(t,t.node)}});return new el(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,N.UI)(this.indexes_,o=>{if(o===Au)return o;{const l=e.get(t.name);return l?o.remove(new vt(t.name,l)):o}});return new el(i,this.indexSet_)}}let gp,wt=(()=>{class n{constructor(e,i,o){this.children_=e,this.priorityNode_=i,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&Pg(this.priorityNode_),this.children_.isEmpty()&&(0,N.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return gp||(gp=new n(new Qi(mp),null,el.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||gp}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?gp:i}}getChild(e){const i=It(e);return null===i?this:this.getImmediateChild(i).getChild(Jt(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,N.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const o=new vt(e,i);let l,f;i.isEmpty()?(l=this.children_.remove(e),f=this.indexMap_.removeFromIndexes(o,this.children_)):(l=this.children_.insert(e,i),f=this.indexMap_.addToIndexes(o,this.children_));const g=l.isEmpty()?gp:this.priorityNode_;return new n(l,g,f)}}updateChild(e,i){const o=It(e);if(null===o)return i;{(0,N.hu)(".priority"!==It(e)||1===Ja(e),".priority must be the last token in a path");const l=this.getImmediateChild(o).updateChild(Jt(e),i);return this.updateImmediateChild(o,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let o=0,l=0,f=!0;if(this.forEachChild(on,(g,b)=>{i[g]=b.val(e),o++,f&&n.INTEGER_REGEXP_.test(g)?l=Math.max(l,Number(g)):f=!1}),!e&&f&&l<2*o){const g=[];for(const b in i)g[b]=i[b];return g}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+xv(this.getPriority().val())+":"),this.forEachChild(on,(i,o)=>{const l=o.hash();""!==l&&(e+=":"+i+":"+l)}),this.lazyHash_=""===e?"":ag(e)}return this.lazyHash_}getPredecessorChildName(e,i,o){const l=this.resolveIndex_(o);if(l){const f=l.getPredecessorKey(new vt(e,i));return f?f.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const o=i.minKey();return o&&o.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new vt(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const o=i.maxKey();return o&&o.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new vt(i,this.children_.get(i)):null}forEachChild(e,i){const o=this.resolveIndex_(e);return o?o.inorderTraversal(l=>i(l.name,l.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const o=this.resolveIndex_(i);if(o)return o.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,vt.Wrap);let f=l.peek();for(;null!=f&&i.compare(f,e)<0;)l.getNext(),f=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const o=this.resolveIndex_(i);if(o)return o.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,vt.Wrap);let f=l.peek();for(;null!=f&&i.compare(f,e)>0;)l.getNext(),f=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Tu?-1:0}withIndex(e){if(e===Hs||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Hs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const o=this.getIterator(on),l=i.getIterator(on);let f=o.getNext(),g=l.getNext();for(;f&&g;){if(f.name!==g.name||!f.node.equals(g.node))return!1;f=o.getNext(),g=l.getNext()}return null===f&&null===g}return!1}return!1}}resolveIndex_(e){return e===Hs?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Tu=new class kC extends wt{constructor(){super(new Qi(mp),wt.EMPTY_NODE,el.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return wt.EMPTY_NODE}isEmpty(){return!1}};function En(n,t=null){if(null===n)return wt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,N.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Du(n,En(t));if(n instanceof Array){let e=wt.EMPTY_NODE;return mi(n,(i,o)=>{if((0,N.r3)(n,i)&&"."!==i.substring(0,1)){const l=En(o);(l.isLeafNode()||!l.isEmpty())&&(e=e.updateImmediateChild(i,l))}}),e.updatePriority(En(t))}{const e=[];let i=!1;if(mi(n,(f,g)=>{if("."!==f.substring(0,1)){const b=En(g);b.isEmpty()||(i=i||!b.getPriority().isEmpty(),e.push(new vt(f,b)))}}),0===e.length)return wt.EMPTY_NODE;const l=Iu(e,Sv,f=>f.name,mp);if(i){const f=Iu(e,on.getCompare());return new wt(l,En(t),new el({".priority":f},{".priority":on}))}return new wt(l,En(t),el.Default)}}Object.defineProperties(vt,{MIN:{value:new vt(Us,wt.EMPTY_NODE)},MAX:{value:new vt(Do,Tu)}}),kg.__EMPTY_NODE=wt.EMPTY_NODE,Du.__childrenNodeConstructor=wt,function Mv(n){Rg=n}(Tu),function Rv(n){Fg=n}(Tu),function SC(n){kv=n}(En);class tl extends Ea{constructor(t){super(),this.indexPath_=t,(0,N.hu)(!gt(t)&&".priority"!==It(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),o=this.extractChild(e.node),l=i.compareTo(o);return 0===l?tc(t.name,e.name):l}makePost(t,e){const i=En(t),o=wt.EMPTY_NODE.updateChild(this.indexPath_,i);return new vt(e,o)}maxPost(){const t=wt.EMPTY_NODE.updateChild(this.indexPath_,Tu);return new vt(Do,t)}toString(){return oh(this.indexPath_,0).join("/")}}const _p=new class RC extends Ea{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?tc(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return vt.MIN}maxPost(){return vt.MAX}makePost(t,e){const i=En(t);return new vt(e,i)}toString(){return".value"}},Su="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Ov=function(){let n=0;const t=[];return function(e){const i=e===n;let o;n=e;const l=new Array(8);for(o=7;o>=0;o--)l[o]=Su.charAt(e%64),e=Math.floor(e/64);(0,N.hu)(0===e,"Cannot push at time == 0");let f=l.join("");if(i){for(o=11;o>=0&&63===t[o];o--)t[o]=0;t[o]++}else for(o=0;o<12;o++)t[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)f+=Su.charAt(t[o]);return(0,N.hu)(20===f.length,"nextPushId: Length should be 20."),f}}(),Fv=function(n){if(n===""+Xd)return"-";const t=gu(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let f=0;f<e.length;f++)e[f]=n.charAt(f);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return Do;const l=Su.charAt(Su.indexOf(e[i])+1);return e[i]=l,e.slice(0,i+1).join("")},Nv=function(n){if(n===""+mv)return Us;const t=gu(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+Xd:(delete e[e.length-1],e.join("")):(e[e.length-1]=Su.charAt(Su.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function Lv(n){return{type:"value",snapshotNode:n}}function Mu(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function fh(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function xu(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class vp{constructor(t){this.index_=t}updateChild(t,e,i,o,l,f){(0,N.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const g=t.getImmediateChild(e);return g.getChild(o).equals(i.getChild(o))&&g.isEmpty()===i.isEmpty()||(null!=f&&(i.isEmpty()?t.hasChild(e)?f.trackChildChange(fh(e,g)):(0,N.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):g.isEmpty()?f.trackChildChange(Mu(e,i)):f.trackChildChange(xu(e,i,g))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(on,(o,l)=>{e.hasChild(o)||i.trackChildChange(fh(o,l))}),e.isLeafNode()||e.forEachChild(on,(o,l)=>{if(t.hasChild(o)){const f=t.getImmediateChild(o);f.equals(l)||i.trackChildChange(xu(o,l,f))}else i.trackChildChange(Mu(o,l))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?wt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ku{constructor(t){this.indexedFilter_=new vp(t.getIndex()),this.index_=t.getIndex(),this.startPost_=ku.getStartPost_(t),this.endPost_=ku.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,o,l,f){return this.matches(new vt(e,i))||(i=wt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,o,l,f)}updateFullNode(t,e,i){e.isLeafNode()&&(e=wt.EMPTY_NODE);let o=e.withIndex(this.index_);o=o.updatePriority(wt.EMPTY_NODE);const l=this;return e.forEachChild(on,(f,g)=>{l.matches(new vt(f,g))||(o=o.updateImmediateChild(f,wt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class Ng{constructor(t){this.rangedFilter_=new ku(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,o,l,f){return this.rangedFilter_.matches(new vt(e,i))||(i=wt.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,o,l,f):this.fullLimitUpdateChild_(t,e,i,l,f)}updateFullNode(t,e,i){let o;if(e.isLeafNode()||e.isEmpty())o=wt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let l;o=wt.EMPTY_NODE.withIndex(this.index_),l=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;l.hasNext()&&f<this.limit_;){const g=l.getNext();let b;if(b=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),g)<=0:this.index_.compare(g,this.rangedFilter_.getEndPost())<=0,!b)break;o=o.updateImmediateChild(g.name,g.node),f++}}else{let l,f,g,b;if(o=e.withIndex(this.index_),o=o.updatePriority(wt.EMPTY_NODE),this.reverse_){b=o.getReverseIterator(this.index_),l=this.rangedFilter_.getEndPost(),f=this.rangedFilter_.getStartPost();const P=this.index_.getCompare();g=(U,Y)=>P(Y,U)}else b=o.getIterator(this.index_),l=this.rangedFilter_.getStartPost(),f=this.rangedFilter_.getEndPost(),g=this.index_.getCompare();let D=0,M=!1;for(;b.hasNext();){const P=b.getNext();!M&&g(l,P)<=0&&(M=!0),M&&D<this.limit_&&g(P,f)<=0?D++:o=o.updateImmediateChild(P.name,wt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,o,l){let f;if(this.reverse_){const P=this.index_.getCompare();f=(U,Y)=>P(Y,U)}else f=this.index_.getCompare();const g=t;(0,N.hu)(g.numChildren()===this.limit_,"");const b=new vt(e,i),D=this.reverse_?g.getFirstChild(this.index_):g.getLastChild(this.index_),M=this.rangedFilter_.matches(b);if(g.hasChild(e)){const P=g.getImmediateChild(e);let U=o.getChildAfterChild(this.index_,D,this.reverse_);for(;null!=U&&(U.name===e||g.hasChild(U.name));)U=o.getChildAfterChild(this.index_,U,this.reverse_);const Y=null==U?1:f(U,b);if(M&&!i.isEmpty()&&Y>=0)return null!=l&&l.trackChildChange(xu(e,i,P)),g.updateImmediateChild(e,i);{null!=l&&l.trackChildChange(fh(e,P));const Te=g.updateImmediateChild(e,wt.EMPTY_NODE);return null!=U&&this.rangedFilter_.matches(U)?(null!=l&&l.trackChildChange(Mu(U.name,U.node)),Te.updateImmediateChild(U.name,U.node)):Te}}return i.isEmpty()?t:M&&f(D,b)>=0?(null!=l&&(l.trackChildChange(fh(D.name,D.node)),l.trackChildChange(Mu(e,i))),g.updateImmediateChild(e,i).updateImmediateChild(D.name,wt.EMPTY_NODE)):t}}class Lg{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=on}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Us}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Do}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,N.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===on}copy(){const t=new Lg;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function ac(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function ph(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function bp(n,t){const e=n.copy();return e.index_=t,e}function mh(n){const t={};if(n.isDefault())return t;let e;return n.index_===on?e="$priority":n.index_===_p?e="$value":n.index_===Hs?e="$key":((0,N.hu)(n.index_ instanceof tl,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,N.Pz)(e),n.startSet_&&(t.startAt=(0,N.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,N.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,N.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,N.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function gh(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==on&&(t.i=n.index_.toString()),t}class Ru extends Dg{constructor(t,e,i,o){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=o,this.log_=pu("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,N.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,o){const l=t._path.toString();this.log_("Listen called for "+l+" "+t._queryIdentifier);const f=Ru.getListenId_(t,i),g={};this.listens_[f]=g;const b=mh(t._queryParams);this.restRequest_(l+".json",b,(D,M)=>{let P=M;if(404===D&&(P=null,D=null),null===D&&this.onDataUpdate_(l,P,!1,i),(0,N.DV)(this.listens_,f)===g){let U;U=D?401===D?"permission_denied":"rest_error:"+D:"ok",o(U,null)}})}unlisten(t,e){const i=Ru.getListenId_(t,e);delete this.listens_[i]}get(t){const e=mh(t._queryParams),i=t._path.toString(),o=new N.BH;return this.restRequest_(i+".json",e,(l,f)=>{let g=f;404===l&&(g=null,l=null),null===l?(this.onDataUpdate_(i,g,!1,null),o.resolve(g)):o.reject(new Error(g))}),o.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,l])=>{o&&o.accessToken&&(e.auth=o.accessToken),l&&l.token&&(e.ac=l.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,N.xO)(e);this.log_("Sending REST request for "+f);const g=new XMLHttpRequest;g.onreadystatechange=()=>{if(i&&4===g.readyState){this.log_("REST Response for "+f+" received. status:",g.status,"response:",g.responseText);let b=null;if(g.status>=200&&g.status<300){try{b=(0,N.cI)(g.responseText)}catch(D){Ui("Failed to parse JSON response for "+f+": "+g.responseText)}i(null,b)}else 401!==g.status&&404!==g.status&&Ui("Got unsuccessful REST response for "+f+" Status: "+g.status),i(g.status);i=null}},g.open("GET",f,!0),g.send()})}}class rA{constructor(){this.rootNode_=wt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Ep(){return{value:null,children:new Map}}function nl(n,t,e){if(gt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=It(t);n.children.has(i)||n.children.set(i,Ep()),nl(n.children.get(i),t=Jt(t),e)}}function _h(n,t){if(gt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(on,(i,o)=>{nl(n,new Ht(i),o)}),_h(n,t)}}if(n.children.size>0){const e=It(t);return t=Jt(t),n.children.has(e)&&_h(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function Cp(n,t,e){null!==n.value?e(t,n.value):function Bv(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,o)=>{Cp(o,new Ht(t.toString()+"/"+i),e)})}class Ug{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&mi(this.last_,(i,o)=>{e[i]=e[i]-o}),this.last_=t,e}}class Hv{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Ug(t);const i=1e4+2e4*Math.random();Jd(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;mi(t,(o,l)=>{l>0&&(0,N.r3)(this.statsToReport_,o)&&(e[o]=l,i=!0)}),i&&this.server_.reportStats(e),Jd(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ps=(()=>{return(n=ps||(ps={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",ps;var n})();function yh(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class vh{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=ps.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(gt(this.path)){if(null!=this.affectedTree.value)return(0,N.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Ht(t));return new vh(jt(),e,this.revert)}}return(0,N.hu)(It(this.path)===t,"operationForChild called for unrelated child."),new vh(Jt(this.path),this.affectedTree,this.revert)}}class bh{constructor(t,e){this.source=t,this.path=e,this.type=ps.LISTEN_COMPLETE}operationForChild(t){return gt(this.path)?new bh(this.source,jt()):new bh(this.source,Jt(this.path))}}class il{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=ps.OVERWRITE}operationForChild(t){return gt(this.path)?new il(this.source,jt(),this.snap.getImmediateChild(t)):new il(this.source,Jt(this.path),this.snap)}}class lc{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=ps.MERGE}operationForChild(t){if(gt(this.path)){const e=this.children.subtree(new Ht(t));return e.isEmpty()?null:e.value?new il(this.source,jt(),e.value):new lc(this.source,jt(),e)}return(0,N.hu)(It(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new lc(this.source,Jt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class To{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(gt(t))return this.isFullyInitialized()&&!this.filtered_;const e=It(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Gg{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Pu(n,t,e,i,o,l){const f=i.filter(g=>g.type===e);f.sort((g,b)=>function zv(n,t,e){if(null==t.childName||null==e.childName)throw(0,N.g5)("Should only compare child_ events.");const i=new vt(t.childName,t.snapshotNode),o=new vt(e.childName,e.snapshotNode);return n.index_.compare(i,o)}(n,g,b)),f.forEach(g=>{const b=function Gv(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,g,l);o.forEach(D=>{D.respondsTo(g.type)&&t.push(D.createEvent(b,n.query_))})})}function Eh(n,t){return{eventCache:n,serverCache:t}}function Ou(n,t,e,i){return Eh(new To(t,e,i),n.serverCache)}function zg(n,t,e,i){return Eh(n.eventCache,new To(t,e,i))}function Ch(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Fu(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let $g;class tn{constructor(t,e=(()=>($g||($g=new Qi(QI)),$g))()){this.value=t,this.children=e}static fromObject(t){let e=new tn(null);return mi(t,(i,o)=>{e=e.set(new Ht(i),o)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:jt(),value:this.value};if(gt(t))return null;{const i=It(t),o=this.children.get(i);if(null!==o){const l=o.findRootMostMatchingPathAndValue(Jt(t),e);return null!=l?{path:en(new Ht(i),l.path),value:l.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(gt(t))return this;{const e=It(t),i=this.children.get(e);return null!==i?i.subtree(Jt(t)):new tn(null)}}set(t,e){if(gt(t))return new tn(e,this.children);{const i=It(t),l=(this.children.get(i)||new tn(null)).set(Jt(t),e),f=this.children.insert(i,l);return new tn(this.value,f)}}remove(t){if(gt(t))return this.children.isEmpty()?new tn(null):new tn(null,this.children);{const e=It(t),i=this.children.get(e);if(i){const o=i.remove(Jt(t));let l;return l=o.isEmpty()?this.children.remove(e):this.children.insert(e,o),null===this.value&&l.isEmpty()?new tn(null):new tn(this.value,l)}return this}}get(t){if(gt(t))return this.value;{const e=It(t),i=this.children.get(e);return i?i.get(Jt(t)):null}}setTree(t,e){if(gt(t))return e;{const i=It(t),l=(this.children.get(i)||new tn(null)).setTree(Jt(t),e);let f;return f=l.isEmpty()?this.children.remove(i):this.children.insert(i,l),new tn(this.value,f)}}fold(t){return this.fold_(jt(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((o,l)=>{i[o]=l.fold_(en(t,o),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,jt(),e)}findOnPath_(t,e,i){const o=!!this.value&&i(e,this.value);if(o)return o;if(gt(t))return null;{const l=It(t),f=this.children.get(l);return f?f.findOnPath_(Jt(t),en(e,l),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,jt(),e)}foreachOnPath_(t,e,i){if(gt(t))return this;{this.value&&i(e,this.value);const o=It(t),l=this.children.get(o);return l?l.foreachOnPath_(Jt(t),en(e,o),i):new tn(null)}}foreach(t){this.foreach_(jt(),t)}foreach_(t,e){this.children.inorderTraversal((i,o)=>{o.foreach_(en(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class js{constructor(t){this.writeTree_=t}static empty(){return new js(new tn(null))}}function Cn(n,t,e){if(gt(t))return new js(new tn(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const o=i.path;let l=i.value;const f=Zi(o,t);return l=l.updateChild(f,e),new js(n.writeTree_.set(o,l))}{const o=new tn(e),l=n.writeTree_.setTree(t,o);return new js(l)}}}function Ip(n,t,e){let i=n;return mi(e,(o,l)=>{i=Cn(i,en(t,o),l)}),i}function $v(n,t){if(gt(t))return js.empty();{const e=n.writeTree_.setTree(t,new tn(null));return new js(e)}}function Wg(n,t){return null!=rl(n,t)}function rl(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Zi(e.path,t)):null}function Wv(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(on,(i,o)=>{t.push(new vt(i,o))}):n.writeTree_.children.inorderTraversal((i,o)=>{null!=o.value&&t.push(new vt(i,o.value))}),t}function Ca(n,t){if(gt(t))return n;{const e=rl(n,t);return new js(null!=e?new tn(e):n.writeTree_.subtree(t))}}function Ap(n){return n.writeTree_.isEmpty()}function Gs(n,t){return Yv(jt(),n.writeTree_,t)}function Yv(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((o,l)=>{".priority"===o?((0,N.hu)(null!==l.value,"Priority writes must always be leaf nodes"),i=l.value):e=Yv(en(n,o),l,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(en(n,".priority"),i)),e}}function Tp(n,t){return nb(t,n)}function Zv(n,t){if(n.snap)return ds(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&ds(en(n.path,e),t))return!0;return!1}function So(n){return n.visible}function Qv(n,t,e){let i=js.empty();for(let o=0;o<n.length;++o){const l=n[o];if(t(l)){const f=l.path;let g;if(l.snap)ds(e,f)?(g=Zi(e,f),i=Cn(i,g,l.snap)):ds(f,e)&&(g=Zi(f,e),i=Cn(i,jt(),l.snap.getChild(g)));else{if(!l.children)throw(0,N.g5)("WriteRecord should have .snap or .children");if(ds(e,f))g=Zi(e,f),i=Ip(i,g,l.children);else if(ds(f,e))if(g=Zi(f,e),gt(g))i=Ip(i,jt(),l.children);else{const b=(0,N.DV)(l.children,It(g));if(b){const D=b.getChild(Jt(g));i=Cn(i,jt(),D)}}}}}return i}function Xv(n,t,e,i,o){if(i||o){const l=Ca(n.visibleWrites,t);return!o&&Ap(l)?e:o||null!=e||Wg(l,jt())?Gs(Qv(n.allWrites,function(D){return(D.visible||o)&&(!i||!~i.indexOf(D.writeId))&&(ds(D.path,t)||ds(t,D.path))},t),e||wt.EMPTY_NODE):null}{const l=rl(n.visibleWrites,t);if(null!=l)return l;{const f=Ca(n.visibleWrites,t);return Ap(f)?e:null!=e||Wg(f,jt())?Gs(f,e||wt.EMPTY_NODE):null}}}function Sp(n,t,e,i){return Xv(n.writeTree,n.treePath,t,e,i)}function qg(n,t){return function Mo(n,t,e){let i=wt.EMPTY_NODE;const o=rl(n.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(on,(l,f)=>{i=i.updateImmediateChild(l,f)}),i;if(e){const l=Ca(n.visibleWrites,t);return e.forEachChild(on,(f,g)=>{const b=Gs(Ca(l,new Ht(f)),g);i=i.updateImmediateChild(f,b)}),Wv(l).forEach(f=>{i=i.updateImmediateChild(f.name,f.node)}),i}return Wv(Ca(n.visibleWrites,t)).forEach(f=>{i=i.updateImmediateChild(f.name,f.node)}),i}(n.writeTree,n.treePath,t)}function tb(n,t,e,i){return function zs(n,t,e,i,o){(0,N.hu)(i||o,"Either existingEventSnap or existingServerSnap must exist");const l=en(t,e);if(Wg(n.visibleWrites,l))return null;{const f=Ca(n.visibleWrites,l);return Ap(f)?o.getChild(e):Gs(f,o.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function Nu(n,t){return function Jv(n,t){return rl(n.visibleWrites,t)}(n.writeTree,en(n.treePath,t))}function Kg(n,t,e){return function $s(n,t,e,i){const o=en(t,e),l=rl(n.visibleWrites,o);return null!=l?l:i.isCompleteForChild(e)?Gs(Ca(n.visibleWrites,o),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function Zg(n,t){return nb(en(n.treePath,t),n.writeTree)}function nb(n,t){return{treePath:n,writeTree:t}}class ib{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,N.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,N.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const o=this.changeMap.get(i);if(o){const l=o.type;if("child_added"===e&&"child_removed"===l)this.changeMap.set(i,xu(i,t.snapshotNode,o.snapshotNode));else if("child_removed"===e&&"child_added"===l)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===l)this.changeMap.set(i,fh(i,o.oldSnap));else if("child_changed"===e&&"child_added"===l)this.changeMap.set(i,Mu(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==l)throw(0,N.g5)("Illegal combination of changes: "+t+" occurred after "+o);this.changeMap.set(i,xu(i,t.snapshotNode,o.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const Dh=new class rb{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class Qg{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new To(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Kg(this.writes_,t,i)}}getChildAfterChild(t,e,i){const o=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Fu(this.viewCache_),l=function wh(n,t,e,i,o,l){return function eb(n,t,e,i,o,l,f){let g;const b=Ca(n.visibleWrites,t),D=rl(b,jt());if(null!=D)g=D;else{if(null==e)return[];g=Gs(b,e)}if(g=g.withIndex(f),g.isEmpty()||g.isLeafNode())return[];{const M=[],P=f.getCompare(),U=l?g.getReverseIteratorFrom(i,f):g.getIteratorFrom(i,f);let Y=U.getNext();for(;Y&&M.length<o;)0!==P(Y,i)&&M.push(Y),Y=U.getNext();return M}}(n.writeTree,n.treePath,t,e,i,o,l)}(this.writes_,o,e,1,i,t);return 0===l.length?null:l[0]}}function e_(n,t,e,i,o,l){const f=t.eventCache;if(null!=Nu(i,e))return t;{let g,b;if(gt(e))if((0,N.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const D=Fu(t),P=qg(i,D instanceof wt?D:wt.EMPTY_NODE);g=n.filter.updateFullNode(t.eventCache.getNode(),P,l)}else{const D=Sp(i,Fu(t));g=n.filter.updateFullNode(t.eventCache.getNode(),D,l)}else{const D=It(e);if(".priority"===D){(0,N.hu)(1===Ja(e),"Can't have a priority with additional path components");const M=f.getNode();b=t.serverCache.getNode();const P=tb(i,e,M,b);g=null!=P?n.filter.updatePriority(M,P):f.getNode()}else{const M=Jt(e);let P;if(f.isCompleteForChild(D)){b=t.serverCache.getNode();const U=tb(i,e,f.getNode(),b);P=null!=U?f.getNode().getImmediateChild(D).updateChild(M,U):f.getNode().getImmediateChild(D)}else P=Kg(i,D,t.serverCache);g=null!=P?n.filter.updateChild(f.getNode(),D,P,M,o,l):f.getNode()}}return Ou(t,g,f.isFullyInitialized()||gt(e),n.filter.filtersNodes())}}function Ih(n,t,e,i,o,l,f,g){const b=t.serverCache;let D;const M=f?n.filter:n.filter.getIndexedFilter();if(gt(e))D=M.updateFullNode(b.getNode(),i,null);else if(M.filtersNodes()&&!b.isFiltered()){const Y=b.getNode().updateChild(e,i);D=M.updateFullNode(b.getNode(),Y,null)}else{const Y=It(e);if(!b.isCompleteForPath(e)&&Ja(e)>1)return t;const J=Jt(e),Fe=b.getNode().getImmediateChild(Y).updateChild(J,i);D=".priority"===Y?M.updatePriority(b.getNode(),Fe):M.updateChild(b.getNode(),Y,Fe,J,Dh,null)}const P=zg(t,D,b.isFullyInitialized()||gt(e),M.filtersNodes());return e_(n,P,e,o,new Qg(o,P,l),g)}function Mp(n,t,e,i,o,l,f){const g=t.eventCache;let b,D;const M=new Qg(o,t,l);if(gt(e))D=n.filter.updateFullNode(t.eventCache.getNode(),i,f),b=Ou(t,D,!0,n.filter.filtersNodes());else{const P=It(e);if(".priority"===P)D=n.filter.updatePriority(t.eventCache.getNode(),i),b=Ou(t,D,g.isFullyInitialized(),g.isFiltered());else{const U=Jt(e),Y=g.getNode().getImmediateChild(P);let J;if(gt(U))J=i;else{const Te=M.getCompleteChild(P);J=null!=Te?".priority"===Tg(U)&&Te.getChild(Av(U)).isEmpty()?Te:Te.updateChild(U,i):wt.EMPTY_NODE}b=Y.equals(J)?t:Ou(t,n.filter.updateChild(g.getNode(),P,J,U,M,f),g.isFullyInitialized(),n.filter.filtersNodes())}}return b}function t_(n,t){return n.eventCache.isCompleteForChild(t)}function n_(n,t,e){return e.foreach((i,o)=>{t=t.updateChild(i,o)}),t}function xp(n,t,e,i,o,l,f,g){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let D,b=t;D=gt(e)?i:new tn(null).setTree(e,i);const M=t.serverCache.getNode();return D.children.inorderTraversal((P,U)=>{if(M.hasChild(P)){const J=n_(0,t.serverCache.getNode().getImmediateChild(P),U);b=Ih(n,b,new Ht(P),J,o,l,f,g)}}),D.children.inorderTraversal((P,U)=>{const Y=!t.serverCache.isCompleteForChild(P)&&void 0===U.value;if(!M.hasChild(P)&&!Y){const Te=n_(0,t.serverCache.getNode().getImmediateChild(P),U);b=Ih(n,b,new Ht(P),Te,o,l,f,g)}}),b}class UC{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,o=new vp(i.getIndex()),l=function Vg(n){return n.loadsAllData()?new vp(n.getIndex()):n.hasLimit()?new Ng(n):new ku(n)}(i);this.processor_=function sb(n){return{filter:n}}(l);const f=e.serverCache,g=e.eventCache,b=o.updateFullNode(wt.EMPTY_NODE,f.getNode(),null),D=l.updateFullNode(wt.EMPTY_NODE,g.getNode(),null),M=new To(b,f.isFullyInitialized(),o.filtersNodes()),P=new To(D,g.isFullyInitialized(),l.filtersNodes());this.viewCache_=Eh(P,M),this.eventGenerator_=new Gg(this.query_)}get query(){return this.query_}}function GC(n,t){const e=Fu(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!gt(t)&&!e.getImmediateChild(It(t)).isEmpty())?e.getChild(t):null}function cb(n){return 0===n.eventRegistrations_.length}function ub(n,t,e){const i=[];if(e){(0,N.hu)(null==t,"A cancel should cancel all event registrations.");const o=n.query._path;n.eventRegistrations_.forEach(l=>{const f=l.createCancelEvent(e,o);f&&i.push(f)})}if(t){let o=[];for(let l=0;l<n.eventRegistrations_.length;++l){const f=n.eventRegistrations_[l];if(f.matches(t)){if(t.hasAnyCallback()){o=o.concat(n.eventRegistrations_.slice(l+1));break}}else o.push(f)}n.eventRegistrations_=o}else n.eventRegistrations_=[];return i}function db(n,t,e,i){t.type===ps.MERGE&&null!==t.source.queryId&&((0,N.hu)(Fu(n.viewCache_),"We should always have a full cache before handling merges"),(0,N.hu)(Ch(n.viewCache_),"Missing event cache, even though we have a server cache"));const o=n.viewCache_,l=function Xg(n,t,e,i,o){const l=new ib;let f,g;if(e.type===ps.OVERWRITE){const D=e;D.source.fromUser?f=Mp(n,t,D.path,D.snap,i,o,l):((0,N.hu)(D.source.fromServer,"Unknown source."),g=D.source.tagged||t.serverCache.isFiltered()&&!gt(D.path),f=Ih(n,t,D.path,D.snap,i,o,g,l))}else if(e.type===ps.MERGE){const D=e;D.source.fromUser?f=function ab(n,t,e,i,o,l,f){let g=t;return i.foreach((b,D)=>{const M=en(e,b);t_(t,It(M))&&(g=Mp(n,g,M,D,o,l,f))}),i.foreach((b,D)=>{const M=en(e,b);t_(t,It(M))||(g=Mp(n,g,M,D,o,l,f))}),g}(n,t,D.path,D.children,i,o,l):((0,N.hu)(D.source.fromServer,"Unknown source."),g=D.source.tagged||t.serverCache.isFiltered(),f=xp(n,t,D.path,D.children,i,o,g,l))}else if(e.type===ps.ACK_USER_WRITE){const D=e;f=D.revert?function BC(n,t,e,i,o,l){let f;if(null!=Nu(i,e))return t;{const g=new Qg(i,t,o),b=t.eventCache.getNode();let D;if(gt(e)||".priority"===It(e)){let M;if(t.serverCache.isFullyInitialized())M=Sp(i,Fu(t));else{const P=t.serverCache.getNode();(0,N.hu)(P instanceof wt,"serverChildren would be complete if leaf node"),M=qg(i,P)}M=M,D=n.filter.updateFullNode(b,M,l)}else{const M=It(e);let P=Kg(i,M,t.serverCache);null==P&&t.serverCache.isCompleteForChild(M)&&(P=b.getImmediateChild(M)),D=null!=P?n.filter.updateChild(b,M,P,Jt(e),g,l):t.eventCache.getNode().hasChild(M)?n.filter.updateChild(b,M,wt.EMPTY_NODE,Jt(e),g,l):b,D.isEmpty()&&t.serverCache.isFullyInitialized()&&(f=Sp(i,Fu(t)),f.isLeafNode()&&(D=n.filter.updateFullNode(D,f,l)))}return f=t.serverCache.isFullyInitialized()||null!=Nu(i,jt()),Ou(t,D,f,n.filter.filtersNodes())}}(n,t,D.path,i,o,l):function lb(n,t,e,i,o,l,f){if(null!=Nu(o,e))return t;const g=t.serverCache.isFiltered(),b=t.serverCache;if(null!=i.value){if(gt(e)&&b.isFullyInitialized()||b.isCompleteForPath(e))return Ih(n,t,e,b.getNode().getChild(e),o,l,g,f);if(gt(e)){let D=new tn(null);return b.getNode().forEachChild(Hs,(M,P)=>{D=D.set(new Ht(M),P)}),xp(n,t,e,D,o,l,g,f)}return t}{let D=new tn(null);return i.foreach((M,P)=>{const U=en(e,M);b.isCompleteForPath(U)&&(D=D.set(M,b.getNode().getChild(U)))}),xp(n,t,e,D,o,l,g,f)}}(n,t,D.path,D.affectedTree,i,o,l)}else{if(e.type!==ps.LISTEN_COMPLETE)throw(0,N.g5)("Unknown operation type: "+e.type);f=function VC(n,t,e,i,o){const l=t.serverCache;return e_(n,zg(t,l.getNode(),l.isFullyInitialized()||gt(e),l.isFiltered()),e,i,Dh,o)}(n,t,e.path,i,l)}const b=l.getChanges();return function Jg(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const o=i.getNode().isLeafNode()||i.getNode().isEmpty(),l=Ch(n);(e.length>0||!n.eventCache.isFullyInitialized()||o&&!i.getNode().equals(l)||!i.getNode().getPriority().equals(l.getPriority()))&&e.push(Lv(Ch(t)))}}(t,f,b),{viewCache:f,changes:b}}(n.processor_,o,t,e,i);return function ob(n,t){(0,N.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,N.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,l.viewCache),(0,N.hu)(l.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=l.viewCache,hb(n,l.changes,l.viewCache.eventCache.getNode(),null)}function hb(n,t,e,i){return function jv(n,t,e,i){const o=[],l=[];return t.forEach(f=>{"child_changed"===f.type&&n.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&l.push(function PC(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(f.childName,f.snapshotNode))}),Pu(n,o,"child_removed",t,i,e),Pu(n,o,"child_added",t,i,e),Pu(n,o,"child_moved",l,i,e),Pu(n,o,"child_changed",t,i,e),Pu(n,o,"value",t,i,e),o}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let kp,Lu;class fb{constructor(){this.views=new Map}}function i_(n,t,e,i){const o=t.source.queryId;if(null!==o){const l=n.views.get(o);return(0,N.hu)(null!=l,"SyncTree gave us an op for an invalid query."),db(l,t,e,i)}{let l=[];for(const f of n.views.values())l=l.concat(db(f,t,e,i));return l}}function r_(n,t,e,i,o){const f=n.views.get(t._queryIdentifier);if(!f){let g=Sp(e,o?i:null),b=!1;g?b=!0:i instanceof wt?(g=qg(e,i),b=!1):(g=wt.EMPTY_NODE,b=!1);const D=Eh(new To(g,b,!1),new To(i,o,!1));return new UC(t,D)}return f}function s_(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function wa(n,t){let e=null;for(const i of n.views.values())e=e||GC(i,t);return e}function o_(n,t){return t._queryParams.loadsAllData()?Ah(n):n.views.get(t._queryIdentifier)}function a_(n,t){return null!=o_(n,t)}function Da(n){return null!=Ah(n)}function Ah(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let KC=1;class _b{constructor(t){this.listenProvider_=t,this.syncPointTree_=new tn(null),this.pendingWriteTree_=function LC(){return{visibleWrites:js.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function sl(n,t,e,i,o){return function qv(n,t,e,i,o){(0,N.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:o}),o&&(n.visibleWrites=Cn(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,o),o?Ia(n,new il({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function xo(n,t,e=!1){const i=function Kv(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function sA(n,t){const e=n.allWrites.findIndex(g=>g.writeId===t);(0,N.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let o=i.visible,l=!1,f=n.allWrites.length-1;for(;o&&f>=0;){const g=n.allWrites[f];g.visible&&(f>=e&&Zv(g,i.path)?o=!1:ds(i.path,g.path)&&(l=!0)),f--}return!!o&&(l?(function Yg(n){n.visibleWrites=Qv(n.allWrites,So,jt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=$v(n.visibleWrites,i.path):mi(i.children,b=>{n.visibleWrites=$v(n.visibleWrites,en(i.path,b))}),!0))}(n.pendingWriteTree_,t)){let l=new tn(null);return null!=i.snap?l=l.set(jt(),!0):mi(i.children,f=>{l=l.set(new Ht(f),!0)}),Ia(n,new vh(i.path,l,e))}return[]}function Rp(n,t,e){return Ia(n,new il({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function st(n,t,e,i){const o=t._path,l=n.syncPointTree_.get(o);let f=[];if(l&&("default"===t._queryIdentifier||a_(l,t))){const g=function mb(n,t,e,i){const o=t._queryIdentifier,l=[];let f=[];const g=Da(n);if("default"===o)for(const[b,D]of n.views.entries())f=f.concat(ub(D,e,i)),cb(D)&&(n.views.delete(b),D.query._queryParams.loadsAllData()||l.push(D.query));else{const b=n.views.get(o);b&&(f=f.concat(ub(b,e,i)),cb(b)&&(n.views.delete(o),b.query._queryParams.loadsAllData()||l.push(b.query)))}return g&&!Da(n)&&l.push(new(function YC(){return(0,N.hu)(kp,"Reference.ts has not been loaded"),kp}())(t._repo,t._path)),{removed:l,events:f}}(l,t,e,i);(function qC(n){return 0===n.views.size})(l)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const b=g.removed;f=g.events;const D=-1!==b.findIndex(P=>P._queryParams.loadsAllData()),M=n.syncPointTree_.findOnPath(o,(P,U)=>Da(U));if(D&&!M){const P=n.syncPointTree_.subtree(o);if(!P.isEmpty()){const U=function Eb(n){return n.fold((t,e,i)=>{if(e&&Da(e))return[Ah(e)];{let o=[];return e&&(o=s_(e)),mi(i,(l,f)=>{o=o.concat(f)}),o}})}(P);for(let Y=0;Y<U.length;++Y){const J=U[Y],Te=J.query,Fe=JC(n,J);n.listenProvider_.startListening(Vu(Te),Sh(n,Te),Fe.hashFn,Fe.onComplete)}}}!M&&b.length>0&&!i&&(D?n.listenProvider_.stopListening(Vu(t),null):b.forEach(P=>{const U=n.queryToTagMap.get(Pp(P));n.listenProvider_.stopListening(Vu(P),U)})),function ew(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const o=Pp(i),l=n.queryToTagMap.get(o);n.queryToTagMap.delete(o),n.tagToQueryMap.delete(l)}}}(n,b)}return f}function bb(n,t,e){const i=t._path;let o=null,l=!1;n.syncPointTree_.foreachOnPath(i,(P,U)=>{const Y=Zi(P,i);o=o||wa(U,Y),l=l||Da(U)});let g,f=n.syncPointTree_.get(i);f?(l=l||Da(f),o=o||wa(f,jt())):(f=new fb,n.syncPointTree_=n.syncPointTree_.set(i,f)),null!=o?g=!0:(g=!1,o=wt.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((U,Y)=>{const J=wa(Y,jt());J&&(o=o.updateImmediateChild(U,J))}));const b=a_(f,t);if(!b&&!t._queryParams.loadsAllData()){const P=Pp(t);(0,N.hu)(!n.queryToTagMap.has(P),"View does not exist, but we have a tag");const U=function tw(){return KC++}();n.queryToTagMap.set(P,U),n.tagToQueryMap.set(U,P)}let M=function pb(n,t,e,i,o,l){const f=r_(n,t,i,o,l);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,f),function zC(n,t){n.eventRegistrations_.push(t)}(f,e),function $C(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(on,(l,f)=>{i.push(Mu(l,f))}),e.isFullyInitialized()&&i.push(Lv(e.getNode())),hb(n,i,e.getNode(),t)}(f,e)}(f,t,e,Tp(n.pendingWriteTree_,i),o,g);if(!b&&!l){const P=o_(f,t);M=M.concat(function nw(n,t,e){const i=t._path,o=Sh(n,t),l=JC(n,e),f=n.listenProvider_.startListening(Vu(t),o,l.hashFn,l.onComplete),g=n.syncPointTree_.subtree(i);if(o)(0,N.hu)(!Da(g.value),"If we're adding a query, it shouldn't be shadowed");else{const b=g.fold((D,M,P)=>{if(!gt(D)&&M&&Da(M))return[Ah(M).query];{let U=[];return M&&(U=U.concat(s_(M).map(Y=>Y.query))),mi(P,(Y,J)=>{U=U.concat(J)}),U}});for(let D=0;D<b.length;++D){const M=b[D];n.listenProvider_.stopListening(Vu(M),Sh(n,M))}}return f}(n,t,P))}return M}function uc(n,t,e){const o=n.pendingWriteTree_,l=n.syncPointTree_.findOnPath(t,(f,g)=>{const D=wa(g,Zi(f,t));if(D)return D});return Xv(o,t,l,e,!0)}function Ia(n,t){return Th(t,n.syncPointTree_,null,Tp(n.pendingWriteTree_,jt()))}function Th(n,t,e,i){if(gt(n.path))return wn(n,t,e,i);{const o=t.get(jt());null==e&&null!=o&&(e=wa(o,jt()));let l=[];const f=It(n.path),g=n.operationForChild(f),b=t.children.get(f);if(b&&g){const D=e?e.getImmediateChild(f):null,M=Zg(i,f);l=l.concat(Th(g,b,D,M))}return o&&(l=l.concat(i_(o,n,i,e))),l}}function wn(n,t,e,i){const o=t.get(jt());null==e&&null!=o&&(e=wa(o,jt()));let l=[];return t.children.inorderTraversal((f,g)=>{const b=e?e.getImmediateChild(f):null,D=Zg(i,f),M=n.operationForChild(f);M&&(l=l.concat(wn(M,g,b,D)))}),o&&(l=l.concat(i_(o,n,i,e))),l}function JC(n,t){const e=t.query,i=Sh(n,e);return{hashFn:()=>(function HC(n){return n.viewCache_.serverCache.getNode()}(t)||wt.EMPTY_NODE).hash(),onComplete:o=>{if("ok"===o)return i?function aA(n,t,e){const i=l_(n,e);if(i){const o=Op(i),l=o.path,f=o.queryId,g=Zi(l,t);return Fp(n,l,new bh(yh(f),g))}return[]}(n,e._path,i):function vb(n,t){return Ia(n,new bh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const l=function op(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(o,e);return st(n,e,null,l)}}}}function Sh(n,t){const e=Pp(t);return n.queryToTagMap.get(e)}function Pp(n){return n._path.toString()+"$"+n._queryIdentifier}function l_(n,t){return n.tagToQueryMap.get(t)}function Op(n){const t=n.indexOf("$");return(0,N.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Ht(n.substr(0,t))}}function Fp(n,t,e){const i=n.syncPointTree_.get(t);return(0,N.hu)(i,"Missing sync point for query tag that we're tracking"),i_(i,e,Tp(n.pendingWriteTree_,t),null)}function Vu(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function cc(){return(0,N.hu)(Lu,"Reference.ts has not been loaded"),Lu}())(n._repo,n._path):n}class dc{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new dc(e)}node(){return this.node_}}class c_{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=en(this.path_,t);return new c_(this.syncTree_,e)}node(){return uc(this.syncTree_,this.path_)}}const Cb=function(n,t,e){return n&&"object"==typeof n?((0,N.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Np(n[".sv"],t,e):"object"==typeof n[".sv"]?wb(n[".sv"],t):void(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Np=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,N.hu)(!1,"Unexpected server value: "+n)},wb=function(n,t,e){n.hasOwnProperty("increment")||(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,N.hu)(!1,"Unexpected increment value: "+i);const o=t.node();if((0,N.hu)(null!=o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return i;const f=o.getValue();return"number"!=typeof f?i:f+i},u_=function(n,t,e,i){return d_(t,new c_(e,n),i)},Lp=function(n,t,e){return d_(n,new dc(t),e)};function d_(n,t,e){const i=n.getPriority().val(),o=Cb(i,t.getImmediateChild(".priority"),e);let l;if(n.isLeafNode()){const f=n,g=Cb(f.getValue(),t,e);return g!==f.getValue()||o!==f.getPriority().val()?new Du(g,En(o)):n}{const f=n;return l=f,o!==f.getPriority().val()&&(l=l.updatePriority(new Du(o))),f.forEachChild(on,(g,b)=>{const D=d_(b,t.getImmediateChild(g),e);D!==b&&(l=l.updateImmediateChild(g,D))}),l}}class hc{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function ol(n,t){let e=t instanceof Ht?t:new Ht(t),i=n,o=It(e);for(;null!==o;){const l=(0,N.DV)(i.node.children,o)||{children:{},childCount:0};i=new hc(o,i,l),e=Jt(e),o=It(e)}return i}function fc(n){return n.node.value}function h_(n,t){n.node.value=t,p_(n)}function Db(n){return n.node.childCount>0}function Mh(n,t){mi(n.node.children,(e,i)=>{t(new hc(e,n,i))})}function f_(n,t,e,i){e&&!i&&t(n),Mh(n,o=>{f_(o,t,!0,i)}),e&&i&&t(n)}function Bu(n){return new Ht(null===n.parent?n.name:Bu(n.parent)+"/"+n.name)}function p_(n){null!==n.parent&&function sw(n,t,e){const i=function Ib(n){return void 0===fc(n)&&!Db(n)}(e),o=(0,N.r3)(n.node.children,t);i&&o?(delete n.node.children[t],n.node.childCount--,p_(n)):!i&&!o&&(n.node.children[t]=e.node,n.node.childCount++,p_(n))}(n.parent,n.name,n)}const lA=/[\[\].#$\/\u0000-\u001F\u007F]/,cA=/[\[\].#$\u0000-\u001F\u007F]/,Ab=10485760,m_=function(n){return"string"==typeof n&&0!==n.length&&!lA.test(n)},g_=function(n){return"string"==typeof n&&0!==n.length&&!cA.test(n)},xh=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!rp(n)||n&&"object"==typeof n&&(0,N.r3)(n,".sv")},ko=function(n,t,e,i){i&&void 0===t||Uu((0,N.gK)(n,"value"),t,e)},Uu=function(n,t,e){const i=e instanceof Ht?new Mg(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Br(i));if("function"==typeof t)throw new Error(n+"contains a function "+Br(i)+" with contents = "+t.toString());if(rp(t))throw new Error(n+"contains "+t.toString()+" "+Br(i));if("string"==typeof t&&t.length>Ab/3&&(0,N.ug)(t)>Ab)throw new Error(n+"contains a string greater than "+Ab+" utf8 bytes "+Br(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let o=!1,l=!1;if(mi(t,(f,g)=>{if(".value"===f)o=!0;else if(".priority"!==f&&".sv"!==f&&(l=!0,!m_(f)))throw new Error(n+" contains an invalid key ("+f+") "+Br(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Ao(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,N.ug)(t),xi(n)})(i,f),Uu(n,g,i),function lh(n){const t=n.parts_.pop();n.byteLength_-=(0,N.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),o&&l)throw new Error(n+' contains ".value" child '+Br(i)+" in addition to actual children.")}},Tb=function(n,t,e,i){if(i&&void 0===t)return;const o=(0,N.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");const l=[];mi(t,(f,g)=>{const b=new Ht(f);if(Uu(o,g,en(e,b)),".priority"===Tg(b)&&!xh(g))throw new Error(o+"contains an invalid value for '"+b.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(b)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const l=oh(i);for(let f=0;f<l.length;f++)if((".priority"!==l[f]||f!==l.length-1)&&!m_(l[f]))throw new Error(n+"contains an invalid key ("+l[f]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(ah);let o=null;for(e=0;e<t.length;e++){if(i=t[e],null!==o&&ds(o,i))throw new Error(n+"contains a path "+o.toString()+" that is ancestor of another path "+i.toString());o=i}}(o,l)},__=function(n,t,e){if(!e||void 0!==t){if(rp(t))throw new Error((0,N.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!xh(t))throw new Error((0,N.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Rh=function(n,t,e,i){if(!(i&&void 0===e||m_(e)))throw new Error((0,N.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ph=function(n,t,e,i){if(!(i&&void 0===e||g_(e)))throw new Error((0,N.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ur=function(n,t){if(".info"===It(t))throw new Error(n+" failed = Can't modify data under /.info/")},Sb=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!m_(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),g_(n)}(e))throw new Error((0,N.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class aw{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Aa(n,t){let e=null;for(let i=0;i<t.length;i++){const o=t[i],l=o.getPath();null!==e&&!Sg(l,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:l}),e.events.push(o)}e&&n.eventLists_.push(e)}function y_(n,t,e){Aa(n,e),Mb(n,i=>Sg(i,t))}function Hr(n,t,e){Aa(n,e),Mb(n,i=>ds(i,t)||ds(t,i))}function Mb(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const o=n.eventLists_[i];o&&(t(o.path)?(xb(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function xb(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();ec&&pi("event: "+e.toString()),nc(i)}}}const kb="repo_interrupt";class lw{constructor(t,e,i,o){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new aw,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ep(),this.transactionQueueTree_=new hc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Pb(n){const e=n.infoData_.getNode(new Ht(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Hu(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:Pb(n)})}function b_(n,t,e,i,o){n.dataUpdateCount++;const l=new Ht(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let f=[];if(o)if(i){const b=(0,N.UI)(e,D=>En(D));f=function QC(n,t,e,i){const o=l_(n,i);if(o){const l=Op(o),f=l.path,g=l.queryId,b=Zi(f,t),D=tn.fromObject(e);return Fp(n,f,new lc(yh(g),b,D))}return[]}(n.serverSyncTree_,l,b,o)}else{const b=En(e);f=function ZC(n,t,e,i){const o=l_(n,i);if(null!=o){const l=Op(o),f=l.path,g=l.queryId,b=Zi(f,t);return Fp(n,f,new il(yh(g),b,e))}return[]}(n.serverSyncTree_,l,b,o)}else if(i){const b=(0,N.UI)(e,D=>En(D));f=function yb(n,t,e){const i=tn.fromObject(e);return Ia(n,new lc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,l,b)}else{const b=En(e);f=Rp(n.serverSyncTree_,l,b)}let g=l;f.length>0&&(g=ll(n,l)),Hr(n.eventQueue_,g,f)}function Ob(n,t){E_(n,"connected",t),!1===t&&function hw(n){Gu(n,"onDisconnectEvents");const t=Hu(n),e=Ep();Cp(n.onDisconnect_,jt(),(o,l)=>{const f=u_(o,l,n.serverSyncTree_,t);nl(e,o,f)});let i=[];Cp(e,jt(),(o,l)=>{i=i.concat(Rp(n.serverSyncTree_,o,l));const f=Oh(n,o);ll(n,f)}),n.onDisconnect_=Ep(),Hr(n.eventQueue_,jt(),i)}(n)}function E_(n,t,e){const i=new Ht("/.info/"+t),o=En(e);n.infoData_.updateSnapshot(i,o);const l=Rp(n.infoSyncTree_,i,o);Hr(n.eventQueue_,i,l)}function ju(n){return n.nextWriteId_++}function Bp(n,t,e,i,o){Gu(n,"set",{path:t.toString(),value:e,priority:i});const l=Hu(n),f=En(e,i),g=uc(n.serverSyncTree_,t),b=Lp(f,g,l),D=ju(n),M=sl(n.serverSyncTree_,t,b,D,!0);Aa(n.eventQueue_,M),n.server_.put(t.toString(),f.val(!0),(U,Y)=>{const J="ok"===U;J||Ui("set at "+t+" failed: "+U);const Te=xo(n.serverSyncTree_,D,!J);Hr(n.eventQueue_,t,Te),al(0,o,U,Y)});const P=Oh(n,t);ll(n,P),Hr(n.eventQueue_,P,[])}function fw(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,o)=>{"ok"===i&&_h(n.onDisconnect_,t),al(0,e,i,o)})}function Fb(n,t,e,i){const o=En(e);n.server_.onDisconnectPut(t.toString(),o.val(!0),(l,f)=>{"ok"===l&&nl(n.onDisconnect_,t,o),al(0,i,l,f)})}function C_(n,t,e){let i;i=".info"===It(t._path)?st(n.infoSyncTree_,t,e):st(n.serverSyncTree_,t,e),y_(n.eventQueue_,t._path,i)}function w_(n){n.persistentConnection_&&n.persistentConnection_.interrupt(kb)}function Gu(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),pi(e,...t)}function al(n,t,e,i){t&&nc(()=>{if("ok"===e)t(null);else{const o=(e||"error").toUpperCase();let l=o;i&&(l+=": "+i);const f=new Error(l);f.code=o,t(f)}})}function D_(n,t,e){return uc(n.serverSyncTree_,t,e)||wt.EMPTY_NODE}function Up(n,t=n.transactionQueueTree_){if(t||jp(n,t),fc(t)){const e=Hp(n,t);(0,N.hu)(e.length>0,"Sending zero length transaction queue"),e.every(o=>0===o.status)&&function _w(n,t,e){const i=e.map(D=>D.currentWriteId),o=D_(n,t,i);let l=o;const f=o.hash();for(let D=0;D<e.length;D++){const M=e[D];(0,N.hu)(0===M.status,"tryToSendTransactionQueue_: items in queue should all be run."),M.status=1,M.retryCount++;const P=Zi(t,M.path);l=l.updateChild(P,M.currentOutputSnapshotRaw)}const g=l.val(!0),b=t;n.server_.put(b.toString(),g,D=>{Gu(n,"transaction put response",{path:b.toString(),status:D});let M=[];if("ok"===D){const P=[];for(let U=0;U<e.length;U++)e[U].status=2,M=M.concat(xo(n.serverSyncTree_,e[U].currentWriteId)),e[U].onComplete&&P.push(()=>e[U].onComplete(null,!0,e[U].currentOutputSnapshotResolved)),e[U].unwatcher();jp(n,ol(n.transactionQueueTree_,t)),Up(n,n.transactionQueueTree_),Hr(n.eventQueue_,t,M);for(let U=0;U<P.length;U++)nc(P[U])}else{if("datastale"===D)for(let P=0;P<e.length;P++)e[P].status=3===e[P].status?4:0;else{Ui("transaction at "+b.toString()+" failed: "+D);for(let P=0;P<e.length;P++)e[P].status=4,e[P].abortReason=D}ll(n,t)}},f)}(n,Bu(t),e)}else Db(t)&&Mh(t,e=>{Up(n,e)})}function ll(n,t){const e=A_(n,t),i=Bu(e);return function I_(n,t,e){if(0===t.length)return;const i=[];let o=[];const f=t.filter(g=>0===g.status).map(g=>g.currentWriteId);for(let g=0;g<t.length;g++){const b=t[g],D=Zi(e,b.path);let P,M=!1;if((0,N.hu)(null!==D,"rerunTransactionsUnderNode_: relativePath should not be null."),4===b.status)M=!0,P=b.abortReason,o=o.concat(xo(n.serverSyncTree_,b.currentWriteId,!0));else if(0===b.status)if(b.retryCount>=25)M=!0,P="maxretry",o=o.concat(xo(n.serverSyncTree_,b.currentWriteId,!0));else{const U=D_(n,b.path,f);b.currentInputSnapshot=U;const Y=t[g].update(U.val());if(void 0!==Y){Uu("transaction failed: Data returned ",Y,b.path);let J=En(Y);"object"==typeof Y&&null!=Y&&(0,N.r3)(Y,".priority")||(J=J.updatePriority(U.getPriority()));const Fe=b.currentWriteId,Ze=Hu(n),lt=Lp(J,U,Ze);b.currentOutputSnapshotRaw=J,b.currentOutputSnapshotResolved=lt,b.currentWriteId=ju(n),f.splice(f.indexOf(Fe),1),o=o.concat(sl(n.serverSyncTree_,b.path,lt,b.currentWriteId,b.applyLocally)),o=o.concat(xo(n.serverSyncTree_,Fe,!0))}else M=!0,P="nodata",o=o.concat(xo(n.serverSyncTree_,b.currentWriteId,!0))}Hr(n.eventQueue_,e,o),o=[],M&&(t[g].status=2,setTimeout(t[g].unwatcher,Math.floor(0)),t[g].onComplete&&i.push("nodata"===P?()=>t[g].onComplete(null,!1,t[g].currentInputSnapshot):()=>t[g].onComplete(new Error(P),!1,null)))}jp(n,n.transactionQueueTree_);for(let g=0;g<i.length;g++)nc(i[g]);Up(n,n.transactionQueueTree_)}(n,Hp(n,e),i),i}function A_(n,t){let e,i=n.transactionQueueTree_;for(e=It(t);null!==e&&void 0===fc(i);)i=ol(i,e),e=It(t=Jt(t));return i}function Hp(n,t){const e=[];return Vb(n,t,e),e.sort((i,o)=>i.order-o.order),e}function Vb(n,t,e){const i=fc(t);if(i)for(let o=0;o<i.length;o++)e.push(i[o]);Mh(t,o=>{Vb(n,o,e)})}function jp(n,t){const e=fc(t);if(e){let i=0;for(let o=0;o<e.length;o++)2!==e[o].status&&(e[i]=e[o],i++);e.length=i,h_(t,e.length>0?e:void 0)}Mh(t,i=>{jp(n,i)})}function Oh(n,t){const e=Bu(A_(n,t)),i=ol(n.transactionQueueTree_,t);return function rw(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,o=>{T_(n,o)}),T_(n,i),f_(i,o=>{T_(n,o)}),e}function T_(n,t){const e=fc(t);if(e){const i=[];let o=[],l=-1;for(let f=0;f<e.length;f++)3===e[f].status||(1===e[f].status?((0,N.hu)(l===f-1,"All SENT items should be at beginning of queue."),l=f,e[f].status=3,e[f].abortReason="set"):((0,N.hu)(0===e[f].status,"Unexpected transaction status in abort"),e[f].unwatcher(),o=o.concat(xo(n.serverSyncTree_,e[f].currentWriteId,!0)),e[f].onComplete&&i.push(e[f].onComplete.bind(null,new Error("set"),!1,null))));-1===l?h_(t,void 0):e.length=l+1,Hr(n.eventQueue_,Bu(t),o);for(let f=0;f<i.length;f++)nc(i[f])}}const Gp=function(n,t){const e=vw(n),i=e.namespace;return"firebase.com"===e.domain&&Co(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Co("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ui("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new lp(e.host,e.secure,i,t,"ws"===e.scheme||"wss"===e.scheme,"",i!==e.subdomain),path:new Ht(e.pathString)}},vw=function(n){let t="",e="",i="",o="",l="",f=!0,g="https",b=443;if("string"==typeof n){let D=n.indexOf("//");D>=0&&(g=n.substring(0,D-1),n=n.substring(D+2));let M=n.indexOf("/");-1===M&&(M=n.length);let P=n.indexOf("?");-1===P&&(P=n.length),t=n.substring(0,Math.min(M,P)),M<P&&(o=function Bb(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let o=e[i];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch(l){}t+="/"+o}return t}(n.substring(M,P)));const U=function yw(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ui(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,P)));D=t.indexOf(":"),D>=0?(f="https"===g||"wss"===g,b=parseInt(t.substring(D+1),10)):D=t.length;const Y=t.slice(0,D);if("localhost"===Y.toLowerCase())e="localhost";else if(Y.split(".").length<=2)e=Y;else{const J=t.indexOf(".");i=t.substring(0,J).toLowerCase(),e=t.substring(J+1),l=i}"ns"in U&&(l=U.ns)}return{host:t,port:b,domain:e,subdomain:i,secure:f,scheme:g,pathString:o,namespace:l}};class S_{constructor(t,e,i,o){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=o}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,N.Pz)(this.snapshot.exportVal())}}class bw{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Ub{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,N.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class zu{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new N.BH;return fw(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Ur("OnDisconnect.remove",this._path);const t=new N.BH;return Fb(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Ur("OnDisconnect.set",this._path),ko("OnDisconnect.set",t,this._path,!1);const e=new N.BH;return Fb(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Ur("OnDisconnect.setWithPriority",this._path),ko("OnDisconnect.setWithPriority",t,this._path,!1),__("OnDisconnect.setWithPriority",e,!1);const i=new N.BH;return function pw(n,t,e,i,o){const l=En(e,i);n.server_.onDisconnectPut(t.toString(),l.val(!0),(f,g)=>{"ok"===f&&nl(n.onDisconnect_,t,l),al(0,o,f,g)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Ur("OnDisconnect.update",this._path),Tb("OnDisconnect.update",t,this._path,!1);const e=new N.BH;return function mw(n,t,e,i){if((0,N.xb)(e))return pi("onDisconnect().update() called with empty data.  Don't do anything."),void al(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(o,l)=>{"ok"===o&&mi(e,(f,g)=>{const b=En(g);nl(n.onDisconnect_,en(t,f),b)}),al(0,i,o,l)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class yr{constructor(t,e,i,o){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=o}get key(){return gt(this._path)?null:Tg(this._path)}get ref(){return new Ws(this._repo,this._path)}get _queryIdentifier(){const t=gh(this._queryParams),e=ug(t);return"{}"===e?"default":e}get _queryObject(){return gh(this._queryParams)}isEqual(t){if(!((t=(0,N.m9)(t))instanceof yr))return!1;const e=this._repo===t._repo,i=Sg(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function TC(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function Ta(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function ms(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Hs){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Us)throw new Error(i);if("string"!=typeof t)throw new Error(o)}if(n.hasEnd()){if(n.getIndexEndName()!==Do)throw new Error(i);if("string"!=typeof e)throw new Error(o)}}else if(n.getIndex()===on){if(null!=t&&!xh(t)||null!=e&&!xh(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,N.hu)(n.getIndex()instanceof tl||n.getIndex()===_p,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function zp(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ws extends yr{constructor(t,e){super(t,e,new Lg,!1)}get parent(){const t=Av(this._path);return null===t?null:new Ws(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class cl{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Ht(t),i=pc(this.ref,t);return new cl(this._node.getChild(e),i,on)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,o)=>t(new cl(o,pc(this.ref,i),on)))}hasChild(t){const e=new Ht(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Hb(n,t){return(n=(0,N.m9)(n))._checkNotDeleted("ref"),void 0!==t?pc(n._root,t):n._root}function jb(n,t){(n=(0,N.m9)(n))._checkNotDeleted("refFromURL");const e=Gp(t,n._repo.repoInfo_.nodeAdmin);Sb("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Co("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),Hb(n,e.path.toString())}function pc(n,t){return null===It((n=(0,N.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Ph("child","path",e,!1)):Ph("child","path",t,!1),new Ws(n._repo,en(n._path,t));var e}function Fh(n,t){n=(0,N.m9)(n),Ur("set",n._path),ko("set",t,n._path,!1);const e=new N.BH;return Bp(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function Ew(n,t){Tb("update",t,n._path,!1);const e=new N.BH;return function dw(n,t,e,i){Gu(n,"update",{path:t.toString(),value:e});let o=!0;const l=Hu(n),f={};if(mi(e,(g,b)=>{o=!1,f[g]=u_(en(t,g),En(b),n.serverSyncTree_,l)}),o)pi("update() called with empty data.  Don't do anything."),al(0,i,"ok",void 0);else{const g=ju(n),b=function oA(n,t,e,i){!function NC(n,t,e,i){(0,N.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=Ip(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const o=tn.fromObject(e);return Ia(n,new lc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,o))}(n.serverSyncTree_,t,f,g);Aa(n.eventQueue_,b),n.server_.merge(t.toString(),e,(D,M)=>{const P="ok"===D;P||Ui("update at "+t+" failed: "+D);const U=xo(n.serverSyncTree_,g,!P),Y=U.length>0?ll(n,t):t;Hr(n.eventQueue_,Y,U),al(0,i,D,M)}),mi(e,D=>{const M=Oh(n,en(t,D));ll(n,M)}),Hr(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function $b(n){return function uw(n,t){const e=function XC(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(D,M)=>{const P=Zi(D,e);i=i||wa(M,P)});let o=n.syncPointTree_.get(e);o?i=i||wa(o,jt()):(o=new fb,n.syncPointTree_=n.syncPointTree_.set(e,o));const l=null!=i,f=l?new To(i,!0,!1):null;return function jC(n){return Ch(n.viewCache_)}(r_(o,t,Tp(n.pendingWriteTree_,t._path),l?f.getNode():wt.EMPTY_NODE,l))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(i=>{const o=En(i).withIndex(t._queryParams.getIndex()),l=Rp(n.serverSyncTree_,t._path,o);return y_(n.eventQueue_,t._path,l),Promise.resolve(o)},i=>(Gu(n,"get for query "+(0,N.Pz)(t)+" failed: "+i),Promise.reject(new Error(i))))}((n=(0,N.m9)(n))._repo,n).then(t=>new cl(t,new Ws(n._repo,n._path),n._queryParams.getIndex()))}class Lh{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new S_("value",this,new cl(t.snapshotNode,new Ws(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new bw(this,t,e):null}matches(t){return t instanceof Lh&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Wp{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new bw(this,t,e):null}createEvent(t,e){(0,N.hu)(null!=t.childName,"Child events should have a childName.");const i=pc(new Ws(e._repo,e._path),t.childName),o=e._queryParams.getIndex();return new S_(t.type,this,new cl(t.snapshotNode,i,o),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Wp&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Vh(n,t,e,i,o){let l;if("object"==typeof i&&(l=void 0,o=i),"function"==typeof i&&(l=i),o&&o.onlyOnce){const b=e,D=(M,P)=>{C_(n._repo,n,g),b(M,P)};D.userCallback=e.userCallback,D.context=e.context,e=D}const f=new Ub(e,l||void 0),g="value"===t?new Lh(f):new Wp(t,f);return function gw(n,t,e){let i;i=".info"===It(t._path)?bb(n.infoSyncTree_,t,e):bb(n.serverSyncTree_,t,e),y_(n.eventQueue_,t._path,i)}(n._repo,n,g),()=>C_(n._repo,n,g)}function M_(n,t,e,i){return Vh(n,"value",t,e,i)}function Yp(n,t,e,i){return Vh(n,"child_added",t,e,i)}function Wb(n,t,e,i){return Vh(n,"child_changed",t,e,i)}function Cw(n,t,e,i){return Vh(n,"child_moved",t,e,i)}function Yb(n,t,e,i){return Vh(n,"child_removed",t,e,i)}function qb(n,t,e){let i=null;const o=e?new Ub(e):null;"value"===t?i=new Lh(o):t&&(i=new Wp(t,o)),C_(n._repo,n,i)}class ji{}class Kb extends ji{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ko("endAt",this._value,t._path,!0);const e=ph(t._queryParams,this._value,this._key);if(zp(e),ms(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new yr(t._repo,t._path,e,t._orderByCalled)}}class dA extends ji{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ko("endBefore",this._value,t._path,!1);const e=function Bg(n,t,e){let i,o;return n.index_===Hs?("string"==typeof t&&(t=Nv(t)),o=ph(n,t,e)):(i=null==e?Us:Nv(e),o=ph(n,t,i)),o.endBeforeSet_=!0,o}(t._queryParams,this._value,this._key);if(zp(e),ms(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new yr(t._repo,t._path,e,t._orderByCalled)}}class Qb extends ji{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ko("startAt",this._value,t._path,!0);const e=ac(t._queryParams,this._value,this._key);if(zp(e),ms(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new yr(t._repo,t._path,e,t._orderByCalled)}}class Xb extends ji{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ko("startAfter",this._value,t._path,!1);const e=function Vv(n,t,e){let i;if(n.index_===Hs)"string"==typeof t&&(t=Fv(t)),i=ac(n,t,e);else{let o;o=null==e?Do:Fv(e),i=ac(n,t,o)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(zp(e),ms(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new yr(t._repo,t._path,e,t._orderByCalled)}}class Jb extends ji{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new yr(t._repo,t._path,function OC(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class ww extends ji{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new yr(t._repo,t._path,function iA(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class Iw extends ji{constructor(t){super(),this._path=t}_apply(t){Ta(t,"orderByChild");const e=new Ht(this._path);if(gt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new tl(e),o=bp(t._queryParams,i);return ms(o),new yr(t._repo,t._path,o,!0)}}class Tw extends ji{_apply(t){Ta(t,"orderByKey");const e=bp(t._queryParams,Hs);return ms(e),new yr(t._repo,t._path,e,!0)}}class Mw extends ji{_apply(t){Ta(t,"orderByPriority");const e=bp(t._queryParams,on);return ms(e),new yr(t._repo,t._path,e,!0)}}class kw extends ji{_apply(t){Ta(t,"orderByValue");const e=bp(t._queryParams,_p);return ms(e),new yr(t._repo,t._path,e,!0)}}class Bh extends ji{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(ko("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Kb(this._value,this._key)._apply(new Qb(this._value,this._key)._apply(t))}}function gs(n,...t){let e=(0,N.m9)(n);for(const i of t)e=i._apply(e);return e}(function WC(n){(0,N.hu)(!kp,"__referenceConstructor has already been defined"),kp=n})(Ws),function gb(n){(0,N.hu)(!Lu,"__referenceConstructor has already been defined"),Lu=n}(Ws);const qp={};function r0(n,t,e,i,o){let l=i||n.options.databaseURL;void 0===l&&(n.options.projectId||Co("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),pi("Using default host for project ",n.options.projectId),l=`${n.options.projectId}-default-rtdb.firebaseio.com`);let b,D,f=Gp(l,o),g=f.repoInfo;"undefined"!=typeof process&&(D=process.env.FIREBASE_DATABASE_EMULATOR_HOST),D?(b=!0,l=`http://${D}?ns=${g.namespace}`,f=Gp(l,o),g=f.repoInfo):b=!f.repoInfo.secure;const M=o&&b?new eh(eh.OWNER):new XI(n.name,n.options,t);Sb("Invalid Firebase Database URL",f),gt(f.path)||Co("Database URL must point to the root of a Firebase Database (not including a child path).");const P=function Pw(n,t,e,i){let o=qp[t.name];o||(o={},qp[t.name]=o);let l=o[n.toURLString()];return l&&Co("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new lw(n,false,e,i),o[n.toURLString()]=l,l}(g,n,M,new hg(n.name,e));return new Fw(P,n)}class Fw{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function v_(n,t,e){if(n.stats_=up(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Ru(n.repoInfo_,(i,o,l,f)=>{b_(n,i,o,l,f)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Ob(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,N.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new hs(n.repoInfo_,t,(i,o,l,f)=>{b_(n,i,o,l,f)},i=>{Ob(n,i)},i=>{!function cw(n,t){mi(t,(e,i)=>{E_(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function gv(n,t){const e=n.toString();return cp[e]||(cp[e]=t()),cp[e]}(n.repoInfo_,()=>new Hv(n.stats_,n.server_)),n.infoData_=new rA,n.infoSyncTree_=new _b({startListening:(i,o,l,f)=>{let g=[];const b=n.infoData_.getNode(i._path);return b.isEmpty()||(g=Rp(n.infoSyncTree_,i._path,b),setTimeout(()=>{f("ok")},0)),g},stopListening:()=>{}}),E_(n,"connected",!1),n.serverSyncTree_=new _b({startListening:(i,o,l,f)=>(n.server_.listen(i,l,o,(g,b)=>{const D=f(g,b);Hr(n.eventQueue_,i._path,D)}),[]),stopListening:(i,o)=>{n.server_.unlisten(i,o)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ws(this._repo,jt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function s0(n,t){const e=qp[t];(!e||e[n.key]!==n)&&Co(`Database ${t}(${n.repoInfo_}) has already been deleted.`),w_(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Co("Cannot call "+t+" on a deleted database.")}}function Ro(n,t){lg(n,t)}const P_={".sv":"timestamp"};class Bw{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}hs.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},hs.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function Lw(n){uv(Ai.SDK_VERSION),(0,Ai._registerComponent)(new dr.wA("database",(t,{instanceIdentifier:e})=>r0(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Ai.registerVersion)(lv,"0.12.5",n),(0,Ai.registerVersion)(lv,"0.12.5","esm2017")}();const o0=new ou.Yd("@firebase/database-compat"),N_=function(n){o0.warn("FIREBASE WARNING: "+n)};class Gw{constructor(t){this._delegate=t}cancel(t){(0,N.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,N.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,N.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,N.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,N.Dv)("OnDisconnect.set",1,2,arguments.length),(0,N.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),o=>e(o)),i}setWithPriority(t,e,i){(0,N.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,N.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const o=this._delegate.setWithPriority(t,e);return i&&o.then(()=>i(null),l=>i(l)),o}update(t,e){if((0,N.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const o={};for(let l=0;l<t.length;++l)o[""+l]=t[l];t=o,N_("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,N.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),o=>e(o)),i}}class zw{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,N.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class mc{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,N.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,N.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,N.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,N.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,N.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Ph("DataSnapshot.child","path",t,!1),new mc(this._database,this._delegate.child(t))}hasChild(t){return(0,N.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Ph("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,N.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,N.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,N.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new mc(this._database,e)))}hasChildren(){return(0,N.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,N.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,N.Dv)("DataSnapshot.ref",0,0,arguments.length),new Xi(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ei{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,o){var l;(0,N.Dv)("Query.on",2,4,arguments.length),(0,N.Wj)("Query.on","callback",e,!1);const f=ei.getCancelAndContextArgs_("Query.on",i,o),g=(D,M)=>{e.call(f.context,new mc(this.database,D),M)};g.userCallback=e,g.context=f.context;const b=null===(l=f.cancel)||void 0===l?void 0:l.bind(f.context);switch(t){case"value":return M_(this._delegate,g,b),e;case"child_added":return Yp(this._delegate,g,b),e;case"child_removed":return Yb(this._delegate,g,b),e;case"child_changed":return Wb(this._delegate,g,b),e;case"child_moved":return Cw(this._delegate,g,b),e;default:throw new Error((0,N.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,N.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,N.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,N.Wj)("Query.off","callback",e,!0),(0,N.lb)("Query.off","context",i,!0),e){const o=()=>{};o.userCallback=e,o.context=i,qb(this._delegate,t,o)}else qb(this._delegate,t)}get(){return $b(this._delegate).then(t=>new mc(this.database,t))}once(t,e,i,o){(0,N.Dv)("Query.once",1,4,arguments.length),(0,N.Wj)("Query.once","callback",e,!0);const l=ei.getCancelAndContextArgs_("Query.once",i,o),f=new N.BH,g=(D,M)=>{const P=new mc(this.database,D);e&&e.call(l.context,P,M),f.resolve(P)};g.userCallback=e,g.context=l.context;const b=D=>{l.cancel&&l.cancel.call(l.context,D),f.reject(D)};switch(t){case"value":M_(this._delegate,g,b,{onlyOnce:!0});break;case"child_added":Yp(this._delegate,g,b,{onlyOnce:!0});break;case"child_removed":Yb(this._delegate,g,b,{onlyOnce:!0});break;case"child_changed":Wb(this._delegate,g,b,{onlyOnce:!0});break;case"child_moved":Cw(this._delegate,g,b,{onlyOnce:!0});break;default:throw new Error((0,N.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return f.promise}limitToFirst(t){return(0,N.Dv)("Query.limitToFirst",1,1,arguments.length),new ei(this.database,gs(this._delegate,function x_(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Jb(n)}(t)))}limitToLast(t){return(0,N.Dv)("Query.limitToLast",1,1,arguments.length),new ei(this.database,gs(this._delegate,function Dw(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new ww(n)}(t)))}orderByChild(t){return(0,N.Dv)("Query.orderByChild",1,1,arguments.length),new ei(this.database,gs(this._delegate,function Aw(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ph("orderByChild","path",n,!1),new Iw(n)}(t)))}orderByKey(){return(0,N.Dv)("Query.orderByKey",0,0,arguments.length),new ei(this.database,gs(this._delegate,function Sw(){return new Tw}()))}orderByPriority(){return(0,N.Dv)("Query.orderByPriority",0,0,arguments.length),new ei(this.database,gs(this._delegate,function xw(){return new Mw}()))}orderByValue(){return(0,N.Dv)("Query.orderByValue",0,0,arguments.length),new ei(this.database,gs(this._delegate,function Rw(){return new kw}()))}startAt(t=null,e){return(0,N.Dv)("Query.startAt",0,2,arguments.length),new ei(this.database,gs(this._delegate,function hA(n=null,t){return Rh("startAt","key",t,!0),new Qb(n,t)}(t,e)))}startAfter(t=null,e){return(0,N.Dv)("Query.startAfter",0,2,arguments.length),new ei(this.database,gs(this._delegate,function fA(n,t){return Rh("startAfter","key",t,!0),new Xb(n,t)}(t,e)))}endAt(t=null,e){return(0,N.Dv)("Query.endAt",0,2,arguments.length),new ei(this.database,gs(this._delegate,function $u(n,t){return Rh("endAt","key",t,!0),new Kb(n,t)}(t,e)))}endBefore(t=null,e){return(0,N.Dv)("Query.endBefore",0,2,arguments.length),new ei(this.database,gs(this._delegate,function Zb(n,t){return Rh("endBefore","key",t,!0),new dA(n,t)}(t,e)))}equalTo(t,e){return(0,N.Dv)("Query.equalTo",1,2,arguments.length),new ei(this.database,gs(this._delegate,function e0(n,t){return Rh("equalTo","key",t,!0),new Bh(n,t)}(t,e)))}toString(){return(0,N.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,N.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,N.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof ei))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const o={cancel:void 0,context:void 0};if(e&&i)o.cancel=e,(0,N.Wj)(t,"cancel",o.cancel,!0),o.context=i,(0,N.lb)(t,"context",o.context,!0);else if(e)if("object"==typeof e&&null!==e)o.context=e;else{if("function"!=typeof e)throw new Error((0,N.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");o.cancel=e}return o}get ref(){return new Xi(this.database,new Ws(this._delegate._repo,this._delegate._path))}}class Xi extends ei{constructor(t,e){super(t,new yr(e._repo,e._path,new Lg,!1)),this.database=t,this._delegate=e}getKey(){return(0,N.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,N.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Xi(this.database,pc(this._delegate,t))}getParent(){(0,N.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Xi(this.database,t):null}getRoot(){return(0,N.Dv)("Reference.root",0,0,arguments.length),new Xi(this.database,this._delegate.root)}set(t,e){(0,N.Dv)("Reference.set",1,2,arguments.length),(0,N.Wj)("Reference.set","onComplete",e,!0);const i=Fh(this._delegate,t);return e&&i.then(()=>e(null),o=>e(o)),i}update(t,e){if((0,N.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const o={};for(let l=0;l<t.length;++l)o[""+l]=t[l];t=o,N_("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ur("Reference.update",this._delegate._path),(0,N.Wj)("Reference.update","onComplete",e,!0);const i=Ew(this._delegate,t);return e&&i.then(()=>e(null),o=>e(o)),i}setWithPriority(t,e,i){(0,N.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,N.Wj)("Reference.setWithPriority","onComplete",i,!0);const o=function Nh(n,t,e){if(Ur("setWithPriority",n._path),ko("setWithPriority",t,n._path,!1),__("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new N.BH;return Bp(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&o.then(()=>i(null),l=>i(l)),o}remove(t){(0,N.Dv)("Reference.remove",0,1,arguments.length),(0,N.Wj)("Reference.remove","onComplete",t,!0);const e=function zb(n){return Ur("remove",n._path),Fh(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,N.Dv)("Reference.transaction",1,3,arguments.length),(0,N.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,N.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,N.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const o=function Uw(n,t,e){var i;if(n=(0,N.m9)(n),Ur("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const o=null===(i=null==e?void 0:e.applyLocally)||void 0===i||i,l=new N.BH,g=M_(n,()=>{});return function Lb(n,t,e,i,o,l){Gu(n,"transaction on "+t);const f={path:t,update:e,onComplete:i,status:null,order:ip(),applyLocally:l,retryCount:0,unwatcher:o,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},g=D_(n,t,void 0);f.currentInputSnapshot=g;const b=f.update(g.val());if(void 0===b)f.unwatcher(),f.currentOutputSnapshotRaw=null,f.currentOutputSnapshotResolved=null,f.onComplete&&f.onComplete(null,!1,f.currentInputSnapshot);else{Uu("transaction failed: Data returned ",b,f.path),f.status=0;const D=ol(n.transactionQueueTree_,t),M=fc(D)||[];let P;M.push(f),h_(D,M),"object"==typeof b&&null!==b&&(0,N.r3)(b,".priority")?(P=(0,N.DV)(b,".priority"),(0,N.hu)(xh(P),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):P=(uc(n.serverSyncTree_,t)||wt.EMPTY_NODE).getPriority().val();const U=Hu(n),Y=En(b,P),J=Lp(Y,g,U);f.currentOutputSnapshotRaw=Y,f.currentOutputSnapshotResolved=J,f.currentWriteId=ju(n);const Te=sl(n.serverSyncTree_,t,J,f.currentWriteId,f.applyLocally);Hr(n.eventQueue_,t,Te),Up(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(b,D,M)=>{let P=null;b?l.reject(b):(P=new cl(M,new Ws(n._repo,n._path),on),l.resolve(new Bw(D,P)))},g,o),l.promise}(this._delegate,t,{applyLocally:i}).then(l=>new zw(l.committed,new mc(this.database,l.snapshot)));return e&&o.then(l=>e(null,l.committed,l.snapshot),l=>e(l,!1,null)),o}setPriority(t,e){(0,N.Dv)("Reference.setPriority",1,2,arguments.length),(0,N.Wj)("Reference.setPriority","onComplete",e,!0);const i=function $p(n,t){n=(0,N.m9)(n),Ur("setPriority",n._path),__("setPriority",t,!1);const e=new N.BH;return Bp(n._repo,en(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),o=>e(o)),i}push(t,e){(0,N.Dv)("Reference.push",0,2,arguments.length),(0,N.Wj)("Reference.push","onComplete",e,!0);const i=function Gb(n,t){n=(0,N.m9)(n),Ur("push",n._path),ko("push",t,n._path,!0);const e=Pb(n._repo),i=Ov(e),o=pc(n,i),l=pc(n,i);let f;return f=null!=t?Fh(l,t).then(()=>l):Promise.resolve(l),o.then=f.then.bind(f),o.catch=f.then.bind(f,void 0),o}(this._delegate,t),o=i.then(f=>new Xi(this.database,f));e&&o.then(()=>e(null),f=>e(f));const l=new Xi(this.database,i);return l.then=o.then.bind(o),l.catch=o.catch.bind(o,void 0),l}onDisconnect(){return Ur("Reference.onDisconnect",this._delegate._path),new Gw(new zu(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Wu{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(t,e,i={}){!function Uh(n,t,e,i={}){(n=(0,N.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Co("Cannot call useEmulator() after instance has already been initialized.");const o=n._repoInternal;let l;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&Co('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new eh(eh.OWNER);else if(i.mockUserToken){const f="string"==typeof i.mockUserToken?i.mockUserToken:(0,N.Sg)(i.mockUserToken,n.app.options.projectId);l=new eh(f)}!function n0(n,t,e,i){n.repoInfo_=new lp(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(o,t,e,l)}(this._delegate,t,e,i)}ref(t){if((0,N.Dv)("database.ref",0,1,arguments.length),t instanceof Xi){const e=jb(this._delegate,t.toString());return new Xi(this,e)}{const e=Hb(this._delegate,t);return new Xi(this,e)}}refFromURL(t){(0,N.Dv)("database.refFromURL",1,1,arguments.length);const i=jb(this._delegate,t);return new Xi(this,i)}goOffline(){return(0,N.Dv)("database.goOffline",0,0,arguments.length),function Nw(n){(n=(0,N.m9)(n))._checkNotDeleted("goOffline"),w_(n._repo)}(this._delegate)}goOnline(){return(0,N.Dv)("database.goOnline",0,0,arguments.length),function R_(n){(n=(0,N.m9)(n))._checkNotDeleted("goOnline"),function Nb(n){n.persistentConnection_&&n.persistentConnection_.resume(kb)}(n._repo)}(this._delegate)}}Wu.ServerValue={TIMESTAMP:function Hh(){return P_}(),increment:n=>function Vw(n){return{".sv":{increment:n}}}(n)};var B_=Object.freeze({__proto__:null,initStandalone:function V_({app:n,url:t,version:e,customAuthImpl:i,namespace:o,nodeAdmin:l=!1}){uv(e);const f=new dr.zt("auth-internal",new dr.H0("database-standalone"));return f.setComponent(new dr.wA("auth-internal",()=>i,"PRIVATE")),{instance:new Wu(r0(n,f,void 0,t,l),n),namespace:o}}});const $w=Wu.ServerValue;!function Ww(n){n.INTERNAL.registerComponent(new dr.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),o=t.getProvider("database").getImmediate({identifier:e});return new Wu(o,i)},"PUBLIC").setServiceProps({Reference:Xi,Query:ei,Database:Wu,DataSnapshot:mc,enableLogging:Ro,INTERNAL:B_,ServerValue:$w}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.1.5")}(qi.Z);var gi=F(7579),Kp=F(5363),l0=F(6063);class U_ extends gi.x{constructor(t=1/0,e=1/0,i=l0.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:o,_timestampProvider:l,_windowTime:f}=this;e||(i.push(t),!o&&i.push(l.now()+f)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:o}=this,l=o.slice();for(let f=0;f<l.length&&!t.closed;f+=i?1:2)t.next(l[f]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:o}=this,l=(o?1:2)*t;if(t<1/0&&l<i.length&&i.splice(0,i.length-l),!o){const f=e.now();let g=0;for(let b=1;b<i.length&&i[b]<=f;b+=2)g=b;g&&i.splice(0,g+1)}}}function H_(n,t,e){var i,o;let l,f=!1;return n&&"object"==typeof n?(l=null!==(i=n.bufferSize)&&void 0!==i?i:1/0,t=null!==(o=n.windowTime)&&void 0!==o?o:1/0,f=!!n.refCount,e=n.scheduler):l=null!=n?n:1/0,(0,Kd.B)({connector:()=>new U_(l,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:f})}const j_=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Zp=F(5698);function Yw(n){return(0,li.e)((t,e)=>{let i=!1;t.subscribe((0,yt.x)(e,o=>{i=!0,e.next(o)},()=>{i||e.next(n),e.complete()}))})}function u0(n=d0){return(0,li.e)((t,e)=>{let i=!1;t.subscribe((0,yt.x)(e,o=>{i=!0,e.next(o)},()=>i?e.complete():e.error(n())))})}function d0(){return new j_}function G_(n,t){return(0,Di.m)(t)?Wn(()=>n,t):Wn(()=>n)}var z_=F(9468);const gc=new d.OlP("angularfire2.auth.use-emulator"),h0=new d.OlP("angularfire2.auth.settings"),f0=new d.OlP("angularfire2.auth.tenant-id"),Kw=new d.OlP("angularfire2.auth.langugage-code"),Yu=new d.OlP("angularfire2.auth.use-device-language"),p0=new d.OlP("angularfire.auth.persistence"),Qp=(n,t,e,i,o,l,f,g)=>(0,Vn.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const b=t.runOutsideAngular(()=>n.auth());if(e&&b.useEmulator(...e),i&&(b.tenantId=i),b.languageCode=o,l&&b.useDeviceLanguage(),f)for(const[D,M]of Object.entries(f))b.settings[D]=M;return g&&b.setPersistence(g),b},[e,i,o,l,f,g]);let m0=(()=>{class n{constructor(e,i,o,l,f,g,b,D,M,P,U,Y){const J=new gi.x,Te=Ft(void 0).pipe((0,Kp.Q)(f.outsideAngular),Wn(()=>l.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,3059)))),(0,Vt.U)(()=>(0,Vn.on)(e,l,i)),(0,Vt.U)(Fe=>Qp(Fe,l,g,D,M,P,b,U)),H_({bufferSize:1,refCount:!1}));if(function oi(n){return"server"===n}(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ft(null);else{Te.pipe(function qw(n,t){const e=arguments.length>=2;return i=>i.pipe(n?rs((o,l)=>n(o,l,i)):rg.y,(0,Zp.q)(1),e?Yw(t):u0(()=>new j_))}()).subscribe();const Ze=Te.pipe(Wn(Qe=>Qe.getRedirectResult().then(gn=>gn,()=>null)),Bt.iC,H_({bufferSize:1,refCount:!1})),lt=Te.pipe(Wn(Qe=>new Rn.y(gn=>({unsubscribe:l.runOutsideAngular(()=>Qe.onAuthStateChanged(Dn=>gn.next(Dn),Dn=>gn.error(Dn),()=>gn.complete()))})))),ft=Te.pipe(Wn(Qe=>new Rn.y(gn=>({unsubscribe:l.runOutsideAngular(()=>Qe.onIdTokenChanged(Dn=>gn.next(Dn),Dn=>gn.error(Dn),()=>gn.complete()))}))));this.authState=Ze.pipe(G_(lt),(0,z_.R)(f.outsideAngular),(0,Kp.Q)(f.insideAngular)),this.user=Ze.pipe(G_(ft),(0,z_.R)(f.outsideAngular),(0,Kp.Q)(f.insideAngular)),this.idToken=this.user.pipe(Wn(Qe=>Qe?(0,lr.D)(Qe.getIdToken()):Ft(null))),this.idTokenResult=this.user.pipe(Wn(Qe=>Qe?(0,lr.D)(Qe.getIdTokenResult()):Ft(null))),this.credential=(0,hu.T)(Ze,J,this.authState.pipe(rs(Qe=>!Qe))).pipe((0,Vt.U)(Qe=>(null==Qe?void 0:Qe.user)?Qe:null),(0,z_.R)(f.outsideAngular),(0,Kp.Q)(f.insideAngular))}return(0,Vn.pX)(this,Te,l,{spy:{apply:(Fe,Ze,lt)=>{(Fe.startsWith("signIn")||Fe.startsWith("createUser"))&&lt.then(ft=>J.next(ft))}}})}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(Vn.Dh),d.LFG(Vn.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Bt.HU),d.LFG(gc,8),d.LFG(h0,8),d.LFG(f0,8),d.LFG(Kw,8),d.LFG(Yu,8),d.LFG(p0,8),d.LFG(Jm,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Xp(n){return null==n}function $_(n){return"function"==typeof n.set}function W_(n,t){return $_(t)?t:n.ref(t)}function jh(n,t){if(function Qw(n){return"string"==typeof n}(n))return t.stringCase();if($_(n))return t.firebaseCase();if(function Xw(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function _c(n,t,e="on",i=Pn.z){return new Rn.y(o=>{let l=null;return l=n[e](t,(f,g)=>{i.schedule(()=>{o.next({snapshot:f,prevKey:g})}),"once"===e&&i.schedule(()=>o.complete())},f=>{i.schedule(()=>o.error(f))}),"on"===e?{unsubscribe(){null!=l&&n.off(t,l)}}:{unsubscribe(){}}}).pipe((0,Vt.U)(o=>{const{snapshot:l,prevKey:f}=o;let g=null;return l.exists()&&(g=l.key),{type:t,payload:l,prevKey:f,key:g}}),(0,Kd.B)())}function Y_(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function g0(n,t){const{payload:e,prevKey:i,key:o}=t,l=Y_(n,o),f=function Jw(n,t){if(Xp(t))return 0;{const e=Y_(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let g=null;t.payload.forEach(b=>{const D={payload:b,type:"value",prevKey:g,key:b.key};return g=b.key,n=[...n,D],!1})}return n;case"child_added":if(l>-1){const g=n[l-1];(g&&g.key||null)!==i&&(n=n.filter(b=>b.payload.key!==e.key)).splice(f,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(f,0,t)}return n;case"child_removed":return n.filter(g=>g.payload.key!==e.key);case"child_changed":return n.map(g=>g.payload.key===o?t:g);case"child_moved":if(l>-1){const g=n.splice(l,1)[0];return(n=n.slice()).splice(f,0,g),n}return n;default:return n}}function Gh(n){return(Xp(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function q_(n,t,e){return function mA(n,t,e){return _c(n,"value","once",e).pipe(Wn(i=>{const o=[Ft(i)];return t.forEach(l=>o.push(_c(n,l,"on",e))),(0,hu.T)(...o).pipe(Zd(g0,[]))}),sg())}(n,t=Gh(t),e)}function _0(n,t,e){const i=(t=Gh(t)).map(o=>_c(n,o,"on",e));return(0,hu.T)(...i)}function y0(n,t){return function(i,o){return jh(i,{stringCase:()=>n.child(i)[t](o),firebaseCase:()=>i[t](o),snapshotCase:()=>i.ref[t](o)})}}function eD(n){return function(e){return e?jh(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function Q_(n,t){return function(){return _c(n,"value","on",t)}}const b0=new d.OlP("angularfire2.realtimeDatabaseURL"),E0=new d.OlP("angularfire2.database.use-emulator");let nD=(()=>{class n{constructor(e,i,o,l,f,g,b,D,M,P,U,Y,J,Te,Fe){this.schedulers=g;const Ze=b,lt=(0,Vn.on)(e,f,i);D&&Qp(lt,f,M,U,Y,J,P,Te),this.database=(0,Vn.cc)(`${lt.name}.database.${o}`,"AngularFireDatabase",lt.name,()=>{const ft=f.runOutsideAngular(()=>lt.database(o||void 0));return Ze&&ft.useEmulator(...Ze),ft},[Ze])}list(e,i){const o=this.schedulers.ngZone.runOutsideAngular(()=>W_(this.database,e));let l=o;return i&&(l=i(o)),function v0(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:y0(i,"update"),set:y0(i,"set"),push:o=>i.push(o),remove:eD(i),snapshotChanges:o=>q_(n,o,e).pipe(Bt.iC),stateChanges:o=>_0(n,o,e).pipe(Bt.iC),auditTrail:o=>function K_(n,t,e){return function gA(n,t,e){return function Z_(n,t){return _c(n,"value","on",t).pipe((0,Vt.U)(e=>{let i;return e.payload.forEach(o=>(i=o.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function av(...n){const t=(0,cd.jO)(n);return(0,li.e)((e,i)=>{const o=n.length,l=new Array(o);let f=n.map(()=>!1),g=!1;for(let b=0;b<o;b++)(0,ls.Xf)(n[b]).subscribe((0,yt.x)(i,D=>{l[b]=D,!g&&!f[b]&&(f[b]=!0,(g=f.every(rg.y))&&(f=null))},og.Z));e.subscribe((0,yt.x)(i,b=>{if(g){const D=[b,...l];i.next(t?t(...D):D)}}))})}(t),(0,Vt.U)(([o,l])=>{const f=o.lastKeyToLoad,g=l.map(b=>b.key);return{actions:l,lastKeyToLoad:f,loadedKeys:g}}),function nC(n){return(0,li.e)((t,e)=>{let i=!1,o=0;t.subscribe((0,yt.x)(e,l=>(i||(i=!n(l,o++)))&&e.next(l)))})}(o=>-1===o.loadedKeys.indexOf(o.lastKeyToLoad)),(0,Vt.U)(o=>o.actions))}(n,_0(n,t).pipe(Zd((o,l)=>[...o,l],[])),e)}(n,o,e).pipe(Bt.iC),valueChanges:(o,l)=>q_(n,o,e).pipe((0,Vt.U)(g=>g.map(b=>l&&l.idField?Object.assign(Object.assign({},b.payload.val()),{[l.idField]:b.key}):b.payload.val())),Bt.iC)}}(l,this)}object(e){return function tD(n,t){return{query:n,snapshotChanges:()=>Q_(n,t.schedulers.outsideAngular)().pipe(Bt.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>Q_(n,t.schedulers.outsideAngular)().pipe(Bt.iC,(0,Vt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>W_(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(Vn.Dh),d.LFG(Vn.xv,8),d.LFG(b0,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Bt.HU),d.LFG(E0,8),d.LFG(m0,8),d.LFG(gc,8),d.LFG(h0,8),d.LFG(f0,8),d.LFG(Kw,8),d.LFG(Yu,8),d.LFG(p0,8),d.LFG(Jm,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),iD=(()=>{class n{constructor(){ng.Z.registerVersion("angularfire",Bt.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[nD]}),n})();const X__firebase={apiKey:"AIzaSyCOmcx2sqr6vadPqbSMF5GsxykGCy8fEeY",authDomain:"image--uploader-6d7e1.firebaseapp.com",projectId:"image--uploader-6d7e1",storageBucket:"image--uploader-6d7e1.appspot.com",messagingSenderId:"980927604096",appId:"1:980927604096:web:84d2025304b88455118d65"};function C0(n){return(0,li.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class w0{constructor(t,e){this._document=e;const i=this._textarea=this._document.createElement("textarea"),o=i.style;o.position="fixed",o.top=o.opacity="0",o.left="-999em",i.setAttribute("aria-hidden","true"),i.value=t,this._document.body.appendChild(i)}copy(){const t=this._textarea;let e=!1;try{if(t){const i=this._document.activeElement;t.select(),t.setSelectionRange(0,t.value.length),e=this._document.execCommand("copy"),i&&i.focus()}}catch(i){}return e}destroy(){const t=this._textarea;t&&(t.remove(),this._textarea=void 0)}}let J_=(()=>{class n{constructor(e){this._document=e}copy(e){const i=this.beginCopy(e),o=i.copy();return i.destroy(),o}beginCopy(e){return new w0(e,this._document)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const D0=new d.OlP("CDK_COPY_TO_CLIPBOARD_CONFIG");let I0=(()=>{class n{constructor(e,i,o){this._clipboard=e,this._ngZone=i,this.text="",this.attempts=1,this.copied=new d.vpe,this._pending=new Set,o&&null!=o.attempts&&(this.attempts=o.attempts)}copy(e=this.attempts){if(e>1){let i=e;const o=this._clipboard.beginCopy(this.text);this._pending.add(o);const l=()=>{const f=o.copy();f||!--i||this._destroyed?(this._currentTimeout=null,this._pending.delete(o),o.destroy(),this.copied.emit(f)):this._currentTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(l,1))};l()}else this.copied.emit(this._clipboard.copy(this.text))}ngOnDestroy(){this._currentTimeout&&clearTimeout(this._currentTimeout),this._pending.forEach(e=>e.destroy()),this._pending.clear(),this._destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(J_),d.Y36(d.R0b),d.Y36(D0,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkCopyToClipboard",""]],hostBindings:function(e,i){1&e&&d.NdJ("click",function(){return i.copy()})},inputs:{text:["cdkCopyToClipboard","text"],attempts:["cdkCopyToClipboardAttempts","attempts"]},outputs:{copied:"cdkCopyToClipboardCopied"}}),n})(),rD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const sD=new d.OlP("cdk-dir-doc",{providedIn:"root",factory:function _A(){return(0,d.f3M)(ne)}}),A0=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let T0,oD=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new d.vpe,e){const o=e.documentElement?e.documentElement.dir:null;this.value=function yA(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?A0.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||o||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(sD,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Jp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();try{T0="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){T0=!1}let Po,Ma,ey,ul=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function $n(n){return n===xc}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!T0)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(d.Lbi))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function em(n){return function M0(){if(null==Po&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Po=!0}))}finally{Po=Po||!1}return Po}()?n:!!n.capture}function x0(){if(null==Ma){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ma=!1,Ma;if("scrollBehavior"in document.documentElement.style)Ma=!0;else{const n=Element.prototype.scrollTo;Ma=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Ma}function dl(n){return n.composedPath?n.composedPath()[0]:n.target}function k0(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}class bA extends gi.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function j(n){return(0,li.e)((t,e)=>{(0,ls.Xf)(n).subscribe((0,yt.x)(e,()=>e.complete(),og.Z)),!e.closed&&t.subscribe(e)})}function K(n){return null!=n&&"false"!=`${n}`}function Ue(n){return Array.isArray(n)?n:[n]}function Le(n){return null==n?"":"string"==typeof n?n:`${n}px`}function we(n){return n instanceof d.SBq?n.nativeElement:n}let Mt=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Mt]}),n})();function rT(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function sT(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const Ox=new d.OlP("cdk-input-modality-detector-options"),Fx={ignoreKeys:[18,17,224,91,16]},sm=em({passive:!0,capture:!0});let Nx=(()=>{class n{constructor(e,i,o,l){this._platform=e,this._mostRecentTarget=null,this._modality=new bA(null),this._lastTouchMs=0,this._onKeydown=f=>{var g,b;(null===(b=null===(g=this._options)||void 0===g?void 0:g.ignoreKeys)||void 0===b?void 0:b.some(D=>D===f.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=dl(f))},this._onMousedown=f=>{Date.now()-this._lastTouchMs<650||(this._modality.next(rT(f)?"keyboard":"mouse"),this._mostRecentTarget=dl(f))},this._onTouchstart=f=>{sT(f)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=dl(f))},this._options=Object.assign(Object.assign({},Fx),l),this.modalityDetected=this._modality.pipe(function L(n){return rs((t,e)=>n<=e)}(1)),this.modalityChanged=this.modalityDetected.pipe(sg()),e.isBrowser&&i.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,sm),o.addEventListener("mousedown",this._onMousedown,sm),o.addEventListener("touchstart",this._onTouchstart,sm)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,sm),document.removeEventListener("mousedown",this._onMousedown,sm),document.removeEventListener("touchstart",this._onTouchstart,sm))}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(ul),d.LFG(d.R0b),d.LFG(ne),d.LFG(Ox,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Vx=new d.OlP("cdk-focus-monitor-default-options"),Z0=em({passive:!0,capture:!0});let PD=(()=>{class n{constructor(e,i,o,l,f){this._ngZone=e,this._platform=i,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new gi.x,this._rootNodeFocusAndBlurListener=g=>{const b=dl(g),D="focus"===g.type?this._onFocus:this._onBlur;for(let M=b;M;M=M.parentElement)D.call(this,g,M)},this._document=l,this._detectionMode=(null==f?void 0:f.detectionMode)||0}monitor(e,i=!1){const o=we(e);if(!this._platform.isBrowser||1!==o.nodeType)return Ft(null);const l=function uD(n){if(function vA(){if(null==ey){const n="undefined"!=typeof document?document.head:null;ey=!(!n||!n.createShadowRoot&&!n.attachShadow)}return ey}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(o)||this._getDocument(),f=this._elementInfo.get(o);if(f)return i&&(f.checkChildren=!0),f.subject;const g={checkChildren:i,subject:new gi.x,rootNode:l};return this._elementInfo.set(o,g),this._registerGlobalListeners(g),g.subject}stopMonitoring(e){const i=we(e),o=this._elementInfo.get(i);o&&(o.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(o))}focusVia(e,i,o){const l=we(e);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([g,b])=>this._originChanged(g,i,b)):(this._setOrigin(i),"function"==typeof l.focus&&l.focus(o))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const o=this._elementInfo.get(i),l=dl(e);!o||!o.checkChildren&&i!==l||this._originChanged(i,this._getFocusOrigin(l),o)}_onBlur(e,i){const o=this._elementInfo.get(i);!o||o.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(o.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,o=this._rootNodeFocusListenerCount.get(i)||0;o||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Z0),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Z0)}),this._rootNodeFocusListenerCount.set(i,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(j(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const o=this._rootNodeFocusListenerCount.get(i);o>1?this._rootNodeFocusListenerCount.set(i,o-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Z0),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Z0),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,o){this._setClasses(e,i),this._emitOrigin(o.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((o,l)=>{(l===e||o.checkChildren&&l.contains(e))&&i.push([l,o])}),i}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(d.R0b),d.LFG(ul),d.LFG(Nx),d.LFG(ne,8),d.LFG(Vx,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const aT="cdk-high-contrast-black-on-white",lT="cdk-high-contrast-white-on-black",OD="cdk-high-contrast-active";let cT=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,o=i&&i.getComputedStyle?i.getComputedStyle(e):null,l=(o&&o.backgroundColor||"").replace(/ /g,"");switch(e.remove(),l){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(OD),e.remove(aT),e.remove(lT),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(OD),e.add(aT)):2===i&&(e.add(OD),e.add(lT))}}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(ul),d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Bx=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(cT))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[yc]]}),n})();class uT{}const vc="*";function dT(n,t=null){return{type:2,steps:n,options:t}}function jr(n){return{type:6,styles:n,offset:null}}function fT(n){Promise.resolve(null).then(n)}class uy{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){fT(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class pT{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,o=0;const l=this.players.length;0==l?fT(()=>this._onFinish()):this.players.forEach(f=>{f.onDone(()=>{++e==l&&this._onFinish()}),f.onDestroy(()=>{++i==l&&this._onDestroy()}),f.onStart(()=>{++o==l&&this._onStart()})}),this.totalTime=this.players.reduce((f,g)=>Math.max(f,g.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const o=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(o)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const Rt=!1;function mT(n){return new d.vHH(3e3,Rt)}function Ek(){return"undefined"!=typeof window&&void 0!==window.document}function ND(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ku(n){switch(n.length){case 0:return new uy;case 1:return n[0];default:return new pT(n)}}function gT(n,t,e,i,o={},l={}){const f=[],g=[];let b=-1,D=null;if(i.forEach(M=>{const P=M.offset,U=P==b,Y=U&&D||{};Object.keys(M).forEach(J=>{let Te=J,Fe=M[J];if("offset"!==J)switch(Te=t.normalizePropertyName(Te,f),Fe){case"!":Fe=o[J];break;case vc:Fe=l[J];break;default:Fe=t.normalizeStyleValue(J,Te,Fe,f)}Y[Te]=Fe}),U||g.push(Y),D=Y,b=P}),f.length)throw function uk(n){return new d.vHH(3502,Rt)}();return g}function LD(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&VD(e,"start",n)));break;case"done":n.onDone(()=>i(e&&VD(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&VD(e,"destroy",n)))}}function VD(n,t,e){const i=e.totalTime,l=BD(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),f=n._data;return null!=f&&(l._data=f),l}function BD(n,t,e,i,o="",l=0,f){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:o,totalTime:l,disabled:!!f}}function Ys(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function _T(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let UD=(n,t)=>!1,yT=(n,t,e)=>[],vT=null;function HD(n){const t=n.parentNode||n.host;return t===vT?null:t}(ND()||"undefined"!=typeof Element)&&(Ek()?(vT=(()=>document.documentElement)(),UD=(n,t)=>{for(;t;){if(t===n)return!0;t=HD(t)}return!1}):UD=(n,t)=>n.contains(t),yT=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Yh=null,bT=!1;function ET(n){Yh||(Yh=function wk(){return"undefined"!=typeof document?document.body:null}()||{},bT=!!Yh.style&&"WebkitAppearance"in Yh.style);let t=!0;return Yh.style&&!function Ck(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Yh.style,!t&&bT&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Yh.style)),t}const CT=UD,wT=yT;let DT=(()=>{class n{validateStyleProperty(e){return ET(e)}matchesElement(e,i){return!1}containsElement(e,i){return CT(e,i)}getParentElement(e){return HD(e)}query(e,i,o){return wT(e,i,o)}computeStyle(e,i,o){return o||""}animate(e,i,o,l,f,g=[],b){return new uy(o,l)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),jD=(()=>{class n{}return n.NOOP=new DT,n})();const GD="ng-enter",X0="ng-leave",J0="ng-trigger",eE=".ng-trigger",AT="ng-animating",zD=".ng-animating";function qh(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:$D(parseFloat(t[1]),t[2])}function $D(n,t){return"s"===t?1e3*n:n}function tE(n,t,e){return n.hasOwnProperty("duration")?n:function Ak(n,t,e){let o,l=0,f="";if("string"==typeof n){const g=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===g)return t.push(mT()),{duration:0,delay:0,easing:""};o=$D(parseFloat(g[1]),g[2]);const b=g[3];null!=b&&(l=$D(parseFloat(b),g[4]));const D=g[5];D&&(f=D)}else o=n;if(!e){let g=!1,b=t.length;o<0&&(t.push(function Hx(){return new d.vHH(3100,Rt)}()),g=!0),l<0&&(t.push(function jx(){return new d.vHH(3101,Rt)}()),g=!0),g&&t.splice(b,0,mT())}return{duration:o,delay:l,easing:f}}(n,t,e)}function om(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Zu(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else om(n,e);return e}function ST(n,t,e){return e?t+":"+e+";":""}function MT(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=ST(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=ST(0,Mk(e),n.style[e]));n.setAttribute("style",t)}function hl(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const o=YD(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[o]),n.style[o]=t[i]}),ND()&&MT(n))}function Kh(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=YD(e);n.style[i]=""}),ND()&&MT(n))}function dy(n){return Array.isArray(n)?1==n.length?n[0]:dT(n):n}const WD=new RegExp("{{\\s*(.+?)\\s*}}","g");function xT(n){let t=[];if("string"==typeof n){let e;for(;e=WD.exec(n);)t.push(e[1]);WD.lastIndex=0}return t}function nE(n,t,e){const i=n.toString(),o=i.replace(WD,(l,f)=>{let g=t[f];return t.hasOwnProperty(f)||(e.push(function zx(n){return new d.vHH(3003,Rt)}()),g=""),g.toString()});return o==i?n:o}function iE(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const Sk=/-+([a-z0-9])/g;function YD(n){return n.replace(Sk,(...t)=>t[1].toUpperCase())}function Mk(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function qs(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function $x(n){return new d.vHH(3004,Rt)}()}}function kT(n,t){return window.getComputedStyle(n)[t]}function Rk(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Pk(n,t,e){if(":"==n[0]){const b=function Ok(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function ok(n){return new d.vHH(3016,Rt)}()),"* => *"}}(n,e);if("function"==typeof b)return void t.push(b);n=b}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function sk(n){return new d.vHH(3015,Rt)}()),t;const o=i[1],l=i[2],f=i[3];t.push(RT(o,f));"<"==l[0]&&!("*"==o&&"*"==f)&&t.push(RT(f,o))}(i,e,t)):e.push(n),e}const sE=new Set(["true","1"]),oE=new Set(["false","0"]);function RT(n,t){const e=sE.has(n)||oE.has(n),i=sE.has(t)||oE.has(t);return(o,l)=>{let f="*"==n||n==o,g="*"==t||t==l;return!f&&e&&"boolean"==typeof o&&(f=o?sE.has(n):oE.has(n)),!g&&i&&"boolean"==typeof l&&(g=l?sE.has(t):oE.has(t)),f&&g}}const Fk=new RegExp("s*:selfs*,?","g");function qD(n,t,e){return new Nk(n).build(t,e)}class Nk{constructor(t){this._driver=t}build(t,e){const i=new Bk(e);return this._resetContextStyleTimingState(i),qs(this,dy(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,o=e.depCount=0;const l=[],f=[];return"@"==t.name.charAt(0)&&e.errors.push(function Yx(){return new d.vHH(3006,Rt)}()),t.definitions.forEach(g=>{if(this._resetContextStyleTimingState(e),0==g.type){const b=g,D=b.name;D.toString().split(/\s*,\s*/).forEach(M=>{b.name=M,l.push(this.visitState(b,e))}),b.name=D}else if(1==g.type){const b=this.visitTransition(g,e);i+=b.queryCount,o+=b.depCount,f.push(b)}else e.errors.push(function qx(){return new d.vHH(3007,Rt)}())}),{type:7,name:t.name,states:l,transitions:f,queryCount:i,depCount:o,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),o=t.options&&t.options.params||null;if(i.containsDynamicStyles){const l=new Set,f=o||{};i.styles.forEach(g=>{if(aE(g)){const b=g;Object.keys(b).forEach(D=>{xT(b[D]).forEach(M=>{f.hasOwnProperty(M)||l.add(M)})})}}),l.size&&(iE(l.values()),e.errors.push(function Kx(n,t){return new d.vHH(3008,Rt)}()))}return{type:0,name:t.name,style:i,options:o?{params:o}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=qs(this,dy(t.animation),e);return{type:1,matchers:Rk(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Zh(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>qs(this,i,e)),options:Zh(t.options)}}visitGroup(t,e){const i=e.currentTime;let o=0;const l=t.steps.map(f=>{e.currentTime=i;const g=qs(this,f,e);return o=Math.max(o,e.currentTime),g});return e.currentTime=o,{type:3,steps:l,options:Zh(t.options)}}visitAnimate(t,e){const i=function Hk(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return KD(tE(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=KD(0,0,"");return l.dynamic=!0,l.strValue=i,l}return e=e||tE(i,t),KD(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let o,l=t.styles?t.styles:jr({});if(5==l.type)o=this.visitKeyframes(l,e);else{let f=t.styles,g=!1;if(!f){g=!0;const D={};i.easing&&(D.easing=i.easing),f=jr(D)}e.currentTime+=i.duration+i.delay;const b=this.visitStyle(f,e);b.isEmptyStep=g,o=b}return e.currentAnimateTimings=null,{type:4,timings:i,style:o,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(f=>{"string"==typeof f?f==vc?i.push(f):e.errors.push(function Zx(n){return new d.vHH(3002,Rt)}()):i.push(f)}):i.push(t.styles);let o=!1,l=null;return i.forEach(f=>{if(aE(f)){const g=f,b=g.easing;if(b&&(l=b,delete g.easing),!o)for(let D in g)if(g[D].toString().indexOf("{{")>=0){o=!0;break}}}),{type:6,styles:i,easing:l,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let o=e.currentTime,l=e.currentTime;i&&l>0&&(l-=i.duration+i.delay),t.styles.forEach(f=>{"string"!=typeof f&&Object.keys(f).forEach(g=>{if(!this._driver.validateStyleProperty(g))return void e.errors.push(function Qx(n){return new d.vHH(3009,Rt)}());const b=e.collectedStyles[e.currentQuerySelector],D=b[g];let M=!0;D&&(l!=o&&l>=D.startTime&&o<=D.endTime&&(e.errors.push(function Xx(n,t,e,i,o){return new d.vHH(3010,Rt)}()),M=!1),l=D.startTime),M&&(b[g]={startTime:l,endTime:o}),e.options&&function Tk(n,t,e){const i=t.params||{},o=xT(n);o.length&&o.forEach(l=>{i.hasOwnProperty(l)||e.push(function Gx(n){return new d.vHH(3001,Rt)}())})}(f[g],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Jx(){return new d.vHH(3011,Rt)}()),i;let l=0;const f=[];let g=!1,b=!1,D=0;const M=t.steps.map(Ze=>{const lt=this._makeStyleAst(Ze,e);let ft=null!=lt.offset?lt.offset:function Uk(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(aE(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(aE(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(lt.styles),Qe=0;return null!=ft&&(l++,Qe=lt.offset=ft),b=b||Qe<0||Qe>1,g=g||Qe<D,D=Qe,f.push(Qe),lt});b&&e.errors.push(function ek(){return new d.vHH(3012,Rt)}()),g&&e.errors.push(function tk(){return new d.vHH(3200,Rt)}());const P=t.steps.length;let U=0;l>0&&l<P?e.errors.push(function nk(){return new d.vHH(3202,Rt)}()):0==l&&(U=1/(P-1));const Y=P-1,J=e.currentTime,Te=e.currentAnimateTimings,Fe=Te.duration;return M.forEach((Ze,lt)=>{const ft=U>0?lt==Y?1:U*lt:f[lt],Qe=ft*Fe;e.currentTime=J+Te.delay+Qe,Te.duration=Qe,this._validateStyleAst(Ze,e),Ze.offset=ft,i.styles.push(Ze)}),i}visitReference(t,e){return{type:8,animation:qs(this,dy(t.animation),e),options:Zh(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Zh(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Zh(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,o=t.options||{};e.queryCount++,e.currentQuery=t;const[l,f]=function Lk(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(Fk,"")),n=n.replace(/@\*/g,eE).replace(/@\w+/g,e=>eE+"-"+e.substr(1)).replace(/:animating/g,zD),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+l:l,Ys(e.collectedStyles,e.currentQuerySelector,{});const g=qs(this,dy(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:l,limit:o.limit||0,optional:!!o.optional,includeSelf:f,animation:g,originalSelector:t.selector,options:Zh(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function ik(){return new d.vHH(3013,Rt)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:tE(t.timings,e.errors,!0);return{type:12,animation:qs(this,dy(t.animation),e),timings:i,options:null}}}class Bk{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function aE(n){return!Array.isArray(n)&&"object"==typeof n}function Zh(n){return n?(n=om(n)).params&&(n.params=function Vk(n){return n?om(n):null}(n.params)):n={},n}function KD(n,t,e){return{duration:n,delay:t,easing:e}}function ZD(n,t,e,i,o,l,f=null,g=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:o,delay:l,totalTime:o+l,easing:f,subTimeline:g}}class lE{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const zk=new RegExp(":enter","g"),Wk=new RegExp(":leave","g");function QD(n,t,e,i,o,l={},f={},g,b,D=[]){return(new Yk).buildKeyframes(n,t,e,i,o,l,f,g,b,D)}class Yk{buildKeyframes(t,e,i,o,l,f,g,b,D,M=[]){D=D||new lE;const P=new XD(t,e,D,o,l,M,[]);P.options=b,P.currentTimeline.setStyles([f],null,P.errors,b),qs(this,i,P);const U=P.timelines.filter(Y=>Y.containsAnimation());if(Object.keys(g).length){let Y;for(let J=U.length-1;J>=0;J--){const Te=U[J];if(Te.element===e){Y=Te;break}}Y&&!Y.allowOnlyTimelineStyles()&&Y.setStyles([g],null,P.errors,b)}return U.length?U.map(Y=>Y.buildKeyframes()):[ZD(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const o=e.createSubContext(t.options),l=e.currentTimeline.currentTime,f=this._visitSubInstructions(i,o,o.options);l!=f&&e.transformIntoNewTimeline(f)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let l=e.currentTimeline.currentTime;const f=null!=i.duration?qh(i.duration):null,g=null!=i.delay?qh(i.delay):null;return 0!==f&&t.forEach(b=>{const D=e.appendInstructionToTimeline(b,f,g);l=Math.max(l,D.duration+D.delay)}),l}visitReference(t,e){e.updateOptions(t.options,!0),qs(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let o=e;const l=t.options;if(l&&(l.params||l.delay)&&(o=e.createSubContext(l),o.transformIntoNewTimeline(),null!=l.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=cE);const f=qh(l.delay);o.delayNextStep(f)}t.steps.length&&(t.steps.forEach(f=>qs(this,f,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>i&&o.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let o=e.currentTimeline.currentTime;const l=t.options&&t.options.delay?qh(t.options.delay):0;t.steps.forEach(f=>{const g=e.createSubContext(t.options);l&&g.delayNextStep(l),qs(this,f,g),o=Math.max(o,g.currentTimeline.currentTime),i.push(g.currentTimeline)}),i.forEach(f=>e.currentTimeline.mergeTimelineCollectedStyles(f)),e.transformIntoNewTimeline(o),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return tE(e.params?nE(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),o=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),o.snapshotCurrentStyles());const l=t.style;5==l.type?this.visitKeyframes(l,e):(e.incrementTime(i.duration),this.visitStyle(l,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,o=e.currentAnimateTimings;!o&&i.getCurrentStyleProperties().length&&i.forwardFrame();const l=o&&o.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(l):i.setStyles(t.styles,l,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,o=e.currentTimeline.duration,l=i.duration,g=e.createSubContext().currentTimeline;g.easing=i.easing,t.styles.forEach(b=>{g.forwardTime((b.offset||0)*l),g.setStyles(b.styles,b.easing,e.errors,e.options),g.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(g),e.transformIntoNewTimeline(o+l),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,o=t.options||{},l=o.delay?qh(o.delay):0;l&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=cE);let f=i;const g=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=g.length;let b=null;g.forEach((D,M)=>{e.currentQueryIndex=M;const P=e.createSubContext(t.options,D);l&&P.delayNextStep(l),D===e.element&&(b=P.currentTimeline),qs(this,t.animation,P),P.currentTimeline.applyStylesToKeyframe(),f=Math.max(f,P.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(f),b&&(e.currentTimeline.mergeTimelineCollectedStyles(b),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,o=e.currentTimeline,l=t.timings,f=Math.abs(l.duration),g=f*(e.currentQueryTotal-1);let b=f*e.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":b=g-b;break;case"full":b=i.currentStaggerTime}const M=e.currentTimeline;b&&M.delayNextStep(b);const P=M.currentTime;qs(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=o.currentTime-P+(o.startTime-i.currentTimeline.startTime)}}const cE={};class XD{constructor(t,e,i,o,l,f,g,b){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=o,this._leaveClassName=l,this.errors=f,this.timelines=g,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=cE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=b||new uE(this._driver,e,0),g.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let o=this.options;null!=i.duration&&(o.duration=qh(i.duration)),null!=i.delay&&(o.delay=qh(i.delay));const l=i.params;if(l){let f=o.params;f||(f=this.options.params={}),Object.keys(l).forEach(g=>{(!e||!f.hasOwnProperty(g))&&(f[g]=nE(l[g],f,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(o=>{i[o]=e[o]})}}return t}createSubContext(t=null,e,i){const o=e||this.element,l=new XD(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,i||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(t),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(t){return this.previousNode=cE,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const o={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},l=new qk(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,o,t.stretchStartingKeyframe);return this.timelines.push(l),o}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,o,l,f){let g=[];if(o&&g.push(this.element),t.length>0){t=(t=t.replace(zk,"."+this._enterClassName)).replace(Wk,"."+this._leaveClassName);let D=this._driver.query(this.element,t,1!=i);0!==i&&(D=i<0?D.slice(D.length+i,D.length):D.slice(0,i)),g.push(...D)}return!l&&0==g.length&&f.push(function rk(n){return new d.vHH(3014,Rt)}()),g}}class uE{constructor(t,e,i,o){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new uE(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||vc,this._currentKeyframe[e]=vc}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,o){e&&(this._previousKeyframe.easing=e);const l=o&&o.params||{},f=function Kk(n,t){const e={};let i;return n.forEach(o=>{"*"===o?(i=i||Object.keys(t),i.forEach(l=>{e[l]=vc})):Zu(o,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(f).forEach(g=>{const b=nE(f[g],l,i);this._pendingStyles[g]=b,this._localTimelineStyles.hasOwnProperty(g)||(this._backFill[g]=this._globalTimelineStyles.hasOwnProperty(g)?this._globalTimelineStyles[g]:vc),this._updateStyle(g,b)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],o=t._styleSummary[e];(!i||o.time>i.time)&&this._updateStyle(e,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((g,b)=>{const D=Zu(g,!0);Object.keys(D).forEach(M=>{const P=D[M];"!"==P?t.add(M):P==vc&&e.add(M)}),i||(D.offset=b/this.duration),o.push(D)});const l=t.size?iE(t.values()):[],f=e.size?iE(e.values()):[];if(i){const g=o[0],b=om(g);g.offset=0,b.offset=1,o=[g,b]}return ZD(this.element,o,l,f,this.duration,this.startTime,this.easing,!1)}}class qk extends uE{constructor(t,e,i,o,l,f,g=!1){super(t,e,f.delay),this.keyframes=i,this.preStyleProps=o,this.postStyleProps=l,this._stretchStartingKeyframe=g,this.timings={duration:f.duration,delay:f.delay,easing:f.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){const l=[],f=i+e,g=e/f,b=Zu(t[0],!1);b.offset=0,l.push(b);const D=Zu(t[0],!1);D.offset=FT(g),l.push(D);const M=t.length-1;for(let P=1;P<=M;P++){let U=Zu(t[P],!1);U.offset=FT((e+U.offset*i)/f),l.push(U)}i=f,e=0,o="",t=l}return ZD(this.element,t,this.preStyleProps,this.postStyleProps,i,e,o,!0)}}function FT(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class JD{}class Zk extends JD{normalizePropertyName(t,e){return YD(t)}normalizeStyleValue(t,e,i,o){let l="";const f=i.toString().trim();if(Qk[e]&&0!==i&&"0"!==i)if("number"==typeof i)l="px";else{const g=i.match(/^[+-]?[\d\.]+([a-z]*)$/);g&&0==g[1].length&&o.push(function Wx(n,t){return new d.vHH(3005,Rt)}())}return f+l}}const Qk=(()=>function Xk(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function NT(n,t,e,i,o,l,f,g,b,D,M,P,U){return{type:0,element:n,triggerName:t,isRemovalTransition:o,fromState:e,fromStyles:l,toState:i,toStyles:f,timelines:g,queriedElements:b,preStyleProps:D,postStyleProps:M,totalTime:P,errors:U}}const eI={};class LT{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,o){return function Jk(n,t,e,i,o){return n.some(l=>l(t,e,i,o))}(this.ast.matchers,t,e,i,o)}buildStyles(t,e,i){const o=this._stateStyles["*"],l=this._stateStyles[t],f=o?o.buildStyles(e,i):{};return l?l.buildStyles(e,i):f}build(t,e,i,o,l,f,g,b,D,M){const P=[],U=this.ast.options&&this.ast.options.params||eI,J=this.buildStyles(i,g&&g.params||eI,P),Te=b&&b.params||eI,Fe=this.buildStyles(o,Te,P),Ze=new Set,lt=new Map,ft=new Map,Qe="void"===o,gn={params:Object.assign(Object.assign({},U),Te)},Dn=M?[]:QD(t,e,this.ast.animation,l,f,J,Fe,gn,D,P);let ki=0;if(Dn.forEach(Zs=>{ki=Math.max(Zs.duration+Zs.delay,ki)}),P.length)return NT(e,this._triggerName,i,o,Qe,J,Fe,[],[],lt,ft,ki,P);Dn.forEach(Zs=>{const Ec=Zs.element,WM=Ys(lt,Ec,{});Zs.preStyleProps.forEach(tf=>WM[tf]=!0);const Ey=Ys(ft,Ec,{});Zs.postStyleProps.forEach(tf=>Ey[tf]=!0),Ec!==e&&Ze.add(Ec)});const zr=iE(Ze.values());return NT(e,this._triggerName,i,o,Qe,J,Fe,Dn,zr,lt,ft,ki)}}class eR{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},o=om(this.defaultParams);return Object.keys(t).forEach(l=>{const f=t[l];null!=f&&(o[l]=f)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const f=l;Object.keys(f).forEach(g=>{let b=f[g];b.length>1&&(b=nE(b,o,e));const D=this.normalizer.normalizePropertyName(g,e);b=this.normalizer.normalizeStyleValue(g,D,b,e),i[D]=b})}}),i}}class nR{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(o=>{this.states[o.name]=new eR(o.style,o.options&&o.options.params||{},i)}),VT(this.states,"true","1"),VT(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new LT(t,o,this.states))}),this.fallbackTransition=function iR(n,t,e){return new LT(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(f,g)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,o){return this.transitionFactories.find(f=>f.match(t,e,i,o))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function VT(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const rR=new lE;class sR{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],o=qD(this._driver,e,i);if(i.length)throw function dk(n){return new d.vHH(3503,Rt)}();this._animations[t]=o}_buildPlayer(t,e,i){const o=t.element,l=gT(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(o,l,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const o=[],l=this._animations[t];let f;const g=new Map;if(l?(f=QD(this._driver,e,l,GD,X0,{},{},i,rR,o),f.forEach(M=>{const P=Ys(g,M.element,{});M.postStyleProps.forEach(U=>P[U]=null)})):(o.push(function hk(){return new d.vHH(3300,Rt)}()),f=[]),o.length)throw function fk(n){return new d.vHH(3504,Rt)}();g.forEach((M,P)=>{Object.keys(M).forEach(U=>{M[U]=this._driver.computeStyle(P,U,vc)})});const D=Ku(f.map(M=>{const P=g.get(M.element);return this._buildPlayer(M,{},P)}));return this._playersById[t]=D,D.onDestroy(()=>this.destroy(t)),this.players.push(D),D}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function pk(n){return new d.vHH(3301,Rt)}();return e}listen(t,e,i,o){const l=BD(e,"","","");return LD(this._getPlayer(t),i,l,o),()=>{}}command(t,e,i,o){if("register"==i)return void this.register(t,o[0]);if("create"==i)return void this.create(t,e,o[0]||{});const l=this._getPlayer(t);switch(i){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(t)}}}const BT="ng-animate-queued",tI="ng-animate-disabled",uR=[],UT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},dR={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Fo="__ng_removed";class nI{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function mR(n){return null!=n?n:null}(i?t.value:t),i){const l=om(t);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(o=>{null==i[o]&&(i[o]=e[o])})}}}const hy="void",iI=new nI(hy);class hR{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,No(e,this._hostClassName)}listen(t,e,i,o){if(!this._triggers.hasOwnProperty(e))throw function mk(n,t){return new d.vHH(3302,Rt)}();if(null==i||0==i.length)throw function gk(n){return new d.vHH(3303,Rt)}();if(!function gR(n){return"start"==n||"done"==n}(i))throw function _k(n,t){return new d.vHH(3400,Rt)}();const l=Ys(this._elementListeners,t,[]),f={name:e,phase:i,callback:o};l.push(f);const g=Ys(this._engine.statesByElement,t,{});return g.hasOwnProperty(e)||(No(t,J0),No(t,J0+"-"+e),g[e]=iI),()=>{this._engine.afterFlush(()=>{const b=l.indexOf(f);b>=0&&l.splice(b,1),this._triggers[e]||delete g[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function yk(n){return new d.vHH(3401,Rt)}();return e}trigger(t,e,i,o=!0){const l=this._getTrigger(e),f=new rI(this.id,e,t);let g=this._engine.statesByElement.get(t);g||(No(t,J0),No(t,J0+"-"+e),this._engine.statesByElement.set(t,g={}));let b=g[e];const D=new nI(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&b&&D.absorbOptions(b.options),g[e]=D,b||(b=iI),D.value!==hy&&b.value===D.value){if(!function vR(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let o=0;o<e.length;o++){const l=e[o];if(!t.hasOwnProperty(l)||n[l]!==t[l])return!1}return!0}(b.params,D.params)){const Te=[],Fe=l.matchStyles(b.value,b.params,Te),Ze=l.matchStyles(D.value,D.params,Te);Te.length?this._engine.reportError(Te):this._engine.afterFlush(()=>{Kh(t,Fe),hl(t,Ze)})}return}const U=Ys(this._engine.playersByElement,t,[]);U.forEach(Te=>{Te.namespaceId==this.id&&Te.triggerName==e&&Te.queued&&Te.destroy()});let Y=l.matchTransition(b.value,D.value,t,D.params),J=!1;if(!Y){if(!o)return;Y=l.fallbackTransition,J=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:Y,fromState:b,toState:D,player:f,isFallbackTransition:J}),J||(No(t,BT),f.onStart(()=>{am(t,BT)})),f.onDone(()=>{let Te=this.players.indexOf(f);Te>=0&&this.players.splice(Te,1);const Fe=this._engine.playersByElement.get(t);if(Fe){let Ze=Fe.indexOf(f);Ze>=0&&Fe.splice(Ze,1)}}),this.players.push(f),U.push(f),f}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(o=>o.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,eE,!0);i.forEach(o=>{if(o[Fo])return;const l=this._engine.fetchNamespacesByElement(o);l.size?l.forEach(f=>f.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(t,e,i,o){const l=this._engine.statesByElement.get(t),f=new Map;if(l){const g=[];if(Object.keys(l).forEach(b=>{if(f.set(b,l[b].value),this._triggers[b]){const D=this.trigger(t,b,hy,o);D&&g.push(D)}}),g.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,f),i&&Ku(g).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const o=new Set;e.forEach(l=>{const f=l.name;if(o.has(f))return;o.add(f);const b=this._triggers[f].fallbackTransition,D=i[f]||iI,M=new nI(hy),P=new rI(this.id,f,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:f,transition:b,fromState:D,toState:M,player:P,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let o=!1;if(i.totalAnimations){const l=i.players.length?i.playersByQueriedElement.get(t):[];if(l&&l.length)o=!0;else{let f=t;for(;f=f.parentNode;)if(i.statesByElement.get(f)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(t),o)i.markElementAsRemoved(this.id,t,!1,e);else{const l=t[Fo];(!l||l===UT)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){No(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const o=i.player;if(o.destroyed)return;const l=i.element,f=this._elementListeners.get(l);f&&f.forEach(g=>{if(g.name==i.triggerName){const b=BD(l,i.triggerName,i.fromState.value,i.toState.value);b._data=t,LD(i.player,g.phase,b,g.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(i)}),this._queue=[],e.sort((i,o)=>{const l=i.transition.ast.depCount,f=o.transition.ast.depCount;return 0==l||0==f?l-f:this._engine.driver.containsElement(i.element,o.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class fR{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,l)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new hR(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,o=this.namespacesByHostElement,l=i.length-1;if(l>=0){let f=!1;if(void 0!==this.driver.getParentElement){let g=this.driver.getParentElement(e);for(;g;){const b=o.get(g);if(b){const D=i.indexOf(b);i.splice(D+1,0,t),f=!0;break}g=this.driver.getParentElement(g)}}else for(let g=l;g>=0;g--)if(this.driver.containsElement(i[g].hostElement,e)){i.splice(g+1,0,t),f=!0;break}f||i.unshift(t)}else i.push(t);return o.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let o=this._namespaceLookup[t];o&&o.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const o=this._namespaceList.indexOf(i);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const o=Object.keys(i);for(let l=0;l<o.length;l++){const f=i[o[l]].namespaceId;if(f){const g=this._fetchNamespace(f);g&&e.add(g)}}}return e}trigger(t,e,i,o){if(dE(e)){const l=this._fetchNamespace(t);if(l)return l.trigger(e,i,o),!0}return!1}insertNode(t,e,i,o){if(!dE(e))return;const l=e[Fo];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const f=this.collectedLeaveElements.indexOf(e);f>=0&&this.collectedLeaveElements.splice(f,1)}if(t){const f=this._fetchNamespace(t);f&&f.insertNode(e,i)}o&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),No(t,tI)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),am(t,tI))}removeNode(t,e,i,o){if(dE(e)){const l=t?this._fetchNamespace(t):null;if(l?l.removeNode(e,o):this.markElementAsRemoved(t,e,!1,o),i){const f=this.namespacesByHostElement.get(e);f&&f.id!==t&&f.removeNode(e,o)}}else this._onRemovalComplete(e,o)}markElementAsRemoved(t,e,i,o,l){this.collectedLeaveElements.push(e),e[Fo]={namespaceId:t,setForRemoval:o,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:l}}listen(t,e,i,o,l){return dE(e)?this._fetchNamespace(t).listen(e,i,o,l):()=>{}}_buildInstruction(t,e,i,o,l){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,o,t.fromState.options,t.toState.options,e,l)}destroyInnerAnimations(t){let e=this.driver.query(t,eE,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,zD,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ku(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[Fo];if(i&&i.setForRemoval){if(t[Fo]=UT,i.namespaceId){this.destroyInnerAnimations(t);const o=this._fetchNamespace(i.namespaceId);o&&o.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(tI))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,o)=>this._balanceNamespaceList(i,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)No(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let o=0;o<i.length;o++)i[o]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Ku(e).onDone(()=>{i.forEach(o=>o())}):i.forEach(o=>o())}}reportError(t){throw function vk(n){return new d.vHH(3402,Rt)}()}_flushAnimations(t,e){const i=new lE,o=[],l=new Map,f=[],g=new Map,b=new Map,D=new Map,M=new Set;this.disabledNodes.forEach(Xe=>{M.add(Xe);const ct=this.driver.query(Xe,".ng-animate-queued",!0);for(let pt=0;pt<ct.length;pt++)M.add(ct[pt])});const P=this.bodyNode,U=Array.from(this.statesByElement.keys()),Y=GT(U,this.collectedEnterElements),J=new Map;let Te=0;Y.forEach((Xe,ct)=>{const pt=GD+Te++;J.set(ct,pt),Xe.forEach(Wt=>No(Wt,pt))});const Fe=[],Ze=new Set,lt=new Set;for(let Xe=0;Xe<this.collectedLeaveElements.length;Xe++){const ct=this.collectedLeaveElements[Xe],pt=ct[Fo];pt&&pt.setForRemoval&&(Fe.push(ct),Ze.add(ct),pt.hasAnimation?this.driver.query(ct,".ng-star-inserted",!0).forEach(Wt=>Ze.add(Wt)):lt.add(ct))}const ft=new Map,Qe=GT(U,Array.from(Ze));Qe.forEach((Xe,ct)=>{const pt=X0+Te++;ft.set(ct,pt),Xe.forEach(Wt=>No(Wt,pt))}),t.push(()=>{Y.forEach((Xe,ct)=>{const pt=J.get(ct);Xe.forEach(Wt=>am(Wt,pt))}),Qe.forEach((Xe,ct)=>{const pt=ft.get(ct);Xe.forEach(Wt=>am(Wt,pt))}),Fe.forEach(Xe=>{this.processLeaveNode(Xe)})});const gn=[],Dn=[];for(let Xe=this._namespaceList.length-1;Xe>=0;Xe--)this._namespaceList[Xe].drainQueuedTransitions(e).forEach(pt=>{const Wt=pt.player,Gi=pt.element;if(gn.push(Wt),this.collectedEnterElements.length){const $r=Gi[Fo];if($r&&$r.setForMove){if($r.previousTriggersValues&&$r.previousTriggersValues.has(pt.triggerName)){const nf=$r.previousTriggersValues.get(pt.triggerName),nd=this.statesByElement.get(pt.element);nd&&nd[pt.triggerName]&&(nd[pt.triggerName].value=nf)}return void Wt.destroy()}}const fl=!P||!this.driver.containsElement(P,Gi),Qs=ft.get(Gi),td=J.get(Gi),Un=this._buildInstruction(pt,i,td,Qs,fl);if(Un.errors&&Un.errors.length)return void Dn.push(Un);if(fl)return Wt.onStart(()=>Kh(Gi,Un.fromStyles)),Wt.onDestroy(()=>hl(Gi,Un.toStyles)),void o.push(Wt);if(pt.isFallbackTransition)return Wt.onStart(()=>Kh(Gi,Un.fromStyles)),Wt.onDestroy(()=>hl(Gi,Un.toStyles)),void o.push(Wt);const KM=[];Un.timelines.forEach($r=>{$r.stretchStartingKeyframe=!0,this.disabledNodes.has($r.element)||KM.push($r)}),Un.timelines=KM,i.append(Gi,Un.timelines),f.push({instruction:Un,player:Wt,element:Gi}),Un.queriedElements.forEach($r=>Ys(g,$r,[]).push(Wt)),Un.preStyleProps.forEach(($r,nf)=>{const nd=Object.keys($r);if(nd.length){let rf=b.get(nf);rf||b.set(nf,rf=new Set),nd.forEach(BI=>rf.add(BI))}}),Un.postStyleProps.forEach(($r,nf)=>{const nd=Object.keys($r);let rf=D.get(nf);rf||D.set(nf,rf=new Set),nd.forEach(BI=>rf.add(BI))})});if(Dn.length){const Xe=[];Dn.forEach(ct=>{Xe.push(function bk(n,t){return new d.vHH(3505,Rt)}())}),gn.forEach(ct=>ct.destroy()),this.reportError(Xe)}const ki=new Map,zr=new Map;f.forEach(Xe=>{const ct=Xe.element;i.has(ct)&&(zr.set(ct,ct),this._beforeAnimationBuild(Xe.player.namespaceId,Xe.instruction,ki))}),o.forEach(Xe=>{const ct=Xe.element;this._getPreviousPlayers(ct,!1,Xe.namespaceId,Xe.triggerName,null).forEach(Wt=>{Ys(ki,ct,[]).push(Wt),Wt.destroy()})});const Zs=Fe.filter(Xe=>$T(Xe,b,D)),Ec=new Map;jT(Ec,this.driver,lt,D,vc).forEach(Xe=>{$T(Xe,b,D)&&Zs.push(Xe)});const Ey=new Map;Y.forEach((Xe,ct)=>{jT(Ey,this.driver,new Set(Xe),b,"!")}),Zs.forEach(Xe=>{const ct=Ec.get(Xe),pt=Ey.get(Xe);Ec.set(Xe,Object.assign(Object.assign({},ct),pt))});const tf=[],YM=[],qM={};f.forEach(Xe=>{const{element:ct,player:pt,instruction:Wt}=Xe;if(i.has(ct)){if(M.has(ct))return pt.onDestroy(()=>hl(ct,Wt.toStyles)),pt.disabled=!0,pt.overrideTotalTime(Wt.totalTime),void o.push(pt);let Gi=qM;if(zr.size>1){let Qs=ct;const td=[];for(;Qs=Qs.parentNode;){const Un=zr.get(Qs);if(Un){Gi=Un;break}td.push(Qs)}td.forEach(Un=>zr.set(Un,Gi))}const fl=this._buildAnimation(pt.namespaceId,Wt,ki,l,Ey,Ec);if(pt.setRealPlayer(fl),Gi===qM)tf.push(pt);else{const Qs=this.playersByElement.get(Gi);Qs&&Qs.length&&(pt.parentPlayer=Ku(Qs)),o.push(pt)}}else Kh(ct,Wt.fromStyles),pt.onDestroy(()=>hl(ct,Wt.toStyles)),YM.push(pt),M.has(ct)&&o.push(pt)}),YM.forEach(Xe=>{const ct=l.get(Xe.element);if(ct&&ct.length){const pt=Ku(ct);Xe.setRealPlayer(pt)}}),o.forEach(Xe=>{Xe.parentPlayer?Xe.syncPlayerEvents(Xe.parentPlayer):Xe.destroy()});for(let Xe=0;Xe<Fe.length;Xe++){const ct=Fe[Xe],pt=ct[Fo];if(am(ct,X0),pt&&pt.hasAnimation)continue;let Wt=[];if(g.size){let fl=g.get(ct);fl&&fl.length&&Wt.push(...fl);let Qs=this.driver.query(ct,zD,!0);for(let td=0;td<Qs.length;td++){let Un=g.get(Qs[td]);Un&&Un.length&&Wt.push(...Un)}}const Gi=Wt.filter(fl=>!fl.destroyed);Gi.length?_R(this,ct,Gi):this.processLeaveNode(ct)}return Fe.length=0,tf.forEach(Xe=>{this.players.push(Xe),Xe.onDone(()=>{Xe.destroy();const ct=this.players.indexOf(Xe);this.players.splice(ct,1)}),Xe.play()}),tf}elementContainsData(t,e){let i=!1;const o=e[Fo];return o&&o.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,o,l){let f=[];if(e){const g=this.playersByQueriedElement.get(t);g&&(f=g)}else{const g=this.playersByElement.get(t);if(g){const b=!l||l==hy;g.forEach(D=>{D.queued||!b&&D.triggerName!=o||f.push(D)})}}return(i||o)&&(f=f.filter(g=>!(i&&i!=g.namespaceId||o&&o!=g.triggerName))),f}_beforeAnimationBuild(t,e,i){const l=e.element,f=e.isRemovalTransition?void 0:t,g=e.isRemovalTransition?void 0:e.triggerName;for(const b of e.timelines){const D=b.element,M=D!==l,P=Ys(i,D,[]);this._getPreviousPlayers(D,M,f,g,e.toState).forEach(Y=>{const J=Y.getRealPlayer();J.beforeDestroy&&J.beforeDestroy(),Y.destroy(),P.push(Y)})}Kh(l,e.fromStyles)}_buildAnimation(t,e,i,o,l,f){const g=e.triggerName,b=e.element,D=[],M=new Set,P=new Set,U=e.timelines.map(J=>{const Te=J.element;M.add(Te);const Fe=Te[Fo];if(Fe&&Fe.removedBeforeQueried)return new uy(J.duration,J.delay);const Ze=Te!==b,lt=function yR(n){const t=[];return zT(n,t),t}((i.get(Te)||uR).map(ki=>ki.getRealPlayer())).filter(ki=>!!ki.element&&ki.element===Te),ft=l.get(Te),Qe=f.get(Te),gn=gT(0,this._normalizer,0,J.keyframes,ft,Qe),Dn=this._buildPlayer(J,gn,lt);if(J.subTimeline&&o&&P.add(Te),Ze){const ki=new rI(t,g,Te);ki.setRealPlayer(Dn),D.push(ki)}return Dn});D.forEach(J=>{Ys(this.playersByQueriedElement,J.element,[]).push(J),J.onDone(()=>function pR(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const o=i.indexOf(e);i.splice(o,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const o=i.indexOf(e);i.splice(o,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,J.element,J))}),M.forEach(J=>No(J,AT));const Y=Ku(U);return Y.onDestroy(()=>{M.forEach(J=>am(J,AT)),hl(b,e.toStyles)}),P.forEach(J=>{Ys(o,J,[]).push(Y)}),Y}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new uy(t.duration,t.delay)}}class rI{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new uy,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>LD(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ys(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function dE(n){return n&&1===n.nodeType}function HT(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function jT(n,t,e,i,o){const l=[];e.forEach(b=>l.push(HT(b)));const f=[];i.forEach((b,D)=>{const M={};b.forEach(P=>{const U=M[P]=t.computeStyle(D,P,o);(!U||0==U.length)&&(D[Fo]=dR,f.push(D))}),n.set(D,M)});let g=0;return e.forEach(b=>HT(b,l[g++])),f}function GT(n,t){const e=new Map;if(n.forEach(g=>e.set(g,[])),0==t.length)return e;const o=new Set(t),l=new Map;function f(g){if(!g)return 1;let b=l.get(g);if(b)return b;const D=g.parentNode;return b=e.has(D)?D:o.has(D)?1:f(D),l.set(g,b),b}return t.forEach(g=>{const b=f(g);1!==b&&e.get(b).push(g)}),e}function No(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function am(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function _R(n,t,e){Ku(e).onDone(()=>n.processLeaveNode(t))}function zT(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof pT?zT(i.players,t):t.push(i)}}function $T(n,t,e){const i=e.get(n);if(!i)return!1;let o=t.get(n);return o?i.forEach(l=>o.add(l)):t.set(n,i),e.delete(n),!0}class hE{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,l)=>{},this._transitionEngine=new fR(t,e,i),this._timelineEngine=new sR(t,e,i),this._transitionEngine.onRemovalComplete=(o,l)=>this.onRemovalComplete(o,l)}registerTrigger(t,e,i,o,l){const f=t+"-"+o;let g=this._triggerCache[f];if(!g){const b=[],D=qD(this._driver,l,b);if(b.length)throw function ck(n,t){return new d.vHH(3404,Rt)}();g=function tR(n,t,e){return new nR(n,t,e)}(o,D,this._normalizer),this._triggerCache[f]=g}this._transitionEngine.registerTrigger(e,o,g)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,o){this._transitionEngine.insertNode(t,e,i,o)}onRemove(t,e,i,o){this._transitionEngine.removeNode(t,e,o||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,o){if("@"==i.charAt(0)){const[l,f]=_T(i);this._timelineEngine.command(l,e,f,o)}else this._transitionEngine.trigger(t,e,i,o)}listen(t,e,i,o,l){if("@"==i.charAt(0)){const[f,g]=_T(i);return this._timelineEngine.listen(f,e,g,l)}return this._transitionEngine.listen(t,e,i,o,l)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ER=(()=>{class n{constructor(e,i,o){this._element=e,this._startStyles=i,this._endStyles=o,this._state=0;let l=n.initialStylesByElement.get(e);l||n.initialStylesByElement.set(e,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&hl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(hl(this._element,this._initialStyles),this._endStyles&&(hl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Kh(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Kh(this._element,this._endStyles),this._endStyles=null),hl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function sI(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const o=e[i];CR(o)&&(t=t||{},t[o]=n[o])}return t}function CR(n){return"display"===n||"position"===n}class WT{constructor(t,e,i,o){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:kT(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class wR{validateStyleProperty(t){return ET(t)}matchesElement(t,e){return!1}containsElement(t,e){return CT(t,e)}getParentElement(t){return HD(t)}query(t,e,i){return wT(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,o,l,f=[]){const b={duration:i,delay:o,fill:0==o?"both":"forwards"};l&&(b.easing=l);const D={},M=f.filter(U=>U instanceof WT);(function xk(n,t){return 0===n||0===t})(i,o)&&M.forEach(U=>{let Y=U.currentSnapshot;Object.keys(Y).forEach(J=>D[J]=Y[J])}),e=function kk(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let l=t[0],f=[];if(i.forEach(g=>{l.hasOwnProperty(g)||f.push(g),l[g]=e[g]}),f.length)for(var o=1;o<t.length;o++){let g=t[o];f.forEach(function(b){g[b]=kT(n,b)})}}return t}(t,e=e.map(U=>Zu(U,!1)),D);const P=function bR(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=sI(t[0]),t.length>1&&(i=sI(t[t.length-1]))):t&&(e=sI(t)),e||i?new ER(n,e,i):null}(t,e);return new WT(t,e,b,P)}}let DR=(()=>{class n extends uT{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(e)?dT(e):e;return YT(this._renderer,null,i,"register",[o]),new IR(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(d.FYo),d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class IR extends class Ux{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new AR(this._id,t,e||{},this._renderer)}}class AR{constructor(t,e,i,o){this.id=t,this.element=e,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return YT(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function YT(n,t,e,i,o){return n.setProperty(t,`@@${e}:${i}`,o)}const qT="@.disabled";let TR=(()=>{class n{constructor(e,i,o){this.delegate=e,this.engine=i,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(l,f)=>{const g=null==f?void 0:f.parentNode(l);g&&f.removeChild(g,l)}}createRenderer(e,i){const l=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let M=this._rendererCache.get(l);return M||(M=new KT("",l,this.engine),this._rendererCache.set(l,M)),M}const f=i.id,g=i.id+"-"+this._currentId;this._currentId++,this.engine.register(g,e);const b=M=>{Array.isArray(M)?M.forEach(b):this.engine.registerTrigger(f,g,e,M.name,M)};return i.data.animation.forEach(b),new SR(this,g,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,o){e>=0&&e<this._microtaskId?this._zone.run(()=>i(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[f,g]=l;f(g)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(d.FYo),d.LFG(hE),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class KT{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,o=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,o)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,o){this.delegate.setAttribute(t,e,i,o)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,o){this.delegate.setStyle(t,e,i,o)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==qT?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class SR extends KT{constructor(t,e,i,o){super(e,i,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==qT?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const o=function MR(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let l=e.substr(1),f="";return"@"!=l.charAt(0)&&([l,f]=function xR(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(l)),this.engine.listen(this.namespaceId,o,l,f,g=>{this.factory.scheduleListenerCallback(g._data||-1,i,g)})}return this.delegate.listen(t,e,i)}}let kR=(()=>{class n extends hE{constructor(e,i,o){super(e.body,i,o)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(ne),d.LFG(jD),d.LFG(JD))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const lm=new d.OlP("AnimationModuleType"),ZT=[{provide:uT,useClass:DR},{provide:JD,useFactory:function RR(){return new Zk}},{provide:hE,useClass:kR},{provide:d.FYo,useFactory:function PR(n,t,e){return new TR(n,t,e)},deps:[nn,hE,d.R0b]}],QT=[{provide:jD,useFactory:()=>new wR},{provide:lm,useValue:"BrowserAnimations"},...ZT],OR=[{provide:jD,useClass:DT},{provide:lm,useValue:"NoopAnimations"},...ZT];let FR=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?OR:QT}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:QT,imports:[La]}),n})();const LR=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function NR(){return!0}});let vs=(()=>{class n{constructor(e,i,o){this._sanityChecks=i,this._document=o,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!k0()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(cT),d.LFG(LR,8),d.LFG(ne))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Jp],Jp]}),n})();function JT(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=K(t)}}}function pE(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function eS(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=K(t)}}}class UR{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const nS={enterDuration:225,exitDuration:150},oI=em({passive:!0}),iS=["mousedown","touchstart"],rS=["mouseup","mouseleave","touchend","touchcancel"];class jR{constructor(t,e,i,o){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=we(i))}fadeInRipple(t,e,i={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),l=Object.assign(Object.assign({},nS),i.animation);i.centered&&(t=o.left+o.width/2,e=o.top+o.height/2);const f=i.radius||function zR(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),o=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+o*o)}(t,e,o),g=t-o.left,b=e-o.top,D=l.enterDuration,M=document.createElement("div");M.classList.add("mat-ripple-element"),M.style.left=g-f+"px",M.style.top=b-f+"px",M.style.height=2*f+"px",M.style.width=2*f+"px",null!=i.color&&(M.style.backgroundColor=i.color),M.style.transitionDuration=`${D}ms`,this._containerElement.appendChild(M),function GR(n){window.getComputedStyle(n).getPropertyValue("opacity")}(M),M.style.transform="scale(1)";const P=new UR(this,M,i);return P.state=0,this._activeRipples.add(P),i.persistent||(this._mostRecentTransientRipple=P),this._runTimeoutOutsideZone(()=>{const U=P===this._mostRecentTransientRipple;P.state=1,!i.persistent&&(!U||!this._isPointerDown)&&P.fadeOut()},D),P}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,o=Object.assign(Object.assign({},nS),t.config.animation);i.style.transitionDuration=`${o.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.remove()},o.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=we(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(iS))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(rS),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=rT(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!sT(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,oI)})})}_removeTriggerEvents(){this._triggerElement&&(iS.forEach(t=>{this._triggerElement.removeEventListener(t,this,oI)}),this._pointerUpEventsRegistered&&rS.forEach(t=>{this._triggerElement.removeEventListener(t,this,oI)}))}}const $R=new d.OlP("mat-ripple-global-options");let aI=(()=>{class n{constructor(e,i,o,l,f){this._elementRef=e,this._animationMode=f,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=l||{},this._rippleRenderer=new jR(this,i,e,o)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,o){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(ul),d.Y36($R,8),d.Y36(lm,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&d.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),sS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[vs],vs]}),n})();var bc=F(727),WR=F(1144);const{isArray:YR}=Array;function oS(n){return(0,Vt.U)(t=>function qR(n,t){return YR(t)?n(...t):n(t)}(n,t))}const KR=["addListener","removeListener"],ZR=["addEventListener","removeEventListener"],QR=["on","off"];function mE(n,t,e,i){if((0,Di.m)(e)&&(i=e,e=void 0),i)return mE(n,t,e).pipe(oS(i));const[o,l]=function eP(n){return(0,Di.m)(n.addEventListener)&&(0,Di.m)(n.removeEventListener)}(n)?ZR.map(f=>g=>n[f](t,g,e)):function XR(n){return(0,Di.m)(n.addListener)&&(0,Di.m)(n.removeListener)}(n)?KR.map(aS(n,t)):function JR(n){return(0,Di.m)(n.on)&&(0,Di.m)(n.off)}(n)?QR.map(aS(n,t)):[];if(!o&&(0,WR.z)(n))return(0,sa.z)(f=>mE(f,t,e))((0,ls.Xf)(n));if(!o)throw new TypeError("Invalid event target");return new Rn.y(f=>{const g=(...b)=>f.next(1<b.length?b:b[0]);return o(g),()=>l(g)})}function aS(n,t){return e=>i=>n[e](t,i)}const tP=["primaryValueBar"],nP=pE(class{constructor(n){this._elementRef=n}},"primary"),iP=new d.OlP("mat-progress-bar-location",{providedIn:"root",factory:function rP(){const n=(0,d.f3M)(ne),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),sP=new d.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let oP=0,aP=(()=>{class n extends nP{constructor(e,i,o,l,f,g){super(e),this._ngZone=i,this._animationMode=o,this._changeDetectorRef=g,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new d.vpe,this._animationEndSubscription=bc.w0.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+oP++;const b=l?l.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${b}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===o,f&&(f.color&&(this.color=this.defaultColor=f.color),this.mode=f.mode||this.mode)}get value(){return this._value}set value(e){var i;this._value=lS(function ye(n,t=0){return function Pe(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}(e)||0),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()}get bufferValue(){return this._bufferValue}set bufferValue(e){var i;this._bufferValue=lS(e||0),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=this._primaryValueBar.nativeElement;this._animationEndSubscription=mE(e,"transitionend").pipe(rs(i=>i.target===e)).subscribe(()=>{("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(lm,8),d.Y36(iP,8),d.Y36(sP,8),d.Y36(d.sBO))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-progress-bar"]],viewQuery:function(e,i){if(1&e&&d.Gf(tP,5),2&e){let o;d.iGM(o=d.CRH())&&(i._primaryValueBar=o.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(e,i){2&e&&(d.uIk("aria-valuenow","indeterminate"===i.mode||"query"===i.mode?null:i.value)("mode",i.mode),d.ekj("_mat-animation-noopable",i._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[d.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(e,i){1&e&&(d.TgZ(0,"div",0),d.O4$(),d.TgZ(1,"svg",1)(2,"defs")(3,"pattern",2),d._UZ(4,"circle",3),d.qZA()(),d._UZ(5,"rect",4),d.qZA(),d.kcU(),d._UZ(6,"div",5)(7,"div",6,7)(9,"div",8),d.qZA()),2&e&&(d.xp6(3),d.Q6J("id",i.progressbarId),d.xp6(2),d.uIk("fill",i._rectangleFillValue),d.xp6(1),d.Q6J("ngStyle",i._bufferTransform()),d.xp6(1),d.Q6J("ngStyle",i._primaryTransform()))},directives:[pl],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),n})();function lS(n,t=0,e=100){return Math.max(t,Math.min(e,n))}let lP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Wi,vs],vs]}),n})();const{isArray:uP}=Array,{getPrototypeOf:dP,prototype:hP,keys:fP}=Object;function gP(n,t){return n.reduce((e,i,o)=>(e[i]=t[o],e),{})}function cS(...n){const t=(0,cd.jO)(n),{args:e,keys:i}=function pP(n){if(1===n.length){const t=n[0];if(uP(t))return{args:t,keys:null};if(function mP(n){return n&&"object"==typeof n&&dP(n)===hP}(t)){const e=fP(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}(n),o=new Rn.y(l=>{const{length:f}=e;if(!f)return void l.complete();const g=new Array(f);let b=f,D=f;for(let M=0;M<f;M++){let P=!1;(0,ls.Xf)(e[M]).subscribe((0,yt.x)(l,U=>{P||(P=!0,D--),g[M]=U},()=>b--,void 0,()=>{(!b||!P)&&(D||l.next(i?gP(i,g):g),l.complete())}))}});return t?o.pipe(oS(t)):o}var lI=F(8505);function uS(n){return(0,li.e)((t,e)=>{let l,i=null,o=!1;i=t.subscribe((0,yt.x)(e,void 0,void 0,f=>{l=(0,ls.Xf)(n(f,uS(n)(t))),i?(i.unsubscribe(),i=null,l.subscribe(e)):o=!0})),o&&(i.unsubscribe(),i=null,l.subscribe(e))})}const _P=["*"];let gE;function py(n){var t;return(null===(t=function yP(){if(void 0===gE&&(gE=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(gE=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return gE}())||void 0===t?void 0:t.createHTML(n))||n}function dS(n){return Error(`Unable to find icon with the name "${n}"`)}function hS(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function fS(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Qh{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let _E=(()=>{class n{constructor(e,i,o,l){this._httpClient=e,this._sanitizer=i,this._errorHandler=l,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=o}addSvgIcon(e,i,o){return this.addSvgIconInNamespace("",e,i,o)}addSvgIconLiteral(e,i,o){return this.addSvgIconLiteralInNamespace("",e,i,o)}addSvgIconInNamespace(e,i,o,l){return this._addSvgIconConfig(e,i,new Qh(o,null,l))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,o,l){const f=this._sanitizer.sanitize(d.q3G.HTML,o);if(!f)throw fS(o);const g=py(f);return this._addSvgIconConfig(e,i,new Qh("",g,l))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,o){return this._addSvgIconSetConfig(e,new Qh(i,null,o))}addSvgIconSetLiteralInNamespace(e,i,o){const l=this._sanitizer.sanitize(d.q3G.HTML,i);if(!l)throw fS(i);const f=py(l);return this._addSvgIconSetConfig(e,new Qh("",f,o))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,e);if(!i)throw hS(e);const o=this._cachedIconsByUrl.get(i);return o?Ft(yE(o)):this._loadSvgIconFromConfig(new Qh(e,null)).pipe((0,lI.b)(l=>this._cachedIconsByUrl.set(i,l)),(0,Vt.U)(l=>yE(l)))}getNamedSvgIcon(e,i=""){const o=pS(i,e);let l=this._svgIconConfigs.get(o);if(l)return this._getSvgFromConfig(l);if(l=this._getIconConfigFromResolvers(i,e),l)return this._svgIconConfigs.set(o,l),this._getSvgFromConfig(l);const f=this._iconSetConfigs.get(i);return f?this._getSvgFromIconSetConfigs(e,f):function cP(n,t){const e=(0,Di.m)(n)?n:()=>n,i=o=>o.error(e());return new Rn.y(t?o=>t.schedule(i,0,o):i)}(dS(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Ft(yE(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,Vt.U)(i=>yE(i)))}_getSvgFromIconSetConfigs(e,i){const o=this._extractIconWithNameFromAnySet(e,i);return o?Ft(o):cS(i.filter(f=>!f.svgText).map(f=>this._loadSvgIconSetFromConfig(f).pipe(uS(g=>{const D=`Loading icon set URL: ${this._sanitizer.sanitize(d.q3G.RESOURCE_URL,f.url)} failed: ${g.message}`;return this._errorHandler.handleError(new Error(D)),Ft(null)})))).pipe((0,Vt.U)(()=>{const f=this._extractIconWithNameFromAnySet(e,i);if(!f)throw dS(e);return f}))}_extractIconWithNameFromAnySet(e,i){for(let o=i.length-1;o>=0;o--){const l=i[o];if(l.svgText&&l.svgText.toString().indexOf(e)>-1){const f=this._svgElementFromConfig(l),g=this._extractSvgIconFromSet(f,e,l.options);if(g)return g}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,lI.b)(i=>e.svgText=i),(0,Vt.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Ft(null):this._fetchIcon(e).pipe((0,lI.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,o){const l=e.querySelector(`[id="${i}"]`);if(!l)return null;const f=l.cloneNode(!0);if(f.removeAttribute("id"),"svg"===f.nodeName.toLowerCase())return this._setSvgAttributes(f,o);if("symbol"===f.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(f),o);const g=this._svgElementFromString(py("<svg></svg>"));return g.appendChild(f),this._setSvgAttributes(g,o)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const o=i.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(e){const i=this._svgElementFromString(py("<svg></svg>")),o=e.attributes;for(let l=0;l<o.length;l++){const{name:f,value:g}=o[l];"id"!==f&&i.setAttribute(f,g)}for(let l=0;l<e.childNodes.length;l++)e.childNodes[l].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[l].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:o,options:l}=e,f=null!==(i=null==l?void 0:l.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function vP(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==o)throw Error(`Cannot fetch icon from URL "${o}".`);const g=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,o);if(!g)throw hS(o);const b=this._inProgressUrlFetches.get(g);if(b)return b;const D=this._httpClient.get(g,{responseType:"text",withCredentials:f}).pipe((0,Vt.U)(M=>py(M)),C0(()=>this._inProgressUrlFetches.delete(g)),(0,Kd.B)());return this._inProgressUrlFetches.set(g,D),D}_addSvgIconConfig(e,i,o){return this._svgIconConfigs.set(pS(e,i),o),this}_addSvgIconSetConfig(e,i){const o=this._iconSetConfigs.get(e);return o?o.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let o=0;o<this._resolvers.length;o++){const l=this._resolvers[o](i,e);if(l)return EP(l)?new Qh(l.url,null,l.options):new Qh(l,null)}}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(ur,8),d.LFG(is),d.LFG(ne,8),d.LFG(d.qLn))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yE(n){return n.cloneNode(!0)}function pS(n,t){return n+":"+t}function EP(n){return!(!n.url||!n.options)}const CP=pE(class{constructor(n){this._elementRef=n}}),wP=new d.OlP("mat-icon-location",{providedIn:"root",factory:function DP(){const n=(0,d.f3M)(ne),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),mS=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],IP=mS.map(n=>`[${n}]`).join(", "),AP=/^url\(['"]?#(.*?)['"]?\)$/;let TP=(()=>{class n extends CP{constructor(e,i,o,l,f){super(e),this._iconRegistry=i,this._location=l,this._errorHandler=f,this._inline=!1,this._currentIconFetch=bc.w0.EMPTY,o||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=K(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=e.querySelectorAll("style");for(let l=0;l<i.length;l++)i[l].textContent+=" ";const o=this._location.getPathname();this._previousPath=o,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(o),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const o=e.childNodes[i];(1!==o.nodeType||"svg"===o.nodeName.toLowerCase())&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((o,l)=>{o.forEach(f=>{l.setAttribute(f.name,`url('${e}#${f.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(IP),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let l=0;l<i.length;l++)mS.forEach(f=>{const g=i[l],b=g.getAttribute(f),D=b?b.match(AP):null;if(D){let M=o.get(g);M||(M=[],o.set(g,M)),M.push({name:f,value:D[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,o]=this._splitIconName(e);i&&(this._svgNamespace=i),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,i).pipe((0,Zp.q)(1)).subscribe(l=>this._setSvgElement(l),l=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${o}! ${l.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.SBq),d.Y36(_E),d.$8M("aria-hidden"),d.Y36(wP),d.Y36(d.qLn))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(d.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),d.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[d.qOj],ngContentSelectors:_P,decls:1,vars:0,template:function(e,i){1&e&&(d.F$t(),d.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),SP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[vs],vs]}),n})();const MP=["mat-button",""],xP=["*"],RP=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],PP=pE(JT(eS(class{constructor(n){this._elementRef=n}})));let OP=(()=>{class n extends PP{constructor(e,i,o){super(e),this._focusMonitor=i,this._animationMode=o,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const l of RP)this._hasHostAttributes(l)&&this._getHostElement().classList.add(l);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.SBq),d.Y36(PD),d.Y36(lm,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&d.Gf(aI,5),2&e){let o;d.iGM(o=d.CRH())&&(i.ripple=o.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(d.uIk("disabled",i.disabled||null),d.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[d.qOj],attrs:MP,ngContentSelectors:xP,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(d.F$t(),d.TgZ(0,"span",0),d.Hsn(1),d.qZA(),d._UZ(2,"span",1)(3,"span",2)),2&e&&(d.xp6(2),d.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),d.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[aI],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),gS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[sS,vs],vs]}),n})();function FP(n,t){if(1&n){const e=d.EpF();d.TgZ(0,"div",4)(1,"h4",5),d._uU(2,"Upload your image"),d.qZA(),d.TgZ(3,"p",6),d._uU(4,"File should be Jpeg, Png,..."),d.qZA(),d.TgZ(5,"div",7)(6,"input",8,9),d.NdJ("change",function(o){return d.CHM(e),d.oxw().onFileSelected(o)}),d.qZA(),d.TgZ(8,"img",10),d.NdJ("click",function(){return d.CHM(e),d.MAs(7).click()}),d.qZA(),d.TgZ(9,"p",11),d._uU(10,"Drag & Drop your image here..."),d.qZA()(),d.TgZ(11,"p"),d._uU(12,"or"),d.qZA(),d.TgZ(13,"button",12),d.NdJ("click",function(){return d.CHM(e),d.MAs(7).click()}),d._uU(14,"Choose a file"),d.qZA()()}}function NP(n,t){if(1&n&&(d.TgZ(0,"div",13)(1,"p"),d._uU(2,"Uploading..."),d.qZA(),d._UZ(3,"mat-progress-bar",14),d.ALo(4,"async"),d.qZA()),2&n){const e=d.oxw();d.xp6(3),d.s9C("value",d.lcZ(4,1,e.uploadPercent))}}function LP(n,t){if(1&n&&(d.TgZ(0,"div",15)(1,"mat-icon",16),d._uU(2,"check_circle"),d.qZA(),d.TgZ(3,"p"),d._uU(4,"Uploaded Successfully!"),d.qZA(),d._UZ(5,"img",17),d.ALo(6,"async"),d.TgZ(7,"div",18)(8,"div",19)(9,"p"),d._uU(10),d.ALo(11,"async"),d.qZA()(),d.TgZ(12,"button",20),d.ALo(13,"async"),d._uU(14,"Copy Link"),d.qZA()()()),2&n){const e=d.oxw();d.xp6(5),d.s9C("src",d.lcZ(6,3,e.downloadURL),d.LSH),d.xp6(5),d.Oqu(d.lcZ(11,5,e.downloadURL)),d.xp6(2),d.s9C("cdkCopyToClipboard",d.lcZ(13,7,e.downloadURL))}}let VP=(()=>{class n{constructor(e,i){this.af=e,this.cb=i}onFileSelected(e){this.selectedFile=e.target.files[0];const i="/files/"+Math.random()+this.selectedFile,o=this.af.ref(i),l=this.af.upload(i,this.selectedFile);this.uploadPercent=l.percentageChanges(),l.snapshotChanges().pipe(C0(()=>this.downloadURL=o.getDownloadURL())).subscribe()}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(Jl),d.Y36(J_))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-uploader"]],decls:4,vars:3,consts:[[1,"uploader"],["class","file--selection",4,"ngIf"],["class","uploading--box",4,"ngIf"],["class","uploaded",4,"ngIf"],[1,"file--selection"],[1,"title"],[1,"file--type"],[1,"uploader--box"],["type","file","accept","image/*",1,"file-input",3,"change"],["fileUpload",""],["src","assets/images/image.svg","alt","this is where you click to upload your image",1,"uploader--img",3,"click"],[1,"indication"],[1,"choose--file",3,"click"],[1,"uploading--box"],["mode","determinate",3,"value"],[1,"uploaded"],["aria-hidden","false","aria-label","Example home icon"],["alt","here is the image you just downloaded",1,"image--dowloaded",3,"src"],[1,"url"],[1,"image--url"],["mat-flat-button","",1,"copy--btn",3,"cdkCopyToClipboard"]],template:function(e,i){1&e&&(d.TgZ(0,"div",0),d.YNc(1,FP,15,0,"div",1),d.YNc(2,NP,5,3,"div",2),d.YNc(3,LP,15,9,"div",3),d.qZA()),2&e&&(d.xp6(1),d.Q6J("ngIf",!i.selectedFile),d.xp6(1),d.Q6J("ngIf",i.selectedFile&&!i.downloadURL),d.xp6(1),d.Q6J("ngIf",i.downloadURL))},directives:[si,aP,TP,OP,I0],pipes:[ml],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins&display=swap";@import"https://fonts.googleapis.com/css2?family=Noto+Sans&display=swap";.uploader[_ngcontent-%COMP%]{background:#FFFFFF;box-shadow:0 4px 12px #0000001a;border-radius:12px;font-family:Poppins,sans-serif;text-align:center;width:400px;padding:25px}.file--selection[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.title[_ngcontent-%COMP%]{font-style:normal;font-family:Poppins,sans-serif;font-weight:500;font-size:18px;line-height:27px;letter-spacing:-.035em}.file--type[_ngcontent-%COMP%]{font-size:10px;line-height:15px;letter-spacing:-.035em;color:#828282}.uploader--box[_ngcontent-%COMP%]{background:#F6F8FB;border:1px dashed #97BEF4;box-sizing:border-box;border-radius:12px;margin-top:25px;padding-bottom:20px;width:90%}.file-input[_ngcontent-%COMP%]{display:none}.uploader--img[_ngcontent-%COMP%]{margin-top:25px}.indication[_ngcontent-%COMP%]{font-size:12px;line-height:18px;letter-spacing:-.035em;color:#bdbdbd;margin-top:20px}.uploader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(4){font-size:12px;color:#bdbdbd;margin:revert}.choose--file[_ngcontent-%COMP%]{font-family:Noto Sans,sans-serif;font-style:normal;font-weight:500;font-size:12px;line-height:16px;text-align:center;letter-spacing:-.035em;color:#fff;background:#2F80ED;border-radius:8px;border:none;padding:7px 15px}.uploading--box[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:18px;letter-spacing:-.035em;color:#4f4f4f;text-align:left;margin-top:20px}.uploading--box[_ngcontent-%COMP%] > mat-progress-bar[_ngcontent-%COMP%]{margin-top:30px;margin-bottom:20px}  .mat-progress-bar-fill:after{background-color:#2f80ed}.uploaded[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%]{color:green;font-size:35px}.image--dowloaded[_ngcontent-%COMP%]{width:100%}.url[_ngcontent-%COMP%]{background:#F6F8FB;border:1px solid #E0E0E0;box-sizing:border-box;border-radius:8px;display:flex;height:35px;margin-top:25px}.image--url[_ngcontent-%COMP%]{display:flex;flex-grow:1;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding:5px}.image--url[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-style:normal;font-weight:500;font-size:8px;line-height:12px;letter-spacing:-.035em;color:#4f4f4f;margin:auto}.copy--btn[_ngcontent-%COMP%]{background:#2F80ED;border-radius:8px;color:#fff;font-weight:500;font-size:8px;line-height:12px;letter-spacing:-.035em;width:75px;font-family:Poppins,sans-serif;margin:1px 1px 1px 10px}']}),n})(),BP=(()=>{class n{constructor(){this.title="image-uploader"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&d._UZ(0,"app-uploader")},directives:[VP],styles:["*[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh}"]}),n})(),UP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();class cI{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class HP extends cI{constructor(t,e,i,o){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=o}}class jP extends cI{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class GP extends cI{constructor(t){super(),this.element=t instanceof d.SBq?t.nativeElement:t}}class $P extends class zP{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof HP?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof jP?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof GP?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,i,o,l){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=o,this.attachDomPortal=f=>{const g=f.element,b=this._document.createComment("dom-portal");g.parentNode.insertBefore(b,g),this.outletElement.appendChild(g),this._attachedPortal=f,super.setDisposeFn(()=>{b.parentNode&&b.parentNode.replaceChild(g,b)})},this._document=l}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let o;return t.viewContainerRef?(o=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>o.destroy())):(o=i.create(t.injector||this._defaultInjector),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.detachView(o.hostView),o.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(o)),this._attachedPortal=t,o}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(o=>this.outletElement.appendChild(o)),i.detectChanges(),this.setDisposeFn(()=>{let o=e.indexOf(i);-1!==o&&e.remove(o)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let uI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),WP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Wi,vs,UP,uI]]}),n})(),eF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[vs,sS],vs]}),n})();var AM=F(4408);const vy={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=vy;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const o=t(l=>{e=void 0,n(l)});return new bc.w0(()=>null==e?void 0:e(o))},requestAnimationFrame(...n){const{delegate:t}=vy;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=vy;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var TM=F(7565);new class nF extends TM.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let o;t=t||i.shift();do{if(o=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,o){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw o}}}(class tF extends AM.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=vy.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(o=>o.id===e)||(vy.cancelAnimationFrame(e),t._scheduled=void 0)}});let OI,rF=1;const SE={};function SM(n){return n in SE&&(delete SE[n],!0)}const sF={setImmediate(n){const t=rF++;return SE[t]=!0,OI||(OI=Promise.resolve()),OI.then(()=>SM(t)&&n()),t},clearImmediate(n){SM(n)}},{setImmediate:oF,clearImmediate:aF}=sF,ME={setImmediate(...n){const{delegate:t}=ME;return((null==t?void 0:t.setImmediate)||oF)(...n)},clearImmediate(n){const{delegate:t}=ME;return((null==t?void 0:t.clearImmediate)||aF)(n)},delegate:void 0};new class cF extends TM.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let o;t=t||i.shift();do{if(o=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,o){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw o}}}(class lF extends AM.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=ME.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(o=>o.id===e)||(ME.clearImmediate(e),t._scheduled=void 0)}});var hF=F(3532);function MM(n,t=Pn.z){return function dF(n){return(0,li.e)((t,e)=>{let i=!1,o=null,l=null,f=!1;const g=()=>{if(null==l||l.unsubscribe(),l=null,i){i=!1;const D=o;o=null,e.next(D)}f&&e.complete()},b=()=>{l=null,f&&e.complete()};t.subscribe((0,yt.x)(e,D=>{i=!0,o=D,l||(0,ls.Xf)(n(D)).subscribe(l=(0,yt.x)(e,g,b))},()=>{f=!0,(!i||!l||l.closed)&&e.complete()}))})}(()=>function pF(n=0,t,e=Pn.P){let i=-1;return null!=t&&((0,hF.K)(t)?e=t:i=t),new Rn.y(o=>{let l=function fF(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;l<0&&(l=0);let f=0;return e.schedule(function(){o.closed||(o.next(f++),0<=i?this.schedule(void 0,i):o.complete())},l)})}(n,t))}let gF=(()=>{class n{constructor(e,i,o){this._ngZone=e,this._platform=i,this._scrolled=new gi.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Rn.y(i=>{this._globalSubscription||this._addGlobalListener();const o=e>0?this._scrolled.pipe(MM(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ft()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const o=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(rs(l=>!l||o.indexOf(l)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((o,l)=>{this._scrollableContainsElement(l,e)&&i.push(l)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let o=we(i),l=e.getElementRef().nativeElement;do{if(o==l)return!0}while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>mE(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(d.R0b),d.LFG(ul),d.LFG(ne,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xM=(()=>{class n{constructor(e,i,o){this._platform=e,this._change=new gi.x,this._changeListener=l=>{this._change.next(l)},this._document=o,i.runOutsideAngular(()=>{if(e.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+i,height:o,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),o=e.documentElement,l=o.getBoundingClientRect();return{top:-l.top||e.body.scrollTop||i.scrollY||o.scrollTop||0,left:-l.left||e.body.scrollLeft||i.scrollX||o.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(MM(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(ul),d.LFG(d.R0b),d.LFG(ne,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),kM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Jp,FI],Jp,FI]}),n})();const RM=x0();class yF{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Le(-this._previousScrollPosition.left),t.style.top=Le(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,o=this._document.body.style,l=i.scrollBehavior||"",f=o.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),RM&&(i.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),RM&&(i.scrollBehavior=l,o.scrollBehavior=f)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class vF{constructor(t,e,i,o){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=o,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class PM{enable(){}disable(){}attach(){}}function NI(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function OM(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class bF{constructor(t,e,i,o){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=o,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:o}=this._viewportRuler.getViewportSize();NI(e,[{width:i,height:o,bottom:o,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let EF=(()=>{class n{constructor(e,i,o,l){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=o,this.noop=()=>new PM,this.close=f=>new vF(this._scrollDispatcher,this._ngZone,this._viewportRuler,f),this.block=()=>new yF(this._viewportRuler,this._document),this.reposition=f=>new bF(this._scrollDispatcher,this._viewportRuler,this._ngZone,f),this._document=l}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(gF),d.LFG(xM),d.LFG(d.R0b),d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class CF{constructor(t){if(this.scrollStrategy=new PM,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class wF{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class DF{constructor(t,e,i,o,l,f,g,b,D){this._portalOutlet=t,this._host=e,this._pane=i,this._config=o,this._ngZone=l,this._keyboardDispatcher=f,this._document=g,this._location=b,this._outsideClickDispatcher=D,this._backdropElement=null,this._backdropClick=new gi.x,this._attachments=new gi.x,this._detachments=new gi.x,this._locationChanges=bc.w0.EMPTY,this._backdropClickHandler=M=>this._backdropClick.next(M),this._keydownEvents=new gi.x,this._outsidePointerEvents=new gi.x,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Zp.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Le(this._config.width),t.height=Le(this._config.height),t.minWidth=Le(this._config.minWidth),t.minHeight=Le(this._config.minHeight),t.maxWidth=Le(this._config.maxWidth),t.maxHeight=Le(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(!t)return;let e;const i=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",i),this._disposeBackdrop(t)),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",i)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(t,e,i){const o=Ue(e||[]).filter(l=>!!l);o.length&&(i?t.classList.add(...o):t.classList.remove(...o))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(j((0,hu.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.remove(),this._backdropElement===t&&(this._backdropElement=null))}}let FM=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||k0()){const o=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let l=0;l<o.length;l++)o[l].remove()}const i=this._document.createElement("div");i.classList.add(e),k0()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(ne),d.LFG(ul))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const NM="cdk-overlay-connected-position-bounding-box",IF=/([A-Za-z%]+)$/;class AF{constructor(t,e,i,o,l){this._viewportRuler=e,this._document=i,this._platform=o,this._overlayContainer=l,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new gi.x,this._resizeSubscription=bc.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(NM),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,o=this._containerRect,l=[];let f;for(let g of this._preferredPositions){let b=this._getOriginPoint(t,o,g),D=this._getOverlayPoint(b,e,g),M=this._getOverlayFit(D,e,i,g);if(M.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(g,b);this._canFitWithFlexibleDimensions(M,D,i)?l.push({position:g,origin:b,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(b,g)}):(!f||f.overlayFit.visibleArea<M.visibleArea)&&(f={overlayFit:M,overlayPoint:D,originPoint:b,position:g,overlayRect:e})}if(l.length){let g=null,b=-1;for(const D of l){const M=D.boundingBoxRect.width*D.boundingBoxRect.height*(D.position.weight||1);M>b&&(b=M,g=D)}return this._isPushed=!1,void this._applyPosition(g.position,g.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(f.position,f.originPoint);this._applyPosition(f.position,f.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ef(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(NM),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let o,l;if("center"==i.originX)o=t.left+t.width/2;else{const f=this._isRtl()?t.right:t.left,g=this._isRtl()?t.left:t.right;o="start"==i.originX?f:g}return e.left<0&&(o-=e.left),l="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(l-=e.top),{x:o,y:l}}_getOverlayPoint(t,e,i){let o,l;return o="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,l="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+o,y:t.y+l}}_getOverlayFit(t,e,i,o){const l=VM(e);let{x:f,y:g}=t,b=this._getOffset(o,"x"),D=this._getOffset(o,"y");b&&(f+=b),D&&(g+=D);let U=0-g,Y=g+l.height-i.height,J=this._subtractOverflows(l.width,0-f,f+l.width-i.width),Te=this._subtractOverflows(l.height,U,Y),Fe=J*Te;return{visibleArea:Fe,isCompletelyWithinViewport:l.width*l.height===Fe,fitsInViewportVertically:Te===l.height,fitsInViewportHorizontally:J==l.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const o=i.bottom-e.y,l=i.right-e.x,f=LM(this._overlayRef.getConfig().minHeight),g=LM(this._overlayRef.getConfig().minWidth),D=t.fitsInViewportHorizontally||null!=g&&g<=l;return(t.fitsInViewportVertically||null!=f&&f<=o)&&D}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const o=VM(e),l=this._viewportRect,f=Math.max(t.x+o.width-l.width,0),g=Math.max(t.y+o.height-l.height,0),b=Math.max(l.top-i.top-t.y,0),D=Math.max(l.left-i.left-t.x,0);let M=0,P=0;return M=o.width<=l.width?D||-f:t.x<this._viewportMargin?l.left-i.left-t.x:0,P=o.height<=l.height?b||-g:t.y<this._viewportMargin?l.top-i.top-t.y:0,this._previousPushAmount={x:M,y:P},{x:t.x+M,y:t.y+P}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),o=new wF(t,i);this._positionChanges.next(o)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,o=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let l=0;l<e.length;l++)e[l].style.transformOrigin=`${i} ${o}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,o=this._isRtl();let l,f,g,M,P,U;if("top"===e.overlayY)f=t.y,l=i.height-f+this._viewportMargin;else if("bottom"===e.overlayY)g=i.height-t.y+2*this._viewportMargin,l=i.height-g+this._viewportMargin;else{const Y=Math.min(i.bottom-t.y+i.top,t.y),J=this._lastBoundingBoxSize.height;l=2*Y,f=t.y-Y,l>J&&!this._isInitialRender&&!this._growAfterOpen&&(f=t.y-J/2)}if("end"===e.overlayX&&!o||"start"===e.overlayX&&o)U=i.width-t.x+this._viewportMargin,M=t.x-this._viewportMargin;else if("start"===e.overlayX&&!o||"end"===e.overlayX&&o)P=t.x,M=i.right-t.x;else{const Y=Math.min(i.right-t.x+i.left,t.x),J=this._lastBoundingBoxSize.width;M=2*Y,P=t.x-Y,M>J&&!this._isInitialRender&&!this._growAfterOpen&&(P=t.x-J/2)}return{top:f,left:P,bottom:g,right:U,width:M,height:l}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{const l=this._overlayRef.getConfig().maxHeight,f=this._overlayRef.getConfig().maxWidth;o.height=Le(i.height),o.top=Le(i.top),o.bottom=Le(i.bottom),o.width=Le(i.width),o.left=Le(i.left),o.right=Le(i.right),o.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",o.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",l&&(o.maxHeight=Le(l)),f&&(o.maxWidth=Le(f))}this._lastBoundingBoxSize=i,ef(this._boundingBox.style,o)}_resetBoundingBoxStyles(){ef(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ef(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},o=this._hasExactPosition(),l=this._hasFlexibleDimensions,f=this._overlayRef.getConfig();if(o){const M=this._viewportRuler.getViewportScrollPosition();ef(i,this._getExactOverlayY(e,t,M)),ef(i,this._getExactOverlayX(e,t,M))}else i.position="static";let g="",b=this._getOffset(e,"x"),D=this._getOffset(e,"y");b&&(g+=`translateX(${b}px) `),D&&(g+=`translateY(${D}px)`),i.transform=g.trim(),f.maxHeight&&(o?i.maxHeight=Le(f.maxHeight):l&&(i.maxHeight="")),f.maxWidth&&(o?i.maxWidth=Le(f.maxWidth):l&&(i.maxWidth="")),ef(this._pane.style,i)}_getExactOverlayY(t,e,i){let o={top:"",bottom:""},l=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,i)),"bottom"===t.overlayY?o.bottom=this._document.documentElement.clientHeight-(l.y+this._overlayRect.height)+"px":o.top=Le(l.y),o}_getExactOverlayX(t,e,i){let f,o={left:"",right:""},l=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,i)),f=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===f?o.right=this._document.documentElement.clientWidth-(l.x+this._overlayRect.width)+"px":o.left=Le(l.x),o}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:OM(t,i),isOriginOutsideView:NI(t,i),isOverlayClipped:OM(e,i),isOverlayOutsideView:NI(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,o)=>i-Math.max(o,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Ue(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof d.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function ef(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function LM(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(IF);return e&&"px"!==e?null:parseFloat(t)}return n||null}function VM(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const BM="cdk-global-overlay-wrapper";class TF{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(BM),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:o,height:l,maxWidth:f,maxHeight:g}=i,b=!("100%"!==o&&"100vw"!==o||f&&"100%"!==f&&"100vw"!==f),D=!("100%"!==l&&"100vh"!==l||g&&"100%"!==g&&"100vh"!==g);t.position=this._cssPosition,t.marginLeft=b?"0":this._leftOffset,t.marginTop=D?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,b?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=D?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(BM),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let SF=(()=>{class n{constructor(e,i,o,l){this._viewportRuler=e,this._document=i,this._platform=o,this._overlayContainer=l}global(){return new TF}flexibleConnectedTo(e){return new AF(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(xM),d.LFG(ne),d.LFG(ul),d.LFG(FM))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UM=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MF=(()=>{class n extends UM{constructor(e){super(e),this._keydownListener=i=>{const o=this._attachedOverlays;for(let l=o.length-1;l>-1;l--)if(o[l]._keydownEvents.observers.length>0){o[l]._keydownEvents.next(i);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xF=(()=>{class n extends UM{constructor(e,i){super(e),this._platform=i,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=dl(o)},this._clickListener=o=>{const l=dl(o),f="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const g=this._attachedOverlays.slice();for(let b=g.length-1;b>-1;b--){const D=g[b];if(!(D._outsidePointerEvents.observers.length<1)&&D.hasAttached()){if(D.overlayElement.contains(l)||D.overlayElement.contains(f))break;D._outsidePointerEvents.next(o)}}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(ne),d.LFG(ul))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kF=0,LI=(()=>{class n{constructor(e,i,o,l,f,g,b,D,M,P,U){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=o,this._positionBuilder=l,this._keyboardDispatcher=f,this._injector=g,this._ngZone=b,this._document=D,this._directionality=M,this._location=P,this._outsideClickDispatcher=U}create(e){const i=this._createHostElement(),o=this._createPaneElement(i),l=this._createPortalOutlet(o),f=new CF(e);return f.direction=f.direction||this._directionality.value,new DF(l,i,o,f,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+kF++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(d.z2F)),new $P(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(EF),d.LFG(FM),d.LFG(d._Vd),d.LFG(SF),d.LFG(MF),d.LFG(d.zs3),d.LFG(d.R0b),d.LFG(ne),d.LFG(oD),d.LFG(ge),d.LFG(xF))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const OF={provide:new d.OlP("cdk-connected-overlay-scroll-strategy"),deps:[LI],useFactory:function PF(n){return()=>n.scrollStrategies.reposition()}};let FF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[LI,OF],imports:[[Jp,uI,kM],kM]}),n})(),QF=(()=>{class n{constructor(){this.changes=new gi.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,i){return`${e} \u2013 ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eN={provide:new d.OlP("mat-datepicker-scroll-strategy"),deps:[LI],useFactory:function JF(n){return()=>n.scrollStrategies.reposition()}};let sN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[QF,eN],imports:[[Wi,gS,FF,Bx,uI,vs],FI]}),n})(),gN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Wi,vs],vs]}),n})(),_N=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[BP]}),n.\u0275inj=d.cJS({providers:[],imports:[[La,Nl,Vn.hO.initializeApp(X__firebase),iD,sv,FR,lP,WP,eF,sN,gN,SP,gS,rD]]}),n})();(0,d.G48)(),Vc().bootstrapModule(_N).catch(n=>console.error(n))},5867:(qe,Ie,F)=>{"use strict";F.d(Ie,{Mq:()=>d.getApp,C6:()=>d.getApps});var d=F(9681);(0,d.registerVersion)("firebase","9.6.7","app")},127:(qe,Ie,F)=>{"use strict";F.d(Ie,{Z:()=>d.Z});var d=F(3942);d.Z.registerVersion("firebase","9.6.7","app-compat")},3059:(qe,Ie,F)=>{"use strict";F.r(Ie);var d=F(5861),te=F(3942),O=F(2090),_e=F(9681),ie=F(655),me=F(1877),ne=F(4859);const Me=function Ve(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Be=function Ae(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Q=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Se=new me.Yd("@firebase/auth");function xe(_,...h){Se.logLevel<=me.in.ERROR&&Se.error(`Auth (${_e.SDK_VERSION}): ${_}`,...h)}function ue(_,...h){throw je(_,...h)}function ge(_,...h){return je(_,...h)}function be(_,h,m){const v=Object.assign(Object.assign({},Be()),{[h]:m});return new O.LL("auth","Firebase",v).create(h,{appName:_.name})}function He(_,h,m){if(!(h instanceof m))throw m.name!==h.constructor.name&&ue(_,"argument-error"),be(_,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function je(_,...h){if("string"!=typeof _){const m=h[0],v=[...h.slice(1)];return v[0]&&(v[0].appName=_.name),_._errorFactory.create(m,...v)}return Q.create(_,...h)}function oe(_,h,...m){if(!_)throw je(h,...m)}function X(_){const h="INTERNAL ASSERTION FAILED: "+_;throw xe(h),new Error(h)}function ae(_,h){_||X(h)}const ve=new Map;function le(_){ae(_ instanceof Function,"Expected a class definition");let h=ve.get(_);return h?(ae(h instanceof _,"Instance stored in cache mismatched with class"),h):(h=new _,ve.set(_,h),h)}function dt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function xt(){return"http:"===fn()||"https:"===fn()}function fn(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class In{constructor(h,m){this.shortDelay=h,this.longDelay=m,ae(m>h,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function Ke(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(xt()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Gt(_,h){ae(_.emulator,"Emulator should always be set here");const{url:m}=_.emulator;return h?`${m}${h.startsWith("/")?h.slice(1):h}`:m}class Hn{static initialize(h,m,v){this.fetchImpl=h,m&&(this.headersImpl=m),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void X("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void X("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void X("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Pt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},tr=new In(3e4,6e4);function Ot(_,h){return _.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:_.tenantId}):h}function At(_,h,m,v){return nr.apply(this,arguments)}function nr(){return(nr=(0,d.Z)(function*(_,h,m,v,S={}){return jn(_,S,(0,d.Z)(function*(){let R={},W={};v&&("GET"===h?W=v:R={body:JSON.stringify(v)});const he=(0,O.xO)(Object.assign({key:_.config.apiKey},W)).slice(1),Ne=yield _._getAdditionalHeaders();return Ne["Content-Type"]="application/json",_.languageCode&&(Ne["X-Firebase-Locale"]=_.languageCode),Hn.fetch()(Yr(_,_.config.apiHost,m,he),Object.assign({method:h,headers:Ne,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function jn(_,h,m){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,d.Z)(function*(_,h,m){_._canInitEmulator=!1;const v=Object.assign(Object.assign({},Pt),h);try{const S=new _i(_),R=yield Promise.race([m(),S.promise]);S.clearNetworkTimeout();const W=yield R.json();if("needConfirmation"in W)throw rr(_,"account-exists-with-different-credential",W);if(R.ok&&!("errorMessage"in W))return W;{const he=R.ok?W.errorMessage:W.error.message,[Ne,$e]=he.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ne)throw rr(_,"credential-already-in-use",W);if("EMAIL_EXISTS"===Ne)throw rr(_,"email-already-in-use",W);const ut=v[Ne]||Ne.toLowerCase().replace(/[_\s]+/g,"-");if($e)throw be(_,ut,$e);ue(_,ut)}}catch(S){if(S instanceof O.ZR)throw S;ue(_,"network-request-failed")}})).apply(this,arguments)}function ti(_,h,m,v){return ir.apply(this,arguments)}function ir(){return(ir=(0,d.Z)(function*(_,h,m,v,S={}){const R=yield At(_,h,m,v,S);return"mfaPendingCredential"in R&&ue(_,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Yr(_,h,m,v){const S=`${h}${m}?${v}`;return _.config.emulator?Gt(_.config,S):`${_.config.apiScheme}://${S}`}class _i{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((m,v)=>{this.timer=setTimeout(()=>v(ge(this.auth,"network-request-failed")),tr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function rr(_,h,m){const v={appName:_.name};m.email&&(v.email=m.email),m.phoneNumber&&(v.phoneNumber=m.phoneNumber);const S=ge(_,h,v);return S.customData._tokenResponse=m,S}function yi(){return(yi=(0,d.Z)(function*(_,h){return At(_,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function An(_,h){return pn.apply(this,arguments)}function pn(){return(pn=(0,d.Z)(function*(_,h){return At(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function qr(_,h){return it.apply(this,arguments)}function it(){return(it=(0,d.Z)(function*(_,h){return At(_,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function We(_){if(_)try{const h=new Date(Number(_));if(!isNaN(h.getTime()))return h.toUTCString()}catch(h){}}function Gn(){return(Gn=(0,d.Z)(function*(_,h=!1){const m=(0,O.m9)(_),v=yield m.getIdToken(h),S=Ye(v);oe(S&&S.exp&&S.auth_time&&S.iat,m.auth,"internal-error");const R="object"==typeof S.firebase?S.firebase:void 0,W=null==R?void 0:R.sign_in_provider;return{claims:S,token:v,authTime:We(Et(S.auth_time)),issuedAtTime:We(Et(S.iat)),expirationTime:We(Et(S.exp)),signInProvider:W||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function Et(_){return 1e3*Number(_)}function Ye(_){const[h,m,v]=_.split(".");if(void 0===h||void 0===m||void 0===v)return xe("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,O.tV)(m);return S?JSON.parse(S):(xe("Failed to decode base64 JWT payload"),null)}catch(S){return xe("Caught error parsing JWT payload as JSON",S),null}}function zi(_,h){return vr.apply(this,arguments)}function vr(){return(vr=(0,d.Z)(function*(_,h,m=!1){if(m)return h;try{return yield h}catch(v){throw v instanceof O.ZR&&St(v)&&_.auth.currentUser===_&&(yield _.auth.signOut()),v}})).apply(this,arguments)}function St({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Vo{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var m;if(h){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const S=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(h=!1){var m=this;if(!this.isRunning)return;const v=this.getInterval(h);this.timerId=setTimeout((0,d.Z)(function*(){yield m.iteration()}),v)}iteration(){var h=this;return(0,d.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&h.schedule(!0))}h.schedule()})()}}class vi{constructor(h,m){this.createdAt=h,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=We(this.lastLoginAt),this.creationTime=We(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ri(_){return B.apply(this,arguments)}function B(){return(B=(0,d.Z)(function*(_){var h;const m=_.auth,v=yield _.getIdToken(),S=yield zi(_,qr(m,{idToken:v}));oe(null==S?void 0:S.users.length,m,"internal-error");const R=S.users[0];_._notifyReloadListener(R);const W=(null===(h=R.providerUserInfo)||void 0===h?void 0:h.length)?re(R.providerUserInfo):[],he=Ee(_.providerData,W),ut=!!_.isAnonymous&&!(_.email&&R.passwordHash||(null==he?void 0:he.length)),nt={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:he,metadata:new vi(R.createdAt,R.lastLoginAt),isAnonymous:ut};Object.assign(_,nt)})).apply(this,arguments)}function $(){return($=(0,d.Z)(function*(_){const h=(0,O.m9)(_);yield Ri(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Ee(_,h){return[..._.filter(v=>!h.some(S=>S.providerId===v.providerId)),...h]}function re(_){return _.map(h=>{var{providerId:m}=h,v=(0,ie._T)(h,["providerId"]);return{providerId:m,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function rt(){return(rt=(0,d.Z)(function*(_,h){const m=yield jn(_,{},(0,d.Z)(function*(){const v=(0,O.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:S,apiKey:R}=_.config,W=Yr(_,S,"/v1/token",`key=${R}`),he=yield _._getAdditionalHeaders();return he["Content-Type"]="application/x-www-form-urlencoded",Hn.fetch()(W,{method:"POST",headers:he,body:v})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class zt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){oe(h.idToken,"internal-error"),oe(void 0!==h.idToken,"internal-error"),oe(void 0!==h.refreshToken,"internal-error");const m="expiresIn"in h&&void 0!==h.expiresIn?Number(h.expiresIn):function et(_){const h=Ye(_);return oe(h,"internal-error"),oe(void 0!==h.exp,"internal-error"),oe(void 0!==h.iat,"internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,m)}getToken(h,m=!1){var v=this;return(0,d.Z)(function*(){return oe(!v.accessToken||v.refreshToken,h,"user-token-expired"),m||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(h,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,m){var v=this;return(0,d.Z)(function*(){const{accessToken:S,refreshToken:R,expiresIn:W}=yield function Ge(_,h){return rt.apply(this,arguments)}(h,m);v.updateTokensAndExpiration(S,R,Number(W))})()}updateTokensAndExpiration(h,m,v){this.refreshToken=m||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(h,m){const{refreshToken:v,accessToken:S,expirationTime:R}=m,W=new zt;return v&&(oe("string"==typeof v,"internal-error",{appName:h}),W.refreshToken=v),S&&(oe("string"==typeof S,"internal-error",{appName:h}),W.accessToken=S),R&&(oe("number"==typeof R,"internal-error",{appName:h}),W.expirationTime=R),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new zt,this.toJSON())}_performRefresh(){return X("not implemented")}}function Kt(_,h){oe("string"==typeof _||void 0===_,"internal-error",{appName:h})}class Qt{constructor(h){var{uid:m,auth:v,stsTokenManager:S}=h,R=(0,ie._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=v,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new vi(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(h){var m=this;return(0,d.Z)(function*(){const v=yield zi(m,m.stsTokenManager.getToken(m.auth,h));return oe(v,m.auth,"internal-error"),m.accessToken!==v&&(m.accessToken=v,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),v})()}getIdTokenResult(h){return function qt(_){return Gn.apply(this,arguments)}(this,h)}reload(){return function z(_){return $.apply(this,arguments)}(this)}_assign(h){this!==h&&(oe(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(m=>Object.assign({},m)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new Qt(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,m=!1){var v=this;return(0,d.Z)(function*(){let S=!1;h.idToken&&h.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(h),S=!0),m&&(yield Ri(v)),yield v.auth._persistUserIfCurrent(v),S&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var h=this;return(0,d.Z)(function*(){const m=yield h.getIdToken();return yield zi(h,function at(_,h){return yi.apply(this,arguments)}(h.auth,{idToken:m})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,m){var v,S,R,W,he,Ne,$e,ut;const nt=null!==(v=m.displayName)&&void 0!==v?v:void 0,hn=null!==(S=m.email)&&void 0!==S?S:void 0,Bi=null!==(R=m.phoneNumber)&&void 0!==R?R:void 0,su=null!==(W=m.photoURL)&&void 0!==W?W:void 0,Bd=null!==(he=m.tenantId)&&void 0!==he?he:void 0,Kl=null!==(Ne=m._redirectEventId)&&void 0!==Ne?Ne:void 0,Ud=null!==($e=m.createdAt)&&void 0!==$e?$e:void 0,Ty=null!==(ut=m.lastLoginAt)&&void 0!==ut?ut:void 0,{uid:ya,emailVerified:Hd,isAnonymous:Bf,providerData:Uf,stsTokenManager:jd}=m;oe(ya&&jd,h,"internal-error");const Sy=zt.fromJSON(this.name,jd);oe("string"==typeof ya,h,"internal-error"),Kt(nt,h.name),Kt(hn,h.name),oe("boolean"==typeof Hd,h,"internal-error"),oe("boolean"==typeof Bf,h,"internal-error"),Kt(Bi,h.name),Kt(su,h.name),Kt(Bd,h.name),Kt(Kl,h.name),Kt(Ud,h.name),Kt(Ty,h.name);const Hf=new Qt({uid:ya,auth:h,email:hn,emailVerified:Hd,displayName:nt,isAnonymous:Bf,photoURL:su,phoneNumber:Bi,tenantId:Bd,stsTokenManager:Sy,createdAt:Ud,lastLoginAt:Ty});return Uf&&Array.isArray(Uf)&&(Hf.providerData=Uf.map(ou=>Object.assign({},ou))),Kl&&(Hf._redirectEventId=Kl),Hf}static _fromIdTokenResponse(h,m,v=!1){return(0,d.Z)(function*(){const S=new zt;S.updateFromServerResponse(m);const R=new Qt({uid:m.localId,auth:h,stsTokenManager:S,isAnonymous:v});return yield Ri(R),R})()}}const Ct=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(m,v){var S=this;return(0,d.Z)(function*(){S.storage[m]=v})()}_get(m){var v=this;return(0,d.Z)(function*(){const S=v.storage[m];return void 0===S?null:S})()}_remove(m){var v=this;return(0,d.Z)(function*(){delete v.storage[m]})()}_addListener(m,v){}_removeListener(m,v){}}return _.type="NONE",_})();function Tn(_,h,m){return`firebase:${_}:${h}:${m}`}class ni{constructor(h,m,v){this.persistence=h,this.auth=m,this.userKey=v;const{config:S,name:R}=this.auth;this.fullUserKey=Tn(this.userKey,S.apiKey,R),this.fullPersistenceKey=Tn("persistence",S.apiKey,R),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,d.Z)(function*(){const m=yield h.persistence._get(h.fullUserKey);return m?Qt._fromJSON(h.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var m=this;return(0,d.Z)(function*(){if(m.persistence===h)return;const v=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=h,v?m.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,m,v="authUser"){return(0,d.Z)(function*(){if(!m.length)return new ni(le(Ct),h,v);const S=(yield Promise.all(m.map(function(){var $e=(0,d.Z)(function*(ut){if(yield ut._isAvailable())return ut});return function(ut){return $e.apply(this,arguments)}}()))).filter($e=>$e);let R=S[0]||le(Ct);const W=Tn(v,h.config.apiKey,h.name);let he=null;for(const $e of m)try{const ut=yield $e._get(W);if(ut){const nt=Qt._fromJSON(h,ut);$e!==R&&(he=nt),R=$e;break}}catch(ut){}const Ne=S.filter($e=>$e._shouldAllowMigration);return R._shouldAllowMigration&&Ne.length?(R=Ne[0],he&&(yield R._set(W,he.toJSON())),yield Promise.all(m.map(function(){var $e=(0,d.Z)(function*(ut){if(ut!==R)try{yield ut._remove(W)}catch(nt){}});return function(ut){return $e.apply(this,arguments)}}())),new ni(R,h,v)):new ni(R,h,v)})()}}function xa(_){const h=_.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Sn(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Bo(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(br(h))return"Blackberry";if(Mn(h))return"Webos";if(ka(h))return"Safari";if((h.includes("chrome/")||Uo(h))&&!h.includes("edge/"))return"Chrome";if(ii(h))return"Android";{const v=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==v?void 0:v.length))return v[1]}return"Other"}function Bo(_=(0,O.z$)()){return/firefox\//i.test(_)}function ka(_=(0,O.z$)()){const h=_.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Uo(_=(0,O.z$)()){return/crios\//i.test(_)}function Sn(_=(0,O.z$)()){return/iemobile/i.test(_)}function ii(_=(0,O.z$)()){return/android/i.test(_)}function br(_=(0,O.z$)()){return/blackberry/i.test(_)}function Mn(_=(0,O.z$)()){return/webos/i.test(_)}function Ei(_=(0,O.z$)()){return/iphone|ipad|ipod/i.test(_)}function Kr(_=(0,O.z$)()){return Ei(_)||ii(_)||Mn(_)||br(_)||/windows phone/i.test(_)||Sn(_)}function Xs(_,h=[]){let m;switch(_){case"Browser":m=xa((0,O.z$)());break;case"Worker":m=`${xa((0,O.z$)())}-${_}`;break;default:m=_}const v=h.length?h.join(","):"FirebaseCore-web";return`${m}/JsCore/${_e.SDK_VERSION}/${v}`}class Ci{constructor(h,m){this.app=h,this.config=m,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _t(this),this.idTokenSubscription=new _t(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Q,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=m.sdkClientVersion}_initializeWithPersistence(h,m){var v=this;return m&&(this._popupRedirectResolver=le(m)),this._initializationPromise=this.queue((0,d.Z)(function*(){var S,R;if(!v._deleted&&(v.persistenceManager=yield ni.create(v,h),!v._deleted)){if(null===(S=v._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch(W){}yield v.initializeCurrentUser(m),v.lastNotifiedUid=(null===(R=v.currentUser)||void 0===R?void 0:R.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,d.Z)(function*(){if(h._deleted)return;const m=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||m){if(h.currentUser&&m&&h.currentUser.uid===m.uid)return h._currentUser._assign(m),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(m)}})()}initializeCurrentUser(h){var m=this;return(0,d.Z)(function*(){var v;let S=yield m.assertedPersistence.getCurrentUser();if(h&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const R=null===(v=m.redirectUser)||void 0===v?void 0:v._redirectEventId,W=null==S?void 0:S._redirectEventId,he=yield m.tryRedirectSignIn(h);(!R||R===W)&&(null==he?void 0:he.user)&&(S=he.user)}return S?S._redirectEventId?(oe(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===S._redirectEventId?m.directlySetCurrentUser(S):m.reloadAndSetCurrentUserOrClear(S)):m.reloadAndSetCurrentUserOrClear(S):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(h){var m=this;return(0,d.Z)(function*(){let v=null;try{v=yield m._popupRedirectResolver._completeRedirectFn(m,h,!0)}catch(S){yield m._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(h){var m=this;return(0,d.Z)(function*(){try{yield Ri(h)}catch(v){if("auth/network-request-failed"!==v.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Je(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var h=this;return(0,d.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var m=this;return(0,d.Z)(function*(){const v=h?(0,O.m9)(h):null;return v&&oe(v.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(v&&v._clone(m))})()}_updateCurrentUser(h){var m=this;return(0,d.Z)(function*(){if(!m._deleted)return h&&oe(m.tenantId===h.tenantId,m,"tenant-id-mismatch"),m.queue((0,d.Z)(function*(){yield m.directlySetCurrentUser(h),m.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,d.Z)(function*(){return(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null)})()}setPersistence(h){var m=this;return this.queue((0,d.Z)(function*(){yield m.assertedPersistence.setPersistence(le(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new O.LL("auth","Firebase",h())}onAuthStateChanged(h,m,v){return this.registerStateListener(this.authStateSubscription,h,m,v)}onIdTokenChanged(h,m,v){return this.registerStateListener(this.idTokenSubscription,h,m,v)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,m){var v=this;return(0,d.Z)(function*(){const S=yield v.getOrInitRedirectPersistenceManager(m);return null===h?S.removeCurrentUser():S.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var m=this;return(0,d.Z)(function*(){if(!m.redirectPersistenceManager){const v=h&&le(h)||m._popupRedirectResolver;oe(v,m,"argument-error"),m.redirectPersistenceManager=yield ni.create(m,[le(v._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(h){var m=this;return(0,d.Z)(function*(){var v,S;return m._isInitialized&&(yield m.queue((0,d.Z)(function*(){}))),(null===(v=m._currentUser)||void 0===v?void 0:v._redirectEventId)===h?m._currentUser:(null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId)===h?m.redirectUser:null})()}_persistUserIfCurrent(h){var m=this;return(0,d.Z)(function*(){if(h===m.currentUser)return m.queue((0,d.Z)(function*(){return m.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(m=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,m,v,S){if(this._deleted)return()=>{};const R="function"==typeof m?m:m.next.bind(m),W=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(W,this,"internal-error"),W.then(()=>R(this.currentUser)),"function"==typeof m?h.addObserver(m,v,S):h.addObserver(m)}directlySetCurrentUser(h){var m=this;return(0,d.Z)(function*(){m.currentUser&&m.currentUser!==h&&(m._currentUser._stopProactiveRefresh(),h&&m.isProactiveRefreshEnabled&&h._startProactiveRefresh()),m.currentUser=h,h?yield m.assertedPersistence.setCurrentUser(h):yield m.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Xs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,d.Z)(function*(){const m={"X-Client-Version":h.clientVersion};return h.app.options.appId&&(m["X-Firebase-gmpid"]=h.app.options.appId),m})()}}function Re(_){return(0,O.m9)(_)}class _t{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,O.ne)(m=>this.observer=m)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ri(_){const h=_.indexOf(":");return h<0?"":_.substr(0,h+1)}function mn(_){if(!_)return null;const h=Number(_);return isNaN(h)?null:h}class kt{constructor(h,m){this.providerId=h,this.signInMethod=m}toJSON(){return X("not implemented")}_getIdTokenResponse(h){return X("not implemented")}_linkToIdToken(h,m){return X("not implemented")}_getReauthenticationResolver(h){return X("not implemented")}}function Es(_,h){return an.apply(this,arguments)}function an(){return(an=(0,d.Z)(function*(_,h){return At(_,"POST","/v1/accounts:resetPassword",Ot(_,h))})).apply(this,arguments)}function mt(_,h){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,d.Z)(function*(_,h){return At(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Js(_,h){return eo.apply(this,arguments)}function eo(){return(eo=(0,d.Z)(function*(_,h){return At(_,"POST","/v1/accounts:update",Ot(_,h))})).apply(this,arguments)}function xn(){return(xn=(0,d.Z)(function*(_,h){return ti(_,"POST","/v1/accounts:signInWithPassword",Ot(_,h))})).apply(this,arguments)}function Zr(_,h){return ws.apply(this,arguments)}function ws(){return(ws=(0,d.Z)(function*(_,h){return At(_,"POST","/v1/accounts:sendOobCode",Ot(_,h))})).apply(this,arguments)}function si(_,h){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,d.Z)(function*(_,h){return Zr(_,h)})).apply(this,arguments)}function wc(_,h){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,d.Z)(function*(_,h){return Zr(_,h)})).apply(this,arguments)}function $i(_,h){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,d.Z)(function*(_,h){return Zr(_,h)})).apply(this,arguments)}function Dc(_,h){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,d.Z)(function*(_,h){return Zr(_,h)})).apply(this,arguments)}function Oi(){return(Oi=(0,d.Z)(function*(_,h){return ti(_,"POST","/v1/accounts:signInWithEmailLink",Ot(_,h))})).apply(this,arguments)}function Ic(){return(Ic=(0,d.Z)(function*(_,h){return ti(_,"POST","/v1/accounts:signInWithEmailLink",Ot(_,h))})).apply(this,arguments)}class Pa extends kt{constructor(h,m,v,S=null){super("password",v),this._email=h,this._password=m,this._tenantId=S}static _fromEmailAndPassword(h,m){return new Pa(h,m,"password")}static _fromEmailAndCode(h,m,v=null){return new Pa(h,m,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(h){var m=this;return(0,d.Z)(function*(){switch(m.signInMethod){case"password":return function to(_,h){return xn.apply(this,arguments)}(h,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Qr(_,h){return Oi.apply(this,arguments)}(h,{email:m._email,oobCode:m._password});default:ue(h,"internal-error")}})()}_linkToIdToken(h,m){var v=this;return(0,d.Z)(function*(){switch(v.signInMethod){case"password":return mt(h,{idToken:m,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function pl(_,h){return Ic.apply(this,arguments)}(h,{idToken:m,email:v._email,oobCode:v._password});default:ue(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function _n(_,h){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,d.Z)(function*(_,h){return ti(_,"POST","/v1/accounts:signInWithIdp",Ot(_,h))})).apply(this,arguments)}class wr extends kt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const m=new wr(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(m.idToken=h.idToken),h.accessToken&&(m.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(m.nonce=h.nonce),h.pendingToken&&(m.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(m.accessToken=h.oauthToken,m.secret=h.oauthTokenSecret):ue("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h,{providerId:v,signInMethod:S}=m,R=(0,ie._T)(m,["providerId","signInMethod"]);if(!v||!S)return null;const W=new wr(v,S);return W.idToken=R.idToken||void 0,W.accessToken=R.accessToken||void 0,W.secret=R.secret,W.nonce=R.nonce,W.pendingToken=R.pendingToken||null,W}_getIdTokenResponse(h){return _n(h,this.buildRequest())}_linkToIdToken(h,m){const v=this.buildRequest();return v.idToken=m,_n(h,v)}_getReauthenticationResolver(h){const m=this.buildRequest();return m.autoCreate=!1,_n(h,m)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),h.postBody=(0,O.xO)(m)}return h}}function af(_,h){return ml.apply(this,arguments)}function ml(){return(ml=(0,d.Z)(function*(_,h){return At(_,"POST","/v1/accounts:sendVerificationCode",Ot(_,h))})).apply(this,arguments)}function jo(){return(jo=(0,d.Z)(function*(_,h){return ti(_,"POST","/v1/accounts:signInWithPhoneNumber",Ot(_,h))})).apply(this,arguments)}function Tc(){return(Tc=(0,d.Z)(function*(_,h){const m=yield ti(_,"POST","/v1/accounts:signInWithPhoneNumber",Ot(_,h));if(m.temporaryProof)throw rr(_,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const cf={USER_NOT_FOUND:"user-not-found"};function Sc(){return(Sc=(0,d.Z)(function*(_,h){return ti(_,"POST","/v1/accounts:signInWithPhoneNumber",Ot(_,Object.assign(Object.assign({},h),{operation:"REAUTH"})),cf)})).apply(this,arguments)}class io extends kt{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,m){return new io({verificationId:h,verificationCode:m})}static _fromTokenResponse(h,m){return new io({phoneNumber:h,temporaryProof:m})}_getIdTokenResponse(h){return function lf(_,h){return jo.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,m){return function no(_,h){return Tc.apply(this,arguments)}(h,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function uf(_,h){return Sc.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:m,verificationId:v,verificationCode:S}=this.params;return h&&m?{temporaryProof:h,phoneNumber:m}:{sessionInfo:v,code:S}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:m,verificationCode:v,phoneNumber:S,temporaryProof:R}=h;return v||m||S||R?new io({verificationId:m,verificationCode:v,phoneNumber:S,temporaryProof:R}):null}}class Dr{constructor(h){var m,v,S,R,W,he;const Ne=(0,O.zd)((0,O.pd)(h)),$e=null!==(m=Ne.apiKey)&&void 0!==m?m:null,ut=null!==(v=Ne.oobCode)&&void 0!==v?v:null,nt=function df(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Ne.mode)&&void 0!==S?S:null);oe($e&&ut&&nt,"argument-error"),this.apiKey=$e,this.operation=nt,this.code=ut,this.continueUrl=null!==(R=Ne.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(W=Ne.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(he=Ne.tenantId)&&void 0!==he?he:null}static parseLink(h){const m=function id(_){const h=(0,O.zd)((0,O.pd)(_)).link,m=h?(0,O.zd)((0,O.pd)(h)).deep_link_id:null,v=(0,O.zd)((0,O.pd)(_)).deep_link_id;return(v?(0,O.zd)((0,O.pd)(v)).link:null)||v||m||h||_}(h);try{return new Dr(m)}catch(v){return null}}}let Go=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(m,v){return Pa._fromEmailAndPassword(m,v)}static credentialWithLink(m,v){const S=Dr.parseLink(v);return oe(S,"argument-error"),Pa._fromEmailAndCode(m,S.code,S.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Xr{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Fi extends Xr{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Is extends Fi{static credentialFromJSON(h){const m="string"==typeof h?JSON.parse(h):h;return oe("providerId"in m&&"signInMethod"in m,"argument-error"),wr._fromParams(m)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return oe(h.idToken||h.accessToken,"argument-error"),wr._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Is.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Is.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:m,oauthAccessToken:v,oauthTokenSecret:S,pendingToken:R,nonce:W,providerId:he}=h;if(!v&&!S&&!m&&!R||!he)return null;try{return new Is(he)._credential({idToken:m,accessToken:v,nonce:W,pendingToken:R})}catch(Ne){return null}}}let ro=(()=>{class _ extends Fi{constructor(){super("facebook.com")}static credential(m){return wr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch(v){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),so=(()=>{class _ extends Fi{constructor(){super("google.com"),this.addScope("profile")}static credential(m,v){return wr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:v})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:v,oauthAccessToken:S}=m;if(!v&&!S)return null;try{return _.credential(v,S)}catch(R){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Mc=(()=>{class _ extends Fi{constructor(){super("github.com")}static credential(m){return wr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch(v){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Wi extends kt{constructor(h,m){super(h,h),this.pendingToken=m}_getIdTokenResponse(h){return _n(h,this.buildRequest())}_linkToIdToken(h,m){const v=this.buildRequest();return v.idToken=m,_n(h,v)}_getReauthenticationResolver(h){const m=this.buildRequest();return m.autoCreate=!1,_n(h,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h,{providerId:v,signInMethod:S,pendingToken:R}=m;return v&&S&&R&&v===S?new Wi(v,R):null}static _create(h,m){return new Wi(h,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ir extends Xr{constructor(h){oe(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return Ir.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return Ir.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const m=Wi.fromJSON(h);return oe(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:m,providerId:v}=h;if(!m||!v)return null;try{return Wi._create(v,m)}catch(S){return null}}}let Ni=(()=>{class _ extends Fi{constructor(){super("twitter.com")}static credential(m,v){return wr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:v})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:v,oauthTokenSecret:S}=m;if(!v||!S)return null;try{return _.credential(v,S)}catch(R){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function kc(_,h){return $n.apply(this,arguments)}function $n(){return($n=(0,d.Z)(function*(_,h){return ti(_,"POST","/v1/accounts:signUp",Ot(_,h))})).apply(this,arguments)}class oi{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,m,v,S=!1){return(0,d.Z)(function*(){const R=yield Qt._fromIdTokenResponse(h,v,S),W=Rc(v);return new oi({user:R,providerId:W,_tokenResponse:v,operationType:m})})()}static _forOperation(h,m,v){return(0,d.Z)(function*(){yield h._updateTokensIfNecessary(v,!0);const S=Rc(v);return new oi({user:h,providerId:S,_tokenResponse:v,operationType:m})})()}}function Rc(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Oa(){return(Oa=(0,d.Z)(function*(_){var h;const m=Re(_);if(yield m._initializationPromise,null===(h=m.currentUser)||void 0===h?void 0:h.isAnonymous)return new oi({user:m.currentUser,providerId:null,operationType:"signIn"});const v=yield kc(m,{returnSecureToken:!0}),S=yield oi._fromIdTokenResponse(m,"signIn",v,!0);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class gl extends O.ZR{constructor(h,m,v,S){var R;super(m.code,m.message),this.operationType=v,this.user=S,Object.setPrototypeOf(this,gl.prototype),this.customData={appName:h.name,tenantId:null!==(R=h.tenantId)&&void 0!==R?R:void 0,_serverResponse:m.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(h,m,v,S){return new gl(h,m,v,S)}}function _l(_,h,m,v){return("reauthenticate"===h?m._getReauthenticationResolver(_):m._getIdTokenResponse(_)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?gl._fromErrorAndOperation(_,R,h,v):R})}function yl(_){return new Set(_.map(({providerId:h})=>h).filter(h=>!!h))}function vl(){return(vl=(0,d.Z)(function*(_,h){const m=(0,O.m9)(_);yield Jr(!0,m,h);const{providerUserInfo:v}=yield An(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[h]}),S=yl(v||[]);return m.providerData=m.providerData.filter(R=>S.has(R.providerId)),S.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function $t(_,h){return zo.apply(this,arguments)}function zo(){return(zo=(0,d.Z)(function*(_,h,m=!1){const v=yield zi(_,h._linkToIdToken(_.auth,yield _.getIdToken()),m);return oi._forOperation(_,"link",v)})).apply(this,arguments)}function Jr(_,h,m){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,d.Z)(function*(_,h,m){yield Ri(h);const S=!1===_?"provider-already-linked":"no-such-provider";oe(yl(h.providerData).has(m)===_,h.auth,S)})).apply(this,arguments)}function Fa(_,h){return $o.apply(this,arguments)}function $o(){return($o=(0,d.Z)(function*(_,h,m=!1){const{auth:v}=_,S="reauthenticate";try{const R=yield zi(_,_l(v,S,h,_),m);oe(R.idToken,v,"internal-error");const W=Ye(R.idToken);oe(W,v,"internal-error");const{sub:he}=W;return oe(_.uid===he,v,"user-mismatch"),oi._forOperation(_,S,R)}catch(R){throw"auth/user-not-found"===(null==R?void 0:R.code)&&ue(v,"user-mismatch"),R}})).apply(this,arguments)}function As(_,h){return On.apply(this,arguments)}function On(){return(On=(0,d.Z)(function*(_,h,m=!1){const v="signIn",S=yield _l(_,v,h),R=yield oi._fromIdTokenResponse(_,v,S);return m||(yield _._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Na(_,h){return ln.apply(this,arguments)}function ln(){return(ln=(0,d.Z)(function*(_,h){return As(Re(_),h)})).apply(this,arguments)}function Tr(_,h){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,d.Z)(function*(_,h){const m=(0,O.m9)(_);return yield Jr(!1,m,h.providerId),$t(m,h)})).apply(this,arguments)}function oo(_,h){return sr.apply(this,arguments)}function sr(){return(sr=(0,d.Z)(function*(_,h){return Fa((0,O.m9)(_),h)})).apply(this,arguments)}function bl(_,h){return wi.apply(this,arguments)}function wi(){return(wi=(0,d.Z)(function*(_,h){return ti(_,"POST","/v1/accounts:signInWithCustomToken",Ot(_,h))})).apply(this,arguments)}function ts(){return(ts=(0,d.Z)(function*(_,h){const m=Re(_),v=yield bl(m,{token:h,returnSecureToken:!0}),S=yield oi._fromIdTokenResponse(m,"signIn",v);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class tt{constructor(h,m){this.factorId=h,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(h,m){return"phoneInfo"in m?Wo._fromServerResponse(h,m):ue(h,"internal-error")}}class Wo extends tt{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,m){return new Wo(m)}}function Yo(_,h,m){var v;oe((null===(v=m.url)||void 0===v?void 0:v.length)>0,_,"invalid-continue-uri"),oe(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),h.continueUrl=m.url,h.dynamicLinkDomain=m.dynamicLinkDomain,h.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(oe(m.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),h.iOSBundleId=m.iOS.bundleId),m.android&&(oe(m.android.packageName.length>0,_,"missing-android-pkg-name"),h.androidInstallApp=m.android.installApp,h.androidMinimumVersionCode=m.android.minimumVersion,h.androidPackageName=m.android.packageName)}function qo(){return(qo=(0,d.Z)(function*(_,h,m){const v=(0,O.m9)(_),S={requestType:"PASSWORD_RESET",email:h};m&&Yo(v,S,m),yield wc(v,S)})).apply(this,arguments)}function Ko(){return(Ko=(0,d.Z)(function*(_,h,m){yield Es((0,O.m9)(_),{oobCode:h,newPassword:m})})).apply(this,arguments)}function De(){return(De=(0,d.Z)(function*(_,h){yield Js((0,O.m9)(_),{oobCode:h})})).apply(this,arguments)}function Dt(_,h){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,d.Z)(function*(_,h){const m=(0,O.m9)(_),v=yield Es(m,{oobCode:h}),S=v.requestType;switch(oe(S,m,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe(v.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe(v.mfaInfo,m,"internal-error");default:oe(v.email,m,"internal-error")}let R=null;return v.mfaInfo&&(R=tt._fromServerResponse(Re(m),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:R},operation:S}})).apply(this,arguments)}function ns(){return(ns=(0,d.Z)(function*(_,h){const{data:m}=yield Dt((0,O.m9)(_),h);return m.email})).apply(this,arguments)}function ai(){return(ai=(0,d.Z)(function*(_,h,m){const v=Re(_),S=yield kc(v,{returnSecureToken:!0,email:h,password:m}),R=yield oi._fromIdTokenResponse(v,"signIn",S);return yield v._updateCurrentUser(R.user),R})).apply(this,arguments)}function Fc(){return(Fc=(0,d.Z)(function*(_,h,m){const v=(0,O.m9)(_),S={requestType:"EMAIL_SIGNIN",email:h};oe(m.handleCodeInApp,v,"argument-error"),m&&Yo(v,S,m),yield $i(v,S)})).apply(this,arguments)}function ao(){return(ao=(0,d.Z)(function*(_,h,m){const v=(0,O.m9)(_),S=Go.credentialWithLink(h,m||dt());return oe(S._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),Na(v,S)})).apply(this,arguments)}function kn(_,h){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,d.Z)(function*(_,h){return At(_,"POST","/v1/accounts:createAuthUri",Ot(_,h))})).apply(this,arguments)}function or(){return(or=(0,d.Z)(function*(_,h){const v={identifier:h,continueUri:xt()?dt():"http://localhost"},{signinMethods:S}=yield kn((0,O.m9)(_),v);return S||[]})).apply(this,arguments)}function Jo(){return(Jo=(0,d.Z)(function*(_,h){const m=(0,O.m9)(_),S={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};h&&Yo(m.auth,S,h);const{email:R}=yield si(m.auth,S);R!==_.email&&(yield _.reload())})).apply(this,arguments)}function ea(){return(ea=(0,d.Z)(function*(_,h,m){const v=(0,O.m9)(_),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:h};m&&Yo(v.auth,R,m);const{email:W}=yield Dc(v.auth,R);W!==_.email&&(yield _.reload())})).apply(this,arguments)}function Vc(_,h){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,d.Z)(function*(_,h){return At(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ta(){return(ta=(0,d.Z)(function*(_,{displayName:h,photoURL:m}){if(void 0===h&&void 0===m)return;const v=(0,O.m9)(_),R={idToken:yield v.getIdToken(),displayName:h,photoUrl:m,returnSecureToken:!0},W=yield zi(v,Vc(v.auth,R));v.displayName=W.displayName||null,v.photoURL=W.photoUrl||null;const he=v.providerData.find(({providerId:Ne})=>"password"===Ne);he&&(he.displayName=v.displayName,he.photoURL=v.photoURL),yield v._updateTokensIfNecessary(W)})).apply(this,arguments)}function Va(_,h,m){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,d.Z)(function*(_,h,m){const{auth:v}=_,R={idToken:yield _.getIdToken(),returnSecureToken:!0};h&&(R.email=h),m&&(R.password=m);const W=yield zi(_,mt(v,R));yield _._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class Ms{constructor(h,m,v={}){this.isNewUser=h,this.providerId=m,this.profile=v}}class Bc extends Ms{constructor(h,m,v,S){super(h,m,v),this.username=S}}class sd extends Ms{constructor(h,m){super(h,"facebook.com",m)}}class lo extends Bc{constructor(h,m){super(h,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class ar extends Ms{constructor(h,m){super(h,"google.com",m)}}class od extends Bc{constructor(h,m,v){super(h,"twitter.com",m,v)}}function Nn(_){const{user:h,_tokenResponse:m}=_;return h.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Al(_){var h,m;if(!_)return null;const{providerId:v}=_,S=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},R=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!v&&(null==_?void 0:_.idToken)){const W=null===(m=null===(h=Ye(_.idToken))||void 0===h?void 0:h.firebase)||void 0===m?void 0:m.sign_in_provider;if(W)return new Ms(R,"anonymous"!==W&&"custom"!==W?W:null)}if(!v)return null;switch(v){case"facebook.com":return new sd(R,S);case"github.com":return new lo(R,S);case"google.com":return new ar(R,S);case"twitter.com":return new od(R,S,_.screenName||null);case"custom":case"anonymous":return new Ms(R,null);default:return new Ms(R,v,S)}}(m)}class xr{constructor(h,m){this.type=h,this.credential=m}static _fromIdtoken(h){return new xr("enroll",h)}static _fromMfaPendingCredential(h){return new xr("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var m,v;if(null==h?void 0:h.multiFactorSession){if(null===(m=h.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return xr._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null===(v=h.multiFactorSession)||void 0===v?void 0:v.idToken)return xr._fromIdtoken(h.multiFactorSession.idToken)}return null}}class na{constructor(h,m,v){this.session=h,this.hints=m,this.signInResolver=v}static _fromError(h,m){const v=Re(h),S=m.customData._serverResponse,R=(S.mfaInfo||[]).map(he=>tt._fromServerResponse(v,he));oe(S.mfaPendingCredential,v,"internal-error");const W=xr._fromMfaPendingCredential(S.mfaPendingCredential);return new na(W,R,function(){var he=(0,d.Z)(function*(Ne){const $e=yield Ne._process(v,W);delete S.mfaInfo,delete S.mfaPendingCredential;const ut=Object.assign(Object.assign({},S),{idToken:$e.idToken,refreshToken:$e.refreshToken});switch(m.operationType){case"signIn":const nt=yield oi._fromIdTokenResponse(v,m.operationType,ut);return yield v._updateCurrentUser(nt.user),nt;case"reauthenticate":return oe(m.user,v,"internal-error"),oi._forOperation(m.user,m.operationType,ut);default:ue(v,"internal-error")}});return function(Ne){return he.apply(this,arguments)}}())}resolveSignIn(h){var m=this;return(0,d.Z)(function*(){return m.signInResolver(h)})()}}function Ba(_,h){return At(_,"POST","/v2/accounts/mfaEnrollment:start",Ot(_,h))}class kr{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(v=>tt._fromServerResponse(h.auth,v)))})}static _fromUser(h){return new kr(h)}getSession(){var h=this;return(0,d.Z)(function*(){return xr._fromIdtoken(yield h.user.getIdToken())})()}enroll(h,m){var v=this;return(0,d.Z)(function*(){const S=h,R=yield v.getSession(),W=yield zi(v.user,S._process(v.user.auth,R,m));return yield v.user._updateTokensIfNecessary(W),v.user.reload()})()}unenroll(h){var m=this;return(0,d.Z)(function*(){const v="string"==typeof h?h:h.uid,S=yield m.user.getIdToken(),R=yield zi(m.user,function ld(_,h){return At(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Ot(_,h))}(m.user.auth,{idToken:S,mfaEnrollmentId:v}));m.enrolledFactors=m.enrolledFactors.filter(({uid:W})=>W!==v),yield m.user._updateTokensIfNecessary(R);try{yield m.user.reload()}catch(W){if("auth/user-token-expired"!==W.code)throw W}})()}}const co=new WeakMap,ia="__sak";class is{constructor(h,m){this.storageRetriever=h,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(ia,"1"),this.storage.removeItem(ia),Promise.resolve(!0)):Promise.resolve(!1)}catch(h){return Promise.resolve(!1)}}_set(h,m){return this.storage.setItem(h,JSON.stringify(m)),Promise.resolve()}_get(h){const m=this.storage.getItem(h);return Promise.resolve(m?JSON.parse(m):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const lr=(()=>{class _ extends is{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,v)=>this.onStorageEvent(m,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ra(){const _=(0,O.z$)();return ka(_)||Ei(_)}()&&function zn(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=Kr(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const v of Object.keys(this.listeners)){const S=this.storage.getItem(v),R=this.localCache[v];S!==R&&m(v,R,S)}}onStorageEvent(m,v=!1){if(!m.key)return void this.forAllChangedKeys((he,Ne,$e)=>{this.notifyListeners(he,$e)});const S=m.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const he=this.storage.getItem(S);if(m.newValue!==he)null!==m.newValue?this.storage.setItem(S,m.newValue):this.storage.removeItem(S);else if(this.localCache[S]===m.newValue&&!v)return}const R=()=>{const he=this.storage.getItem(S);!v&&this.localCache[S]===he||this.notifyListeners(S,he)},W=this.storage.getItem(S);!function Ho(){return(0,O.w1)()&&10===document.documentMode}()||W===m.newValue||m.newValue===m.oldValue?R():setTimeout(R,10)}notifyListeners(m,v){this.localCache[m]=v;const S=this.listeners[m];if(S)for(const R of Array.from(S))R(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,v,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:v,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(v)}_removeListener(m,v){this.listeners[m]&&(this.listeners[m].delete(v),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,v){var S=()=>super._set,R=this;return(0,d.Z)(function*(){yield S().call(R,m,v),R.localCache[m]=JSON.stringify(v)})()}_get(m){var v=()=>super._get,S=this;return(0,d.Z)(function*(){const R=yield v().call(S,m);return S.localCache[m]=JSON.stringify(R),R})()}_remove(m){var v=()=>super._remove,S=this;return(0,d.Z)(function*(){yield v().call(S,m),delete S.localCache[m]})()}}return _.type="LOCAL",_})(),Rn=(()=>{class _ extends is{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,v){}_removeListener(m,v){}}return _.type="SESSION",_})();let Di=(()=>{class _{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const v=this.receivers.find(R=>R.isListeningto(m));if(v)return v;const S=new _(m);return this.receivers.push(S),S}isListeningto(m){return this.eventTarget===m}handleEvent(m){var v=this;return(0,d.Z)(function*(){const S=m,{eventId:R,eventType:W,data:he}=S.data,Ne=v.handlersMap[W];if(!(null==Ne?void 0:Ne.size))return;S.ports[0].postMessage({status:"ack",eventId:R,eventType:W});const $e=Array.from(Ne).map(function(){var nt=(0,d.Z)(function*(hn){return hn(S.origin,he)});return function(hn){return nt.apply(this,arguments)}}()),ut=yield function sa(_){return Promise.all(_.map(function(){var h=(0,d.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(v){return{fulfilled:!1,reason:v}}});return function(m){return h.apply(this,arguments)}}()))}($e);S.ports[0].postMessage({status:"done",eventId:R,eventType:W,response:ut})})()}_subscribe(m,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(v)}_unsubscribe(m,v){this.handlersMap[m]&&v&&this.handlersMap[m].delete(v),(!v||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function xs(_="",h=10){let m="";for(let v=0;v<h;v++)m+=Math.floor(10*Math.random());return _+m}class li{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,m,v=50){var S=this;return(0,d.Z)(function*(){const R="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let W,he;return new Promise((Ne,$e)=>{const ut=xs("",20);R.port1.start();const nt=setTimeout(()=>{$e(new Error("unsupported_event"))},v);he={messageChannel:R,onMessage(hn){const Bi=hn;if(Bi.data.eventId===ut)switch(Bi.data.status){case"ack":clearTimeout(nt),W=setTimeout(()=>{$e(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),Ne(Bi.data.response);break;default:clearTimeout(nt),clearTimeout(W),$e(new Error("invalid_response"))}}},S.handlers.add(he),R.port1.addEventListener("message",he.onMessage),S.target.postMessage({eventType:h,eventId:ut,data:m},[R.port2])}).finally(()=>{he&&S.removeMessageHandler(he)})})()}}function yt(){return window}function Vt(){return void 0!==yt().WorkerGlobalScope&&"function"==typeof yt().importScripts}function ss(){return(ss=(0,d.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const Ml="firebaseLocalStorageDb",Ua="firebaseLocalStorage",Rr="fbase_key";class os{constructor(h){this.request=h}toPromise(){return new Promise((h,m)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Kn(_,h){return _.transaction([Ua],h?"readwrite":"readonly").objectStore(Ua)}function ci(){const _=indexedDB.open(Ml,1);return new Promise((h,m)=>{_.addEventListener("error",()=>{m(_.error)}),_.addEventListener("upgradeneeded",()=>{const v=_.result;try{v.createObjectStore(Ua,{keyPath:Rr})}catch(S){m(S)}}),_.addEventListener("success",(0,d.Z)(function*(){const v=_.result;v.objectStoreNames.contains(Ua)?h(v):(v.close(),yield function xl(){const _=indexedDB.deleteDatabase(Ml);return new os(_).toPromise()}(),h(yield ci()))}))})}function kl(_,h,m){return ho.apply(this,arguments)}function ho(){return(ho=(0,d.Z)(function*(_,h,m){const v=Kn(_,!0).put({[Rr]:h,value:m});return new os(v).toPromise()})).apply(this,arguments)}function po(){return(po=(0,d.Z)(function*(_,h){const m=Kn(_,!1).get(h),v=yield new os(m).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function Ha(_,h){const m=Kn(_,!0).delete(h);return new os(m).toPromise()}const Li=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,d.Z)(function*(){return m.db||(m.db=yield ci()),m.db})()}_withRetries(m){var v=this;return(0,d.Z)(function*(){let S=0;for(;;)try{const R=yield v._openDb();return yield m(R)}catch(R){if(S++>3)throw R;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,d.Z)(function*(){return Vt()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,d.Z)(function*(){m.receiver=Di._getInstance(function jc(){return Vt()?self:null}()),m.receiver._subscribe("keyChanged",function(){var v=(0,d.Z)(function*(S,R){return{keyProcessed:(yield m._poll()).includes(R.key)}});return function(S,R){return v.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var v=(0,d.Z)(function*(S,R){return["keyChanged"]});return function(S,R){return v.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,d.Z)(function*(){var v,S;if(m.activeServiceWorker=yield function uo(){return ss.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new li(m.activeServiceWorker);const R=yield m.sender._send("ping",{},800);!R||(null===(v=R[0])||void 0===v?void 0:v.fulfilled)&&(null===(S=R[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var v=this;return(0,d.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function cr(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:m},v.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const m=yield ci();return yield kl(m,ia,"1"),yield Ha(m,ia),!0}catch(m){}return!1})()}_withPendingWrite(m){var v=this;return(0,d.Z)(function*(){v.pendingWrites++;try{yield m()}finally{v.pendingWrites--}})()}_set(m,v){var S=this;return(0,d.Z)(function*(){return S._withPendingWrite((0,d.Z)(function*(){return yield S._withRetries(R=>kl(R,m,v)),S.localCache[m]=v,S.notifyServiceWorker(m)}))})()}_get(m){var v=this;return(0,d.Z)(function*(){const S=yield v._withRetries(R=>function fo(_,h){return po.apply(this,arguments)}(R,m));return v.localCache[m]=S,S})()}_remove(m){var v=this;return(0,d.Z)(function*(){return v._withPendingWrite((0,d.Z)(function*(){return yield v._withRetries(S=>Ha(S,m)),delete v.localCache[m],v.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,d.Z)(function*(){const v=yield m._withRetries(W=>{const he=Kn(W,!1).getAll();return new os(he).toPromise()});if(!v)return[];if(0!==m.pendingWrites)return[];const S=[],R=new Set;for(const{fbase_key:W,value:he}of v)R.add(W),JSON.stringify(m.localCache[W])!==JSON.stringify(he)&&(m.notifyListeners(W,he),S.push(W));for(const W of Object.keys(m.localCache))m.localCache[W]&&!R.has(W)&&(m.notifyListeners(W,null),S.push(W));return S})()}notifyListeners(m,v){this.localCache[m]=v;const S=this.listeners[m];if(S)for(const R of Array.from(S))R(v)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(v)}_removeListener(m,v){this.listeners[m]&&(this.listeners[m].delete(v),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Ga(_,h){return At(_,"POST","/v2/accounts/mfaSignIn:start",Ot(_,h))}function ur(){return(ur=(0,d.Z)(function*(_){return(yield At(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function aa(_){return new Promise((h,m)=>{const v=document.createElement("script");v.setAttribute("src",_),v.onload=h,v.onerror=S=>{const R=ge("internal-error");R.customData=S,m(R)},v.type="text/javascript",v.charset="UTF-8",function oa(){var _,h;return null!==(h=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==h?h:document}().appendChild(v)})}function go(_){return`__${_}${Math.floor(1e6*Math.random())}`}const as=1e12;class Pl{constructor(h){this.auth=h,this.counter=as,this._widgets=new Map}render(h,m){const v=this.counter;return this._widgets.set(v,new dd(h,this.auth.name,m||{})),this.counter++,v}reset(h){var m;const v=h||as;null===(m=this._widgets.get(v))||void 0===m||m.delete(),this._widgets.delete(v)}getResponse(h){var m;return(null===(m=this._widgets.get(h||as))||void 0===m?void 0:m.getResponse())||""}execute(h){var m=this;return(0,d.Z)(function*(){var v;return null===(v=m._widgets.get(h||as))||void 0===v||v.execute(),""})()}}class dd{constructor(h,m,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof h?document.getElementById(h):h;oe(S,"argument-error",{appName:m}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ca(_){const h=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<_;v++)h.push(m.charAt(Math.floor(Math.random()*m.length)));return h.join("")}(50);const{callback:h,"expired-callback":m}=this.params;if(h)try{h(this.responseToken)}catch(v){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(v){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const hd=go("rcb"),Ol=new In(3e4,6e4);class gf{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!yt().grecaptcha}load(h,m=""){return oe(function fd(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(m),h,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(yt().grecaptcha):new Promise((v,S)=>{const R=yt().setTimeout(()=>{S(ge(h,"network-request-failed"))},Ol.get());yt()[hd]=()=>{yt().clearTimeout(R),delete yt()[hd];const he=yt().grecaptcha;if(!he)return void S(ge(h,"internal-error"));const Ne=he.render;he.render=($e,ut)=>{const nt=Ne($e,ut);return this.counter++,nt},this.hostLanguage=m,v(he)},aa(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:hd,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(R),S(ge(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){return!!yt().grecaptcha&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class pd{load(h){return(0,d.Z)(function*(){return new Pl(h)})()}clearedOneInstance(){}}const Gc="recaptcha",md={theme:"light",type:"image"};class Fl{constructor(h,m=Object.assign({},md),v){this.parameters=m,this.type=Gc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Re(v),this.isInvisible="invisible"===this.parameters.size,oe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof h?document.getElementById(h):h;oe(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new pd:new gf,this.validateStartingState()}verify(){var h=this;return(0,d.Z)(function*(){h.assertNotDestroyed();const m=yield h.render(),v=h.getAssertedRecaptcha();return v.getResponse(m)||new Promise(R=>{const W=he=>{!he||(h.tokenChangeListeners.delete(W),R(he))};h.tokenChangeListeners.add(W),h.isInvisible&&v.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return m=>{if(this.tokenChangeListeners.forEach(v=>v(m)),"function"==typeof h)h(m);else if("string"==typeof h){const v=yt()[h];"function"==typeof v&&v(m)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,d.Z)(function*(){if(yield h.init(),!h.widgetId){let m=h.container;if(!h.isInvisible){const v=document.createElement("div");m.appendChild(v),m=v}h.widgetId=h.getAssertedRecaptcha().render(m,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,d.Z)(function*(){oe(xt()&&!Vt(),h.auth,"internal-error"),yield function _f(){let _=null;return new Promise(h=>{"complete"!==document.readyState?(_=()=>h(),window.addEventListener("load",_)):h()}).catch(h=>{throw _&&window.removeEventListener("load",_),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const m=yield function mo(_){return ur.apply(this,arguments)}(h.auth);oe(m,h.auth,"internal-error"),h.parameters.sitekey=m})()}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class _o{constructor(h,m){this.verificationId=h,this.onConfirmation=m}confirm(h){const m=io._fromVerification(this.verificationId,h);return this.onConfirmation(m)}}function dn(){return(dn=(0,d.Z)(function*(_,h,m){const v=Re(_),S=yield Pn(v,h,(0,O.m9)(m));return new _o(S,R=>Na(v,R))})).apply(this,arguments)}function yo(){return(yo=(0,d.Z)(function*(_,h,m){const v=(0,O.m9)(_);yield Jr(!1,v,"phone");const S=yield Pn(v.auth,h,(0,O.m9)(m));return new _o(S,R=>Tr(v,R))})).apply(this,arguments)}function Vn(){return(Vn=(0,d.Z)(function*(_,h,m){const v=(0,O.m9)(_),S=yield Pn(v.auth,h,(0,O.m9)(m));return new _o(S,R=>oo(v,R))})).apply(this,arguments)}function Pn(_,h,m){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,d.Z)(function*(_,h,m){var v;const S=yield m.verify();try{let R;if(oe("string"==typeof S,_,"argument-error"),oe(m.type===Gc,_,"argument-error"),R="string"==typeof h?{phoneNumber:h}:h,"session"in R){const W=R.session;if("phoneNumber"in R)return oe("enroll"===W.type,_,"internal-error"),(yield Ba(_,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{oe("signin"===W.type,_,"internal-error");const he=(null===(v=R.multiFactorHint)||void 0===v?void 0:v.uid)||R.multiFactorUid;return oe(he,_,"missing-multi-factor-info"),(yield Ga(_,{mfaPendingCredential:W.credential,mfaEnrollmentId:he,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield af(_,{phoneNumber:R.phoneNumber,recaptchaToken:S});return W}}finally{m._reset()}})).apply(this,arguments)}function Wn(){return(Wn=(0,d.Z)(function*(_,h){yield $t((0,O.m9)(_),h)})).apply(this,arguments)}let Bt=(()=>{class _{constructor(m){this.providerId=_.PROVIDER_ID,this.auth=Re(m)}verifyPhoneNumber(m,v){return Pn(this.auth,m,(0,O.m9)(v))}static credential(m,v){return io._fromVerification(m,v)}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:v,temporaryProof:S}=m;return v&&S?io._fromTokenResponse(v,S):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function qi(_,h){return h?le(h):(oe(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Zn extends kt{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return _n(h,this._buildIdpRequest())}_linkToIdToken(h,m){return _n(h,this._buildIdpRequest(m))}_getReauthenticationResolver(h){return _n(h,this._buildIdpRequest())}_buildIdpRequest(h){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(m.idToken=h),m}}function Ai(_){return As(_.auth,new Zn(_),_.bypassAuthState)}function N(_){const{auth:h,user:m}=_;return oe(m,h,"internal-error"),Fa(m,new Zn(_),_.bypassAuthState)}function dr(_){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,d.Z)(function*(_){const{auth:h,user:m}=_;return oe(m,h,"internal-error"),$t(m,new Zn(_),_.bypassAuthState)})).apply(this,arguments)}class ui{constructor(h,m,v,S,R=!1){this.auth=h,this.resolver=v,this.user=S,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var h=this;return new Promise(function(){var m=(0,d.Z)(function*(v,S){h.pendingPromise={resolve:v,reject:S};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(R){h.reject(R)}});return function(v,S){return m.apply(this,arguments)}}())}onAuthEvent(h){var m=this;return(0,d.Z)(function*(){const{urlResponse:v,sessionId:S,postBody:R,tenantId:W,error:he,type:Ne}=h;if(he)return void m.reject(he);const $e={auth:m.auth,requestUri:v,sessionId:S,tenantId:W||void 0,postBody:R||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ne)($e))}catch(ut){m.reject(ut)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Ai;case"linkViaPopup":case"linkViaRedirect":return dr;case"reauthViaPopup":case"reauthViaRedirect":return N;default:ue(this.auth,"internal-error")}}resolve(h){ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zc=new In(2e3,1e4);function Xt(){return(Xt=(0,d.Z)(function*(_,h,m){const v=Re(_);He(_,h,Xr);const S=qi(v,m);return new Vl(v,"signInViaPopup",h,S).executeNotNull()})).apply(this,arguments)}function hr(){return(hr=(0,d.Z)(function*(_,h,m){const v=(0,O.m9)(_);He(v.auth,h,Xr);const S=qi(v.auth,m);return new Vl(v.auth,"reauthViaPopup",h,S,v).executeNotNull()})).apply(this,arguments)}function Ll(){return(Ll=(0,d.Z)(function*(_,h,m){const v=(0,O.m9)(_);He(v.auth,h,Xr);const S=qi(v.auth,m);return new Vl(v.auth,"linkViaPopup",h,S,v).executeNotNull()})).apply(this,arguments)}let Vl=(()=>{class _ extends ui{constructor(m,v,S,R,W){super(m,v,R,W),this.provider=S,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var m=this;return(0,d.Z)(function*(){const v=yield m.execute();return oe(v,m.auth,"internal-error"),v})()}onExecution(){var m=this;return(0,d.Z)(function*(){ae(1===m.filter.length,"Popup operations only handle one event");const v=xs();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],v),m.authWindow.associatedEvent=v,m.resolver._originValidation(m.auth).catch(S=>{m.reject(S)}),m.resolver._isIframeWebStorageSupported(m.auth,S=>{S||m.reject(ge(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(ge(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const m=()=>{var v,S;this.pollId=(null===(S=null===(v=this.authWindow)||void 0===v?void 0:v.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ge(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,zc.get())};m()}}return _.currentPopupAction=null,_})();const da=new Map;class Or extends ui{constructor(h,m,v=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,v),this.eventId=null}execute(){var h=()=>super.execute,m=this;return(0,d.Z)(function*(){let v=da.get(m.auth._key());if(!v){try{const R=(yield function ha(_,h){return gd.apply(this,arguments)}(m.resolver,m.auth))?yield h().call(m):null;v=()=>Promise.resolve(R)}catch(S){v=()=>Promise.reject(S)}da.set(m.auth._key(),v)}return m.bypassAuthState||da.set(m.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(h){var m=()=>super.onAuthEvent,v=this;return(0,d.Z)(function*(){if("signInViaRedirect"===h.type)return m().call(v,h);if("unknown"!==h.type){if(h.eventId){const S=yield v.auth._redirectUserForId(h.eventId);if(S)return v.user=S,m().call(v,h);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function gd(){return(gd=(0,d.Z)(function*(_,h){const m=w(h),v=_d(_);if(!(yield v._isAvailable()))return!1;const S="true"===(yield v._get(m));return yield v._remove(m),S})).apply(this,arguments)}function cs(_,h){return fa.apply(this,arguments)}function fa(){return(fa=(0,d.Z)(function*(_,h){return _d(_)._set(w(h),"true")})).apply(this,arguments)}function _d(_){return le(_._redirectPersistence)}function w(_){return Tn("pendingRedirect",_.config.apiKey,_.name)}function V(){return(V=(0,d.Z)(function*(_,h,m){const v=Re(_);He(_,h,Xr);const S=qi(v,m);return yield cs(S,v),S._openRedirect(v,h,"signInViaRedirect")})).apply(this,arguments)}function Ce(){return(Ce=(0,d.Z)(function*(_,h,m){const v=(0,O.m9)(_);He(v.auth,h,Xr);const S=qi(v.auth,m);yield cs(S,v.auth);const R=yield vo(v);return S._openRedirect(v.auth,h,"reauthViaRedirect",R)})).apply(this,arguments)}function Tt(){return(Tt=(0,d.Z)(function*(_,h,m){const v=(0,O.m9)(_);He(v.auth,h,Xr);const S=qi(v.auth,m);yield Jr(!1,v,h.providerId),yield cs(S,v.auth);const R=yield vo(v);return S._openRedirect(v.auth,h,"linkViaRedirect",R)})).apply(this,arguments)}function yn(){return(yn=(0,d.Z)(function*(_,h){return yield Re(_)._initializationPromise,Qn(_,h,!1)})).apply(this,arguments)}function Qn(_,h){return sn.apply(this,arguments)}function sn(){return(sn=(0,d.Z)(function*(_,h,m=!1){const v=Re(_),S=qi(v,h),W=yield new Or(v,S,m).execute();return W&&!m&&(delete W.user._redirectEventId,yield v._persistUserIfCurrent(W.user),yield v._setRedirectUser(null,h)),W})).apply(this,arguments)}function vo(_){return fr.apply(this,arguments)}function fr(){return(fr=(0,d.Z)(function*(_){const h=xs(`${_.uid}:::`);return _._redirectEventId=h,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),h})).apply(this,arguments)}class Bn{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let m=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(h,v)&&(m=!0,this.sendToConsumer(h,v),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function yf(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pr(_);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=h,m=!0)),m}sendToConsumer(h,m){var v;if(h.error&&!pr(h)){const S=(null===(v=h.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";m.onError(ge(this.auth,S))}else m.onAuthEvent(h)}isEventForConsumer(h,m){const v=null===m.eventId||!!h.eventId&&h.eventId===m.eventId;return m.filter.includes(h.type)&&v}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Si(h))}saveEventToCache(h){this.cachedEventUids.add(Si(h)),this.lastProcessedEventTime=Date.now()}}function Si(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(h=>h).join("-")}function pr({type:_,error:h}){return"unknown"===_&&"auth/no-auth-event"===(null==h?void 0:h.code)}function ma(_){return $a.apply(this,arguments)}function $a(){return($a=(0,d.Z)(function*(_,h={}){return At(_,"GET","/v1/projects",h)})).apply(this,arguments)}const vf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gm=/^https?/;function bo(){return(bo=(0,d.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:h}=yield ma(_);for(const m of h)try{if(Bl(m))return}catch(v){}ue(_,"unauthorized-domain")})).apply(this,arguments)}function Bl(_){const h=dt(),{protocol:m,hostname:v}=new URL(h);if(_.startsWith("chrome-extension://")){const W=new URL(_);return""===W.hostname&&""===v?"chrome-extension:"===m&&_.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===m&&W.hostname===v}if(!gm.test(m))return!1;if(vf.test(_))return v===_;const S=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(v)}const ym=new In(3e4,6e4);function vm(){const _=yt().___jsl;if(null==_?void 0:_.H)for(const h of Object.keys(_.H))if(_.H[h].r=_.H[h].r||[],_.H[h].L=_.H[h].L||[],_.H[h].r=[..._.H[h].L],_.CP)for(let m=0;m<_.CP.length;m++)_.CP[m]=null}let di=null;function Ef(_){return di=di||function bf(_){return new Promise((h,m)=>{var v,S,R;function W(){vm(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{vm(),m(ge(_,"network-request-failed"))},timeout:ym.get()})}if(null===(S=null===(v=yt().gapi)||void 0===v?void 0:v.iframes)||void 0===S?void 0:S.Iframe)h(gapi.iframes.getContext());else{if(!(null===(R=yt().gapi)||void 0===R?void 0:R.load)){const he=go("iframefcb");return yt()[he]=()=>{gapi.load?W():m(ge(_,"network-request-failed"))},aa(`https://apis.google.com/js/api.js?onload=${he}`).catch(Ne=>m(Ne))}W()}}).catch(h=>{throw di=null,h})}(_),di}const yd=new In(5e3,15e3),Ul={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Wc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Wa(_){const h=_.config;oe(h.authDomain,_,"auth-domain-config-required");const m=h.emulator?Gt(h,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,v={apiKey:h.apiKey,appName:_.name,v:_e.SDK_VERSION},S=Wc.get(_.config.apiHost);S&&(v.eid=S);const R=_._getFrameworks();return R.length&&(v.fw=R.join(",")),`${m}?${(0,O.xO)(v).slice(1)}`}function vd(){return vd=(0,d.Z)(function*(_){const h=yield Ef(_),m=yt().gapi;return oe(m,_,"internal-error"),h.open({where:document.body,url:Wa(_),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ul,dontclear:!0},v=>new Promise(function(){var S=(0,d.Z)(function*(R,W){yield v.restyle({setHideOnLeave:!1});const he=ge(_,"network-request-failed"),Ne=yt().setTimeout(()=>{W(he)},yd.get());function $e(){yt().clearTimeout(Ne),R(v)}v.ping($e).then($e,()=>{W(he)})});return function(R,W){return S.apply(this,arguments)}}()))}),vd.apply(this,arguments)}const Os={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Cd{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(h){}}}function wd(_,h,m,v,S,R){oe(_.config.authDomain,_,"auth-domain-config-required"),oe(_.config.apiKey,_,"invalid-api-key");const W={apiKey:_.config.apiKey,appName:_.name,authType:m,redirectUrl:v,v:_e.SDK_VERSION,eventId:S};if(h instanceof Xr){h.setDefaultLanguage(_.languageCode),W.providerId=h.providerId||"",(0,O.xb)(h.getCustomParameters())||(W.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Ne,$e]of Object.entries(R||{}))W[Ne]=$e}if(h instanceof Fi){const Ne=h.getScopes().filter($e=>""!==$e);Ne.length>0&&(W.scopes=Ne.join(","))}_.tenantId&&(W.tid=_.tenantId);const he=W;for(const Ne of Object.keys(he))void 0===he[Ne]&&delete he[Ne];return`${function wm({config:_}){return _.emulator?Gt(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,O.xO)(he).slice(1)}`}const mr="webStorageSupport";class qc extends class Df{constructor(h){this.factorId=h}_process(h,m,v){switch(m.type){case"enroll":return this._finalizeEnroll(h,m.credential,v);case"signin":return this._finalizeSignIn(h,m.credential);default:return X("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new qc(h)}_finalizeEnroll(h,m,v){return function Ln(_,h){return At(_,"POST","/v2/accounts/mfaEnrollment:finalize",Ot(_,h))}(h,{idToken:m,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,m){return function Rl(_,h){return At(_,"POST","/v2/accounts/mfaSignIn:finalize",Ot(_,h))}(h,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Dm=(()=>{class _{constructor(){}static assertion(m){return qc._fromCredential(m)}}return _.FACTOR_ID="phone",_})();var If="@firebase/auth";class Nr{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var m=this;return(0,d.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const m=this.auth.onIdTokenChanged(v=>{var S;h((null===(S=v)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,m),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const m=this.internalListeners.get(h);!m||(this.internalListeners.delete(h),m(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function gr(){return window}function ga(){return(ga=(0,d.Z)(function*(_,h,m){var v;const{BuildInfo:S}=gr();ae(h.sessionId,"AuthEvent did not contain a session ID");const R=yield Am(h.sessionId),W={};return Ei()?W.ibi=S.packageName:ii()?W.apn=S.packageName:ue(_,"operation-not-supported-in-this-environment"),S.displayName&&(W.appDisplayName=S.displayName),W.sessionId=R,wd(_,m,h.type,void 0,null!==(v=h.eventId)&&void 0!==v?v:void 0,W)})).apply(this,arguments)}function _r(){return(_r=(0,d.Z)(function*(_){const{BuildInfo:h}=gr(),m={};Ei()?m.iosBundleId=h.packageName:ii()?m.androidPackageName=h.packageName:ue(_,"operation-not-supported-in-this-environment"),yield ma(_,m)})).apply(this,arguments)}function Qc(){return(Qc=(0,d.Z)(function*(_,h,m){const{cordova:v}=gr();let S=()=>{};try{yield new Promise((R,W)=>{let he=null;function Ne(){var nt;R();const hn=null===(nt=v.plugins.browsertab)||void 0===nt?void 0:nt.close;"function"==typeof hn&&hn(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function $e(){he||(he=window.setTimeout(()=>{W(ge(_,"redirect-cancelled-by-user"))},2e3))}function ut(){"visible"===(null==document?void 0:document.visibilityState)&&$e()}h.addPassiveListener(Ne),document.addEventListener("resume",$e,!1),ii()&&document.addEventListener("visibilitychange",ut,!1),S=()=>{h.removePassiveListener(Ne),document.removeEventListener("resume",$e,!1),document.removeEventListener("visibilitychange",ut,!1),he&&window.clearTimeout(he)}})}finally{S()}})).apply(this,arguments)}function Am(_){return zl.apply(this,arguments)}function zl(){return(zl=(0,d.Z)(function*(_){const h=Sf(_),m=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(m)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Sf(_){if(ae(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const h=new ArrayBuffer(_.length),m=new Uint8Array(h);for(let v=0;v<_.length;v++)m[v]=_.charCodeAt(v);return m}!function Im(_){(0,_e._registerComponent)(new ne.wA("auth",(h,{options:m})=>{const v=h.getProvider("app").getImmediate(),{apiKey:S,authDomain:R}=v.options;return(W=>{oe(S&&!S.includes(":"),"invalid-api-key",{appName:W.name}),oe(!(null==R?void 0:R.includes(":")),"argument-error",{appName:W.name});const he={apiKey:S,authDomain:R,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xs(_)},Ne=new Ci(W,he);return function fe(_,h){const m=(null==h?void 0:h.persistence)||[],v=(Array.isArray(m)?m:[m]).map(le);(null==h?void 0:h.errorMap)&&_._updateErrorMap(h.errorMap),_._initializeWithPersistence(v,null==h?void 0:h.popupRedirectResolver)}(Ne,m),Ne})(v)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,m,v)=>{h.getProvider("auth-internal").initialize()})),(0,_e._registerComponent)(new ne.wA("auth-internal",h=>{const m=Re(h.getProvider("auth").getImmediate());return new Nr(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,_e.registerVersion)(If,"0.19.9",function Kc(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,_e.registerVersion)(If,"0.19.9","esm2017")}("Browser");class Td extends Bn{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(h)),super.onEvent(h)}initialized(){var h=this;return(0,d.Z)(function*(){yield h.initPromise})()}}function Tm(_){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,d.Z)(function*(_){const h=yield Eo()._get(Jc(_));return h&&(yield Eo()._remove(Jc(_))),h})).apply(this,arguments)}function Sm(){const _=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const v=Math.floor(Math.random()*h.length);_.push(h.charAt(v))}return _.join("")}function Eo(){return le(lr)}function Jc(_){return Tn("authEvent",_.config.apiKey,_.name)}function Mi(_){if(!(null==_?void 0:_.includes("?")))return{};const[h,...m]=_.split("?");return(0,O.zd)(m.join("?"))}function xf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ge("no-auth-event")}}function $l(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function Pf(_=(0,O.z$)()){return!("file:"!==$l()&&"ionic:"!==$l()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function hi(){try{const _=self.localStorage,h=xs();if(_)return _.setItem(h,"1"),_.removeItem(h),!function Ka(_=(0,O.z$)()){return function Pm(){return(0,O.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Of(_=(0,O.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,O.hl)()}catch(_){return Wl()&&(0,O.hl)()}return!1}function Wl(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function tu(){return(function km(){return"http:"===$l()||"https:"===$l()}()||(0,O.ru)()||Pf())&&!function Rm(){return(0,O.b$)()||(0,O.UG)()}()&&hi()&&!Wl()}function xd(){return Pf()&&"undefined"!=typeof document}function _a(){return(_a=(0,d.Z)(function*(){return!!xd()&&new Promise(_=>{const h=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),_(!0)})})})).apply(this,arguments)}const Vi={LOCAL:"local",NONE:"none",SESSION:"session"},Yl=oe,nu="persistence";function Za(_){return iu.apply(this,arguments)}function iu(){return(iu=(0,d.Z)(function*(_){yield _._initializationPromise;const h=Pd(),m=Tn(nu,_.config.apiKey,_.name);h&&h.setItem(m,_._getPersistence())})).apply(this,arguments)}function Pd(){var _;try{return(null===(_=function kd(){return"undefined"!=typeof window?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch(h){return null}}const Iy=oe;class Ns{constructor(){this.browserResolver=le(class qa{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rn,this._completeRedirectFn=Qn}_openPopup(h,m,v,S){var R=this;return(0,d.Z)(function*(){var W;ae(null===(W=R.eventManagers[h._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const he=wd(h,m,v,dt(),S);return function vn(_,h,m,v=500,S=600){const R=Math.max((window.screen.availHeight-S)/2,0).toString(),W=Math.max((window.screen.availWidth-v)/2,0).toString();let he="";const Ne=Object.assign(Object.assign({},Os),{width:v.toString(),height:S.toString(),top:R,left:W}),$e=(0,O.z$)().toLowerCase();m&&(he=Uo($e)?"_blank":m),Bo($e)&&(h=h||"http://localhost",Ne.scrollbars="yes");const ut=Object.entries(Ne).reduce((hn,[Bi,su])=>`${hn}${Bi}=${su},`,"");if(function bs(_=(0,O.z$)()){var h;return Ei(_)&&!!(null===(h=window.navigator)||void 0===h?void 0:h.standalone)}($e)&&"_self"!==he)return function Yc(_,h){const m=document.createElement("a");m.href=_,m.target=h;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(v)}(h||"",he),new Cd(null);const nt=window.open(h||"",he,ut);oe(nt,_,"popup-blocked");try{nt.focus()}catch(hn){}return new Cd(nt)}(h,he,xs())})()}_openRedirect(h,m,v,S){var R=this;return(0,d.Z)(function*(){return yield R._originValidation(h),function rs(_){yt().location.href=_}(wd(h,m,v,dt(),S)),new Promise(()=>{})})()}_initialize(h){const m=h._key();if(this.eventManagers[m]){const{manager:S,promise:R}=this.eventManagers[m];return S?Promise.resolve(S):(ae(R,"If manager is not set, promise should be"),R)}const v=this.initAndGetManager(h);return this.eventManagers[m]={promise:v},v.catch(()=>{delete this.eventManagers[m]}),v}initAndGetManager(h){var m=this;return(0,d.Z)(function*(){const v=yield function Em(_){return vd.apply(this,arguments)}(h),S=new Bn(h);return v.register("authEvent",R=>(oe(null==R?void 0:R.authEvent,h,"invalid-auth-event"),{status:S.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[h._key()]={manager:S},m.iframes[h._key()]=v,S})()}_isIframeWebStorageSupported(h,m){this.iframes[h._key()].send(mr,{type:mr},S=>{var R;const W=null===(R=null==S?void 0:S[0])||void 0===R?void 0:R[mr];void 0!==W&&m(!!W),ue(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const m=h._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function _m(_){return bo.apply(this,arguments)}(h)),this.originValidationPromises[m]}get _shouldInitProactively(){return Kr()||ka()||Ei()}}),this.cordovaResolver=le(class Mm{constructor(){this._redirectPersistence=Rn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Qn}_initialize(h){var m=this;return(0,d.Z)(function*(){const v=h._key();let S=m.eventManagers.get(v);return S||(S=new Td(h),m.eventManagers.set(v,S),m.attachCallbackListeners(h,S)),S})()}_openPopup(h){ue(h,"operation-not-supported-in-this-environment")}_openRedirect(h,m,v,S){var R=this;return(0,d.Z)(function*(){!function Id(_){var h,m,v,S,R,W,he,Ne,$e,ut;const nt=gr();oe("function"==typeof(null===(h=null==nt?void 0:nt.universalLinks)||void 0===h?void 0:h.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),oe(void 0!==(null===(m=null==nt?void 0:nt.BuildInfo)||void 0===m?void 0:m.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),oe("function"==typeof(null===(R=null===(S=null===(v=null==nt?void 0:nt.cordova)||void 0===v?void 0:v.plugins)||void 0===S?void 0:S.browsertab)||void 0===R?void 0:R.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oe("function"==typeof(null===(Ne=null===(he=null===(W=null==nt?void 0:nt.cordova)||void 0===W?void 0:W.plugins)||void 0===he?void 0:he.browsertab)||void 0===Ne?void 0:Ne.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oe("function"==typeof(null===(ut=null===($e=null==nt?void 0:nt.cordova)||void 0===$e?void 0:$e.InAppBrowser)||void 0===ut?void 0:ut.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const W=yield R._initialize(h);yield W.initialized(),W.resetRedirect(),function pa(){da.clear()}(),yield R._originValidation(h);const he=function Xc(_,h,m=null){return{type:h,eventId:m,urlResponse:null,sessionId:Sm(),postBody:null,tenantId:_.tenantId,error:ge(_,"no-auth-event")}}(h,v,S);yield function Dy(_,h){return Eo()._set(Jc(_),h)}(h,he);const Ne=yield function Af(_,h,m){return ga.apply(this,arguments)}(h,he,m),$e=yield function Gl(_){const{cordova:h}=gr();return new Promise(m=>{h.plugins.browsertab.isAvailable(v=>{let S=null;v?h.plugins.browsertab.openUrl(_):S=h.InAppBrowser.open(_,function Cc(_=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),m(S)})})}(Ne);return function Tf(_,h,m){return Qc.apply(this,arguments)}(h,W,$e)})()}_isIframeWebStorageSupported(h,m){throw new Error("Method not implemented.")}_originValidation(h){const m=h._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Dd(_){return _r.apply(this,arguments)}(h)),this.originValidationPromises[m]}attachCallbackListeners(h,m){const{universalLinks:v,handleOpenURL:S,BuildInfo:R}=gr(),W=setTimeout((0,d.Z)(function*(){yield Tm(h),m.onEvent(xf())}),500),he=function(){var ut=(0,d.Z)(function*(nt){clearTimeout(W);const hn=yield Tm(h);let Bi=null;hn&&(null==nt?void 0:nt.url)&&(Bi=function Sd(_,h){var m,v;const S=function eu(_){const h=Mi(_),m=h.link?decodeURIComponent(h.link):void 0,v=Mi(m).link,S=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return Mi(S).link||S||v||m||_}(h);if(S.includes("/__/auth/callback")){const R=Mi(S),W=R.firebaseError?function Mf(_){try{return JSON.parse(_)}catch(h){return null}}(decodeURIComponent(R.firebaseError)):null,he=null===(v=null===(m=null==W?void 0:W.code)||void 0===m?void 0:m.split("auth/"))||void 0===v?void 0:v[1],Ne=he?ge(he):null;return Ne?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Ne,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:S,postBody:null}}return null}(hn,nt.url)),m.onEvent(Bi||xf())});return function(hn){return ut.apply(this,arguments)}}();void 0!==v&&"function"==typeof v.subscribe&&v.subscribe(null,he);const Ne=S,$e=`${R.packageName.toLowerCase()}://`;gr().handleOpenURL=function(){var ut=(0,d.Z)(function*(nt){if(nt.toLowerCase().startsWith($e)&&he({url:nt}),"function"==typeof Ne)try{Ne(nt)}catch(hn){console.error(hn)}});return function(nt){return ut.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Rn,this._completeRedirectFn=Qn}_initialize(h){var m=this;return(0,d.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,m,v,S){var R=this;return(0,d.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(h,m,v,S)})()}_openRedirect(h,m,v,S){var R=this;return(0,d.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(h,m,v,S)})()}_isIframeWebStorageSupported(h,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,m)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return xd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Iy(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,d.Z)(function*(){if(h.underlyingResolver)return;const m=yield function Xn(){return _a.apply(this,arguments)}();h.underlyingResolver=m?h.cordovaResolver:h.browserResolver})()}}function Fm(_){return _.unwrap()}function Od(_){return Ff(_)}function Ff(_){const{_tokenResponse:h}=_ instanceof O.ZR?_.customData:_;if(!h)return null;if(!(_ instanceof O.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return Bt.credentialFromResult(_);const m=h.providerId;if(!m||"password"===m)return null;let v;switch(m){case"google.com":v=so;break;case"facebook.com":v=ro;break;case"github.com":v=Mc;break;case"twitter.com":v=Ni;break;default:const{oauthIdToken:S,oauthAccessToken:R,oauthTokenSecret:W,pendingToken:he,nonce:Ne}=h;return R||W||S||he?he?m.startsWith("saml.")?Wi._create(m,he):wr._fromParams({providerId:m,signInMethod:m,pendingToken:he,idToken:S,accessToken:R}):new Is(m).credential({idToken:S,accessToken:R,rawNonce:Ne}):null}return _ instanceof O.ZR?v.credentialFromError(_):v.credentialFromResult(_)}function qn(_,h){return h.catch(m=>{throw m instanceof O.ZR&&function Lm(_,h){var m;const v=null===(m=h.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===h.code)h.resolver=new Nf(_,function Sl(_,h){var m;const v=(0,O.m9)(_),S=h;return oe(h.customData.operationType,v,"argument-error"),oe(null===(m=S.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,v,"argument-error"),na._fromError(v,S)}(_,h));else if(v){const S=Ff(h),R=h;S&&(R.credential=S,R.tenantId=v.tenantId||void 0,R.email=v.email||void 0,R.phoneNumber=v.phoneNumber||void 0)}}(_,m),m}).then(m=>{const S=m.user;return{operationType:m.operationType,credential:Od(m),additionalUserInfo:Nn(m),user:Ls.getOrCreate(S)}})}function Fd(_,h){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,d.Z)(function*(_,h){const m=yield h;return{verificationId:m.verificationId,confirm:v=>qn(_,m.confirm(v))}})).apply(this,arguments)}class Nf{constructor(h,m){this.resolver=m,this.auth=function Nm(_){return _.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return qn(Fm(this.auth),this.resolver.resolveSignIn(h))}}class Ls{constructor(h){this._delegate=h,this.multiFactor=function pf(_){const h=(0,O.m9)(_);return co.has(h)||co.set(h,kr._fromUser(h)),co.get(h)}(h)}static getOrCreate(h){return Ls.USER_MAP.has(h)||Ls.USER_MAP.set(h,new Ls(h)),Ls.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var m=this;return(0,d.Z)(function*(){return qn(m.auth,Tr(m._delegate,h))})()}linkWithPhoneNumber(h,m){var v=this;return(0,d.Z)(function*(){return Fd(v.auth,function Nl(_,h,m){return yo.apply(this,arguments)}(v._delegate,h,m))})()}linkWithPopup(h){var m=this;return(0,d.Z)(function*(){return qn(m.auth,function $c(_,h,m){return Ll.apply(this,arguments)}(m._delegate,h,Ns))})()}linkWithRedirect(h){var m=this;return(0,d.Z)(function*(){return yield Za(Re(m.auth)),function Oe(_,h,m){return function ze(_,h,m){return Tt.apply(this,arguments)}(_,h,m)}(m._delegate,h,Ns)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var m=this;return(0,d.Z)(function*(){return qn(m.auth,oo(m._delegate,h))})()}reauthenticateWithPhoneNumber(h,m){return Fd(this.auth,function Cy(_,h,m){return Vn.apply(this,arguments)}(this._delegate,h,m))}reauthenticateWithPopup(h){return qn(this.auth,function za(_,h,m){return hr.apply(this,arguments)}(this._delegate,h,Ns))}reauthenticateWithRedirect(h){var m=this;return(0,d.Z)(function*(){return yield Za(Re(m.auth)),function q(_,h,m){return function se(_,h,m){return Ce.apply(this,arguments)}(_,h,m)}(m._delegate,h,Ns)})()}sendEmailVerification(h){return function Sr(_,h){return Jo.apply(this,arguments)}(this._delegate,h)}unlink(h){var m=this;return(0,d.Z)(function*(){return yield function Ar(_,h){return vl.apply(this,arguments)}(m._delegate,h),m})()}updateEmail(h){return function Il(_,h){return Va((0,O.m9)(_),h,null)}(this._delegate,h)}updatePassword(h){return function ff(_,h){return Va((0,O.m9)(_),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function ls(_,h){return Wn.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function La(_,h){return ta.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,m){return function Lc(_,h,m){return ea.apply(this,arguments)}(this._delegate,h,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ls.USER_MAP=new WeakMap;const ru=oe;let Ld=(()=>{class _{constructor(m,v){if(this.app=m,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=m.options;ru(S,"invalid-api-key",{appName:m.name}),ru(S,"invalid-api-key",{appName:m.name});const R="undefined"!=typeof window?Ns:void 0;this._delegate=v.initialize({options:{persistence:Ay(S,m.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(Me),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ls.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,v){!function Yt(_,h,m){const v=Re(_);oe(v._canInitEmulator,v,"emulator-config-failed"),oe(/^https?:\/\//.test(h),v,"invalid-emulator-scheme");const S=!!(null==m?void 0:m.disableWarnings),R=ri(h),{host:W,port:he}=function Er(_){const h=ri(_),m=/(\/\/)?([^?#/]+)/.exec(_.substr(h.length));if(!m)return{host:"",port:null};const v=m[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(v);if(S){const R=S[1];return{host:R,port:mn(v.substr(R.length+1))}}{const[R,W]=v.split(":");return{host:R,port:mn(W)}}}(h);v.config.emulator={url:`${R}//${W}${null===he?"":`:${he}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:W,port:he,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function Cr(){function _(){const h=document.createElement("p"),m=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,m,v)}applyActionCode(m){return function rd(_,h){return De.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Dt(this._delegate,m)}confirmPasswordReset(m,v){return function El(_,h,m){return Ko.apply(this,arguments)}(this._delegate,m,v)}createUserWithEmailAndPassword(m,v){var S=this;return(0,d.Z)(function*(){return qn(S._delegate,function Qo(_,h,m){return ai.apply(this,arguments)}(S._delegate,m,v))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Dl(_,h){return or.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Nc(_,h){const m=Dr.parseLink(h);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,d.Z)(function*(){ru(tu(),m._delegate,"operation-not-supported-in-this-environment");const v=yield function Ut(_,h){return yn.apply(this,arguments)}(m._delegate,Ns);return v?qn(m._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function kf(_,h){Re(_)._logFramework(h)}(this._delegate,m)}onAuthStateChanged(m,v,S){const{next:R,error:W,complete:he}=Vm(m,v,S);return this._delegate.onAuthStateChanged(R,W,he)}onIdTokenChanged(m,v,S){const{next:R,error:W,complete:he}=Vm(m,v,S);return this._delegate.onIdTokenChanged(R,W,he)}sendSignInLinkToEmail(m,v){return function wl(_,h,m){return Fc.apply(this,arguments)}(this._delegate,m,v)}sendPasswordResetEmail(m,v){return function Oc(_,h,m){return qo.apply(this,arguments)}(this._delegate,m,v||void 0)}setPersistence(m){var v=this;return(0,d.Z)(function*(){let S;switch(function Om(_,h){Yl(Object.values(Vi).includes(h),_,"invalid-persistence-type"),(0,O.b$)()?Yl(h!==Vi.SESSION,_,"unsupported-persistence-type"):(0,O.UG)()?Yl(h===Vi.NONE,_,"unsupported-persistence-type"):Wl()?Yl(h===Vi.NONE||h===Vi.LOCAL&&(0,O.hl)(),_,"unsupported-persistence-type"):Yl(h===Vi.NONE||hi(),_,"unsupported-persistence-type")}(v._delegate,m),m){case Vi.SESSION:S=Rn;break;case Vi.LOCAL:S=(yield le(Li)._isAvailable())?Li:lr;break;case Vi.NONE:S=Ct;break;default:return ue("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return qn(this._delegate,function Pc(_){return Oa.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return qn(this._delegate,Na(this._delegate,m))}signInWithCustomToken(m){return qn(this._delegate,function es(_,h){return ts.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,v){return qn(this._delegate,function Cl(_,h,m){return Na((0,O.m9)(_),Go.credential(h,m))}(this._delegate,m,v))}signInWithEmailLink(m,v){return qn(this._delegate,function Xo(_,h,m){return ao.apply(this,arguments)}(this._delegate,m,v))}signInWithPhoneNumber(m,v){return Fd(this._delegate,function mm(_,h,m){return dn.apply(this,arguments)}(this._delegate,m,v))}signInWithPopup(m){var v=this;return(0,d.Z)(function*(){return ru(tu(),v._delegate,"operation-not-supported-in-this-environment"),qn(v._delegate,function ua(_,h,m){return Xt.apply(this,arguments)}(v._delegate,m,Ns))})()}signInWithRedirect(m){var v=this;return(0,d.Z)(function*(){return ru(tu(),v._delegate,"operation-not-supported-in-this-environment"),yield Za(v._delegate),function I(_,h,m){return function k(_,h,m){return V.apply(this,arguments)}(_,h,m)}(v._delegate,m,Ns)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function nn(_,h){return ns.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Vi,_})();function Vm(_,h,m){let v=_;"function"!=typeof _&&({next:v,error:h,complete:m}=_);const S=v;return{next:W=>S(W&&Ls.getOrCreate(W)),error:h,complete:m}}function Ay(_,h){const m=function Rd(_,h){const m=Pd();if(!m)return[];const v=Tn(nu,_,h);switch(m.getItem(v)){case Vi.NONE:return[Ct];case Vi.LOCAL:return[Li,Rn];case Vi.SESSION:return[Rn];default:return[]}}(_,h);if("undefined"!=typeof self&&!m.includes(Li)&&m.push(Li),"undefined"!=typeof window)for(const v of[lr,Rn])m.includes(v)||m.push(v);return m.includes(Ct)||m.push(Ct),m}class Vd{constructor(){this.providerId="phone",this._delegate=new Bt(Fm(te.Z.auth()))}static credential(h,m){return Bt.credential(h,m)}verifyPhoneNumber(h,m){return this._delegate.verifyPhoneNumber(h,m)}unwrap(){return this._delegate}}Vd.PHONE_SIGN_IN_METHOD=Bt.PHONE_SIGN_IN_METHOD,Vd.PROVIDER_ID=Bt.PROVIDER_ID;const Bm=oe;class ql{constructor(h,m,v=te.Z.app()){var S;Bm(null===(S=v.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new Fl(h,m,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Vf(_){_.INTERNAL.registerComponent(new ne.wA("auth-compat",h=>{const m=h.getProvider("app-compat").getImmediate(),v=h.getProvider("auth");return new Ld(m,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Go,FacebookAuthProvider:ro,GithubAuthProvider:Mc,GoogleAuthProvider:so,OAuthProvider:Is,SAMLAuthProvider:Ir,PhoneAuthProvider:Vd,PhoneMultiFactorGenerator:Dm,RecaptchaVerifier:ql,TwitterAuthProvider:Ni,Auth:Ld,AuthCredential:kt,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.9")}(te.Z)},2940:function(qe,Ie){!function(F){"use strict";function d(Q){return Array.prototype.slice.call(Q)}function te(Q){return new Promise(function(de,Se){Q.onsuccess=function(){de(Q.result)},Q.onerror=function(){Se(Q.error)}})}function O(Q,de,Se){var xe,ue=new Promise(function(ge,be){te(xe=Q[de].apply(Q,Se)).then(ge,be)});return ue.request=xe,ue}function _e(Q,de,Se){var xe=O(Q,de,Se);return xe.then(function(ue){if(ue)return new G(ue,xe.request)})}function ie(Q,de,Se){Se.forEach(function(xe){Object.defineProperty(Q.prototype,xe,{get:function(){return this[de][xe]},set:function(ue){this[de][xe]=ue}})})}function me(Q,de,Se,xe){xe.forEach(function(ue){ue in Se.prototype&&(Q.prototype[ue]=function(){return O(this[de],ue,arguments)})})}function ne(Q,de,Se,xe){xe.forEach(function(ue){ue in Se.prototype&&(Q.prototype[ue]=function(){return this[de][ue].apply(this[de],arguments)})})}function pe(Q,de,Se,xe){xe.forEach(function(ue){ue in Se.prototype&&(Q.prototype[ue]=function(){return _e(this[de],ue,arguments)})})}function ce(Q){this._index=Q}function G(Q,de){this._cursor=Q,this._request=de}function H(Q){this._store=Q}function ee(Q){this._tx=Q,this.complete=new Promise(function(de,Se){Q.oncomplete=function(){de()},Q.onerror=function(){Se(Q.error)},Q.onabort=function(){Se(Q.error)}})}function Ve(Q,de,Se){this._db=Q,this.oldVersion=de,this.transaction=new ee(Se)}function Ae(Q){this._db=Q}ie(ce,"_index",["name","keyPath","multiEntry","unique"]),me(ce,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),pe(ce,"_index",IDBIndex,["openCursor","openKeyCursor"]),ie(G,"_cursor",["direction","key","primaryKey","value"]),me(G,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(Q){Q in IDBCursor.prototype&&(G.prototype[Q]=function(){var de=this,Se=arguments;return Promise.resolve().then(function(){return de._cursor[Q].apply(de._cursor,Se),te(de._request).then(function(xe){if(xe)return new G(xe,de._request)})})})}),H.prototype.createIndex=function(){return new ce(this._store.createIndex.apply(this._store,arguments))},H.prototype.index=function(){return new ce(this._store.index.apply(this._store,arguments))},ie(H,"_store",["name","keyPath","indexNames","autoIncrement"]),me(H,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),pe(H,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ne(H,"_store",IDBObjectStore,["deleteIndex"]),ee.prototype.objectStore=function(){return new H(this._tx.objectStore.apply(this._tx,arguments))},ie(ee,"_tx",["objectStoreNames","mode"]),ne(ee,"_tx",IDBTransaction,["abort"]),Ve.prototype.createObjectStore=function(){return new H(this._db.createObjectStore.apply(this._db,arguments))},ie(Ve,"_db",["name","version","objectStoreNames"]),ne(Ve,"_db",IDBDatabase,["deleteObjectStore","close"]),Ae.prototype.transaction=function(){return new ee(this._db.transaction.apply(this._db,arguments))},ie(Ae,"_db",["name","version","objectStoreNames"]),ne(Ae,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(Q){[H,ce].forEach(function(de){Q in de.prototype&&(de.prototype[Q.replace("open","iterate")]=function(){var Se=d(arguments),xe=Se[Se.length-1],ue=this._store||this._index,ge=ue[Q].apply(ue,Se.slice(0,-1));ge.onsuccess=function(){xe(ge.result)}})})}),[ce,H].forEach(function(Q){Q.prototype.getAll||(Q.prototype.getAll=function(de,Se){var xe=this,ue=[];return new Promise(function(ge){xe.iterateCursor(de,function(be){be?(ue.push(be.value),void 0===Se||ue.length!=Se?be.continue():ge(ue)):ge(ue)})})})}),F.openDb=function Me(Q,de,Se){var xe=O(indexedDB,"open",[Q,de]),ue=xe.request;return ue&&(ue.onupgradeneeded=function(ge){Se&&Se(new Ve(ue.result,ge.oldVersion,ue.transaction))}),xe.then(function(ge){return new Ae(ge)})},F.deleteDb=function Be(Q){return O(indexedDB,"deleteDatabase",[Q])},Object.defineProperty(F,"__esModule",{value:!0})}(Ie)},8306:(qe,Ie,F)=>{"use strict";F.d(Ie,{y:()=>G});var d=F(930),te=F(727),O=F(8822),_e=F(4671);var ne=F(2416),pe=F(576),ce=F(2806);let G=(()=>{class Ae{constructor(Be){Be&&(this._subscribe=Be)}lift(Be){const Q=new Ae;return Q.source=this,Q.operator=Be,Q}subscribe(Be,Q,de){const Se=function Ve(Ae){return Ae&&Ae instanceof d.Lv||function ee(Ae){return Ae&&(0,pe.m)(Ae.next)&&(0,pe.m)(Ae.error)&&(0,pe.m)(Ae.complete)}(Ae)&&(0,te.Nn)(Ae)}(Be)?Be:new d.Hp(Be,Q,de);return(0,ce.x)(()=>{const{operator:xe,source:ue}=this;Se.add(xe?xe.call(Se,ue):ue?this._subscribe(Se):this._trySubscribe(Se))}),Se}_trySubscribe(Be){try{return this._subscribe(Be)}catch(Q){Be.error(Q)}}forEach(Be,Q){return new(Q=H(Q))((de,Se)=>{const xe=new d.Hp({next:ue=>{try{Be(ue)}catch(ge){Se(ge),xe.unsubscribe()}},error:Se,complete:de});this.subscribe(xe)})}_subscribe(Be){var Q;return null===(Q=this.source)||void 0===Q?void 0:Q.subscribe(Be)}[O.L](){return this}pipe(...Be){return function me(Ae){return 0===Ae.length?_e.y:1===Ae.length?Ae[0]:function(Be){return Ae.reduce((Q,de)=>de(Q),Be)}}(Be)(this)}toPromise(Be){return new(Be=H(Be))((Q,de)=>{let Se;this.subscribe(xe=>Se=xe,xe=>de(xe),()=>Q(Se))})}}return Ae.create=Me=>new Ae(Me),Ae})();function H(Ae){var Me;return null!==(Me=null!=Ae?Ae:ne.v.Promise)&&void 0!==Me?Me:Promise}},7579:(qe,Ie,F)=>{"use strict";F.d(Ie,{x:()=>ne});var d=F(8306),te=F(727);const _e=(0,F(3888).d)(ce=>function(){ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=F(8737),me=F(2806);let ne=(()=>{class ce extends d.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const ee=new pe(this,this);return ee.operator=H,ee}_throwIfClosed(){if(this.closed)throw new _e}next(H){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const ee=this.observers.slice();for(const Ve of ee)Ve.next(H)}})}error(H){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:ee}=this;for(;ee.length;)ee.shift().error(H)}})}complete(){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:ee,isStopped:Ve,observers:Ae}=this;return ee||Ve?te.Lc:(Ae.push(H),new te.w0(()=>(0,ie.P)(Ae,H)))}_checkFinalizedStatuses(H){const{hasError:ee,thrownError:Ve,isStopped:Ae}=this;ee?H.error(Ve):Ae&&H.complete()}asObservable(){const H=new d.y;return H.source=this,H}}return ce.create=(G,H)=>new pe(G,H),ce})();class pe extends ne{constructor(G,H){super(),this.destination=G,this.source=H}next(G){var H,ee;null===(ee=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===ee||ee.call(H,G)}error(G){var H,ee;null===(ee=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===ee||ee.call(H,G)}complete(){var G,H;null===(H=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===H||H.call(G)}_subscribe(G){var H,ee;return null!==(ee=null===(H=this.source)||void 0===H?void 0:H.subscribe(G))&&void 0!==ee?ee:te.Lc}}},930:(qe,Ie,F)=>{"use strict";F.d(Ie,{Hp:()=>Be,Lv:()=>ee});var d=F(576),te=F(727),O=F(2416),_e=F(7849),ie=F(5032);const me=ce("C",void 0,void 0);function ce(ue,ge,be){return{kind:ue,value:ge,error:be}}var G=F(3410),H=F(2806);class ee extends te.w0{constructor(ge){super(),this.isStopped=!1,ge?(this.destination=ge,(0,te.Nn)(ge)&&ge.add(this)):this.destination=xe}static create(ge,be,He){return new Be(ge,be,He)}next(ge){this.isStopped?Se(function pe(ue){return ce("N",ue,void 0)}(ge),this):this._next(ge)}error(ge){this.isStopped?Se(function ne(ue){return ce("E",void 0,ue)}(ge),this):(this.isStopped=!0,this._error(ge))}complete(){this.isStopped?Se(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ge){this.destination.next(ge)}_error(ge){try{this.destination.error(ge)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ve=Function.prototype.bind;function Ae(ue,ge){return Ve.call(ue,ge)}class Me{constructor(ge){this.partialObserver=ge}next(ge){const{partialObserver:be}=this;if(be.next)try{be.next(ge)}catch(He){Q(He)}}error(ge){const{partialObserver:be}=this;if(be.error)try{be.error(ge)}catch(He){Q(He)}else Q(ge)}complete(){const{partialObserver:ge}=this;if(ge.complete)try{ge.complete()}catch(be){Q(be)}}}class Be extends ee{constructor(ge,be,He){let je;if(super(),(0,d.m)(ge)||!ge)je={next:null!=ge?ge:void 0,error:null!=be?be:void 0,complete:null!=He?He:void 0};else{let oe;this&&O.v.useDeprecatedNextContext?(oe=Object.create(ge),oe.unsubscribe=()=>this.unsubscribe(),je={next:ge.next&&Ae(ge.next,oe),error:ge.error&&Ae(ge.error,oe),complete:ge.complete&&Ae(ge.complete,oe)}):je=ge}this.destination=new Me(je)}}function Q(ue){O.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(ue):(0,_e.h)(ue)}function Se(ue,ge){const{onStoppedNotification:be}=O.v;be&&G.z.setTimeout(()=>be(ue,ge))}const xe={closed:!0,next:ie.Z,error:function de(ue){throw ue},complete:ie.Z}},727:(qe,Ie,F)=>{"use strict";F.d(Ie,{Lc:()=>me,w0:()=>ie,Nn:()=>ne});var d=F(576);const O=(0,F(3888).d)(ce=>function(H){ce(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((ee,Ve)=>`${Ve+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var _e=F(8737);class ie{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const Ae of H)Ae.remove(this);else H.remove(this);const{initialTeardown:ee}=this;if((0,d.m)(ee))try{ee()}catch(Ae){G=Ae instanceof O?Ae.errors:[Ae]}const{_teardowns:Ve}=this;if(Ve){this._teardowns=null;for(const Ae of Ve)try{pe(Ae)}catch(Me){G=null!=G?G:[],Me instanceof O?G=[...G,...Me.errors]:G.push(Me)}}if(G)throw new O(G)}}add(G){var H;if(G&&G!==this)if(this.closed)pe(G);else{if(G instanceof ie){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._teardowns=null!==(H=this._teardowns)&&void 0!==H?H:[]).push(G)}}_hasParent(G){const{_parentage:H}=this;return H===G||Array.isArray(H)&&H.includes(G)}_addParent(G){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(G),H):H?[H,G]:G}_removeParent(G){const{_parentage:H}=this;H===G?this._parentage=null:Array.isArray(H)&&(0,_e.P)(H,G)}remove(G){const{_teardowns:H}=this;H&&(0,_e.P)(H,G),G instanceof ie&&G._removeParent(this)}}ie.EMPTY=(()=>{const ce=new ie;return ce.closed=!0,ce})();const me=ie.EMPTY;function ne(ce){return ce instanceof ie||ce&&"closed"in ce&&(0,d.m)(ce.remove)&&(0,d.m)(ce.add)&&(0,d.m)(ce.unsubscribe)}function pe(ce){(0,d.m)(ce)?ce():ce.unsubscribe()}},2416:(qe,Ie,F)=>{"use strict";F.d(Ie,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(qe,Ie,F)=>{"use strict";F.d(Ie,{E:()=>te});const te=new(F(8306).y)(ie=>ie.complete())},8996:(qe,Ie,F)=>{"use strict";F.d(Ie,{D:()=>ge});var d=F(8421),te=F(5363),O=F(9468),me=F(8306),pe=F(2202),ce=F(576),G=F(9672);function ee(be,He){if(!be)throw new Error("Iterable cannot be null");return new me.y(je=>{(0,G.f)(je,He,()=>{const oe=be[Symbol.asyncIterator]();(0,G.f)(je,He,()=>{oe.next().then(X=>{X.done?je.complete():je.next(X.value)})},0,!0)})})}var Ve=F(3670),Ae=F(8239),Me=F(1144),Be=F(6495),Q=F(2206),de=F(4532),Se=F(3260);function ge(be,He){return He?function ue(be,He){if(null!=be){if((0,Ve.c)(be))return function _e(be,He){return(0,d.Xf)(be).pipe((0,O.R)(He),(0,te.Q)(He))}(be,He);if((0,Me.z)(be))return function ne(be,He){return new me.y(je=>{let oe=0;return He.schedule(function(){oe===be.length?je.complete():(je.next(be[oe++]),je.closed||this.schedule())})})}(be,He);if((0,Ae.t)(be))return function ie(be,He){return(0,d.Xf)(be).pipe((0,O.R)(He),(0,te.Q)(He))}(be,He);if((0,Q.D)(be))return ee(be,He);if((0,Be.T)(be))return function H(be,He){return new me.y(je=>{let oe;return(0,G.f)(je,He,()=>{oe=be[pe.h](),(0,G.f)(je,He,()=>{let X,ae;try{({value:X,done:ae}=oe.next())}catch(ve){return void je.error(ve)}ae?je.complete():je.next(X)},0,!0)}),()=>(0,ce.m)(null==oe?void 0:oe.return)&&oe.return()})}(be,He);if((0,Se.L)(be))return function xe(be,He){return ee((0,Se.Q)(be),He)}(be,He)}throw(0,de.z)(be)}(be,He):(0,d.Xf)(be)}},8421:(qe,Ie,F)=>{"use strict";F.d(Ie,{Xf:()=>Ve});var d=F(655),te=F(1144),O=F(8239),_e=F(8306),ie=F(3670),me=F(2206),ne=F(4532),pe=F(6495),ce=F(3260),G=F(576),H=F(7849),ee=F(8822);function Ve(ue){if(ue instanceof _e.y)return ue;if(null!=ue){if((0,ie.c)(ue))return function Ae(ue){return new _e.y(ge=>{const be=ue[ee.L]();if((0,G.m)(be.subscribe))return be.subscribe(ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ue);if((0,te.z)(ue))return function Me(ue){return new _e.y(ge=>{for(let be=0;be<ue.length&&!ge.closed;be++)ge.next(ue[be]);ge.complete()})}(ue);if((0,O.t)(ue))return function Be(ue){return new _e.y(ge=>{ue.then(be=>{ge.closed||(ge.next(be),ge.complete())},be=>ge.error(be)).then(null,H.h)})}(ue);if((0,me.D)(ue))return de(ue);if((0,pe.T)(ue))return function Q(ue){return new _e.y(ge=>{for(const be of ue)if(ge.next(be),ge.closed)return;ge.complete()})}(ue);if((0,ce.L)(ue))return function Se(ue){return de((0,ce.Q)(ue))}(ue)}throw(0,ne.z)(ue)}function de(ue){return new _e.y(ge=>{(function xe(ue,ge){var be,He,je,oe;return(0,d.mG)(this,void 0,void 0,function*(){try{for(be=(0,d.KL)(ue);!(He=yield be.next()).done;)if(ge.next(He.value),ge.closed)return}catch(X){je={error:X}}finally{try{He&&!He.done&&(oe=be.return)&&(yield oe.call(be))}finally{if(je)throw je.error}}ge.complete()})})(ue,ge).catch(be=>ge.error(be))})}},266:(qe,Ie,F)=>{"use strict";F.d(Ie,{T:()=>pe});var d=F(5577),te=F(4671),_e=F(8421),ie=F(515),me=F(3269),ne=F(8996);function pe(...ce){const G=(0,me.yG)(ce),H=(0,me._6)(ce,1/0),ee=ce;return ee.length?1===ee.length?(0,_e.Xf)(ee[0]):function O(ce=1/0){return(0,d.z)(te.y,ce)}(H)((0,ne.D)(ee,G)):ie.E}},5403:(qe,Ie,F)=>{"use strict";F.d(Ie,{x:()=>te});var d=F(930);function te(_e,ie,me,ne,pe){return new O(_e,ie,me,ne,pe)}class O extends d.Lv{constructor(ie,me,ne,pe,ce,G){super(ie),this.onFinalize=ce,this.shouldUnsubscribe=G,this._next=me?function(H){try{me(H)}catch(ee){ie.error(ee)}}:super._next,this._error=pe?function(H){try{pe(H)}catch(ee){ie.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=ne?function(){try{ne()}catch(H){ie.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:me}=this;super.unsubscribe(),!me&&(null===(ie=this.onFinalize)||void 0===ie||ie.call(this))}}}},4004:(qe,Ie,F)=>{"use strict";F.d(Ie,{U:()=>O});var d=F(4482),te=F(5403);function O(_e,ie){return(0,d.e)((me,ne)=>{let pe=0;me.subscribe((0,te.x)(ne,ce=>{ne.next(_e.call(ie,ce,pe++))}))})}},5577:(qe,Ie,F)=>{"use strict";F.d(Ie,{z:()=>pe});var d=F(4004),te=F(8421),O=F(4482),_e=F(9672),ie=F(5403),ne=F(576);function pe(ce,G,H=1/0){return(0,ne.m)(G)?pe((ee,Ve)=>(0,d.U)((Ae,Me)=>G(ee,Ae,Ve,Me))((0,te.Xf)(ce(ee,Ve))),H):("number"==typeof G&&(H=G),(0,O.e)((ee,Ve)=>function me(ce,G,H,ee,Ve,Ae,Me,Be){const Q=[];let de=0,Se=0,xe=!1;const ue=()=>{xe&&!Q.length&&!de&&G.complete()},ge=He=>de<ee?be(He):Q.push(He),be=He=>{Ae&&G.next(He),de++;let je=!1;(0,te.Xf)(H(He,Se++)).subscribe((0,ie.x)(G,oe=>{null==Ve||Ve(oe),Ae?ge(oe):G.next(oe)},()=>{je=!0},void 0,()=>{if(je)try{for(de--;Q.length&&de<ee;){const oe=Q.shift();Me?(0,_e.f)(G,Me,()=>be(oe)):be(oe)}ue()}catch(oe){G.error(oe)}}))};return ce.subscribe((0,ie.x)(G,ge,()=>{xe=!0,ue()})),()=>{null==Be||Be()}}(ee,Ve,ce,H)))}},5363:(qe,Ie,F)=>{"use strict";F.d(Ie,{Q:()=>_e});var d=F(9672),te=F(4482),O=F(5403);function _e(ie,me=0){return(0,te.e)((ne,pe)=>{ne.subscribe((0,O.x)(pe,ce=>(0,d.f)(pe,ie,()=>pe.next(ce),me),()=>(0,d.f)(pe,ie,()=>pe.complete(),me),ce=>(0,d.f)(pe,ie,()=>pe.error(ce),me)))})}},3099:(qe,Ie,F)=>{"use strict";F.d(Ie,{B:()=>me});var d=F(8996),te=F(5698),O=F(7579),_e=F(930),ie=F(4482);function me(pe={}){const{connector:ce=(()=>new O.x),resetOnError:G=!0,resetOnComplete:H=!0,resetOnRefCountZero:ee=!0}=pe;return Ve=>{let Ae=null,Me=null,Be=null,Q=0,de=!1,Se=!1;const xe=()=>{null==Me||Me.unsubscribe(),Me=null},ue=()=>{xe(),Ae=Be=null,de=Se=!1},ge=()=>{const be=Ae;ue(),null==be||be.unsubscribe()};return(0,ie.e)((be,He)=>{Q++,!Se&&!de&&xe();const je=Be=null!=Be?Be:ce();He.add(()=>{Q--,0===Q&&!Se&&!de&&(Me=ne(ge,ee))}),je.subscribe(He),Ae||(Ae=new _e.Hp({next:oe=>je.next(oe),error:oe=>{Se=!0,xe(),Me=ne(ue,G,oe),je.error(oe)},complete:()=>{de=!0,xe(),Me=ne(ue,H),je.complete()}}),(0,d.D)(be).subscribe(Ae))})(Ve)}}function ne(pe,ce,...G){return!0===ce?(pe(),null):!1===ce?null:ce(...G).pipe((0,te.q)(1)).subscribe(()=>pe())}},9468:(qe,Ie,F)=>{"use strict";F.d(Ie,{R:()=>te});var d=F(4482);function te(O,_e=0){return(0,d.e)((ie,me)=>{me.add(O.schedule(()=>ie.subscribe(me),_e))})}},5698:(qe,Ie,F)=>{"use strict";F.d(Ie,{q:()=>_e});var d=F(515),te=F(4482),O=F(5403);function _e(ie){return ie<=0?()=>d.E:(0,te.e)((me,ne)=>{let pe=0;me.subscribe((0,O.x)(ne,ce=>{++pe<=ie&&(ne.next(ce),ie<=pe&&ne.complete())}))})}},8505:(qe,Ie,F)=>{"use strict";F.d(Ie,{b:()=>ie});var d=F(576),te=F(4482),O=F(5403),_e=F(4671);function ie(me,ne,pe){const ce=(0,d.m)(me)||ne||pe?{next:me,error:ne,complete:pe}:me;return ce?(0,te.e)((G,H)=>{var ee;null===(ee=ce.subscribe)||void 0===ee||ee.call(ce);let Ve=!0;G.subscribe((0,O.x)(H,Ae=>{var Me;null===(Me=ce.next)||void 0===Me||Me.call(ce,Ae),H.next(Ae)},()=>{var Ae;Ve=!1,null===(Ae=ce.complete)||void 0===Ae||Ae.call(ce),H.complete()},Ae=>{var Me;Ve=!1,null===(Me=ce.error)||void 0===Me||Me.call(ce,Ae),H.error(Ae)},()=>{var Ae,Me;Ve&&(null===(Ae=ce.unsubscribe)||void 0===Ae||Ae.call(ce)),null===(Me=ce.finalize)||void 0===Me||Me.call(ce)}))}):_e.y}},4408:(qe,Ie,F)=>{"use strict";F.d(Ie,{o:()=>ie});var d=F(727);class te extends d.w0{constructor(ne,pe){super()}schedule(ne,pe=0){return this}}const O={setInterval(...me){const{delegate:ne}=O;return((null==ne?void 0:ne.setInterval)||setInterval)(...me)},clearInterval(me){const{delegate:ne}=O;return((null==ne?void 0:ne.clearInterval)||clearInterval)(me)},delegate:void 0};var _e=F(8737);class ie extends te{constructor(ne,pe){super(ne,pe),this.scheduler=ne,this.work=pe,this.pending=!1}schedule(ne,pe=0){if(this.closed)return this;this.state=ne;const ce=this.id,G=this.scheduler;return null!=ce&&(this.id=this.recycleAsyncId(G,ce,pe)),this.pending=!0,this.delay=pe,this.id=this.id||this.requestAsyncId(G,this.id,pe),this}requestAsyncId(ne,pe,ce=0){return O.setInterval(ne.flush.bind(ne,this),ce)}recycleAsyncId(ne,pe,ce=0){if(null!=ce&&this.delay===ce&&!1===this.pending)return pe;O.clearInterval(pe)}execute(ne,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ce=this._execute(ne,pe);if(ce)return ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,pe){let G,ce=!1;try{this.work(ne)}catch(H){ce=!0,G=H||new Error("Scheduled action threw falsy error")}if(ce)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:ne,scheduler:pe}=this,{actions:ce}=pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,_e.P)(ce,this),null!=ne&&(this.id=this.recycleAsyncId(pe,ne,null)),this.delay=null,super.unsubscribe()}}}},7565:(qe,Ie,F)=>{"use strict";F.d(Ie,{v:()=>O});var d=F(6063);class te{constructor(ie,me=te.now){this.schedulerActionCtor=ie,this.now=me}schedule(ie,me=0,ne){return new this.schedulerActionCtor(this,ie).schedule(ne,me)}}te.now=d.l.now;class O extends te{constructor(ie,me=te.now){super(ie,me),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ie){const{actions:me}=this;if(this._active)return void me.push(ie);let ne;this._active=!0;do{if(ne=ie.execute(ie.state,ie.delay))break}while(ie=me.shift());if(this._active=!1,ne){for(;ie=me.shift();)ie.unsubscribe();throw ne}}}},4986:(qe,Ie,F)=>{"use strict";F.d(Ie,{z:()=>O,P:()=>_e});var d=F(4408);const O=new(F(7565).v)(d.o),_e=O},6063:(qe,Ie,F)=>{"use strict";F.d(Ie,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(qe,Ie,F)=>{"use strict";F.d(Ie,{z:()=>d});const d={setTimeout(...te){const{delegate:O}=d;return((null==O?void 0:O.setTimeout)||setTimeout)(...te)},clearTimeout(te){const{delegate:O}=d;return((null==O?void 0:O.clearTimeout)||clearTimeout)(te)},delegate:void 0}},2202:(qe,Ie,F)=>{"use strict";F.d(Ie,{h:()=>te});const te=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(qe,Ie,F)=>{"use strict";F.d(Ie,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(qe,Ie,F)=>{"use strict";F.d(Ie,{jO:()=>_e,yG:()=>ie,_6:()=>me});var d=F(576),te=F(3532);function O(ne){return ne[ne.length-1]}function _e(ne){return(0,d.m)(O(ne))?ne.pop():void 0}function ie(ne){return(0,te.K)(O(ne))?ne.pop():void 0}function me(ne,pe){return"number"==typeof O(ne)?ne.pop():pe}},8737:(qe,Ie,F)=>{"use strict";function d(te,O){if(te){const _e=te.indexOf(O);0<=_e&&te.splice(_e,1)}}F.d(Ie,{P:()=>d})},3888:(qe,Ie,F)=>{"use strict";function d(te){const _e=te(ie=>{Error.call(ie),ie.stack=(new Error).stack});return _e.prototype=Object.create(Error.prototype),_e.prototype.constructor=_e,_e}F.d(Ie,{d:()=>d})},2806:(qe,Ie,F)=>{"use strict";F.d(Ie,{x:()=>O,O:()=>_e});var d=F(2416);let te=null;function O(ie){if(d.v.useDeprecatedSynchronousErrorHandling){const me=!te;if(me&&(te={errorThrown:!1,error:null}),ie(),me){const{errorThrown:ne,error:pe}=te;if(te=null,ne)throw pe}}else ie()}function _e(ie){d.v.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=ie)}},9672:(qe,Ie,F)=>{"use strict";function d(te,O,_e,ie=0,me=!1){const ne=O.schedule(function(){_e(),me?te.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(te.add(ne),!me)return ne}F.d(Ie,{f:()=>d})},4671:(qe,Ie,F)=>{"use strict";function d(te){return te}F.d(Ie,{y:()=>d})},1144:(qe,Ie,F)=>{"use strict";F.d(Ie,{z:()=>d});const d=te=>te&&"number"==typeof te.length&&"function"!=typeof te},2206:(qe,Ie,F)=>{"use strict";F.d(Ie,{D:()=>te});var d=F(576);function te(O){return Symbol.asyncIterator&&(0,d.m)(null==O?void 0:O[Symbol.asyncIterator])}},576:(qe,Ie,F)=>{"use strict";function d(te){return"function"==typeof te}F.d(Ie,{m:()=>d})},3670:(qe,Ie,F)=>{"use strict";F.d(Ie,{c:()=>O});var d=F(8822),te=F(576);function O(_e){return(0,te.m)(_e[d.L])}},6495:(qe,Ie,F)=>{"use strict";F.d(Ie,{T:()=>O});var d=F(2202),te=F(576);function O(_e){return(0,te.m)(null==_e?void 0:_e[d.h])}},8239:(qe,Ie,F)=>{"use strict";F.d(Ie,{t:()=>te});var d=F(576);function te(O){return(0,d.m)(null==O?void 0:O.then)}},3260:(qe,Ie,F)=>{"use strict";F.d(Ie,{Q:()=>O,L:()=>_e});var d=F(655),te=F(576);function O(ie){return(0,d.FC)(this,arguments,function*(){const ne=ie.getReader();try{for(;;){const{value:pe,done:ce}=yield(0,d.qq)(ne.read());if(ce)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(pe)}}finally{ne.releaseLock()}})}function _e(ie){return(0,te.m)(null==ie?void 0:ie.getReader)}},3532:(qe,Ie,F)=>{"use strict";F.d(Ie,{K:()=>te});var d=F(576);function te(O){return O&&(0,d.m)(O.schedule)}},4482:(qe,Ie,F)=>{"use strict";F.d(Ie,{e:()=>O});var d=F(576);function O(_e){return ie=>{if(function te(_e){return(0,d.m)(null==_e?void 0:_e.lift)}(ie))return ie.lift(function(me){try{return _e(me,this)}catch(ne){this.error(ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(qe,Ie,F)=>{"use strict";function d(){}F.d(Ie,{Z:()=>d})},7849:(qe,Ie,F)=>{"use strict";F.d(Ie,{h:()=>O});var d=F(2416),te=F(3410);function O(_e){te.z.setTimeout(()=>{const{onUnhandledError:ie}=d.v;if(!ie)throw _e;ie(_e)})}},4532:(qe,Ie,F)=>{"use strict";function d(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Ie,{z:()=>d})},655:(qe,Ie,F)=>{"use strict";function _e(X,ae){var ve={};for(var le in X)Object.prototype.hasOwnProperty.call(X,le)&&ae.indexOf(le)<0&&(ve[le]=X[le]);if(null!=X&&"function"==typeof Object.getOwnPropertySymbols){var ke=0;for(le=Object.getOwnPropertySymbols(X);ke<le.length;ke++)ae.indexOf(le[ke])<0&&Object.prototype.propertyIsEnumerable.call(X,le[ke])&&(ve[le[ke]]=X[le[ke]])}return ve}function pe(X,ae,ve,le){return new(ve||(ve=Promise))(function(fe,dt){function xt(Je){try{Ke(le.next(Je))}catch(In){dt(In)}}function fn(Je){try{Ke(le.throw(Je))}catch(In){dt(In)}}function Ke(Je){Je.done?fe(Je.value):function ke(fe){return fe instanceof ve?fe:new ve(function(dt){dt(fe)})}(Je.value).then(xt,fn)}Ke((le=le.apply(X,ae||[])).next())})}function Q(X){return this instanceof Q?(this.v=X,this):new Q(X)}function de(X,ae,ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,le=ve.apply(X,ae||[]),fe=[];return ke={},dt("next"),dt("throw"),dt("return"),ke[Symbol.asyncIterator]=function(){return this},ke;function dt(Gt){le[Gt]&&(ke[Gt]=function(Hn){return new Promise(function(Pt,tr){fe.push([Gt,Hn,Pt,tr])>1||xt(Gt,Hn)})})}function xt(Gt,Hn){try{!function fn(Gt){Gt.value instanceof Q?Promise.resolve(Gt.value.v).then(Ke,Je):In(fe[0][2],Gt)}(le[Gt](Hn))}catch(Pt){In(fe[0][3],Pt)}}function Ke(Gt){xt("next",Gt)}function Je(Gt){xt("throw",Gt)}function In(Gt,Hn){Gt(Hn),fe.shift(),fe.length&&xt(fe[0][0],fe[0][1])}}function xe(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,ae=X[Symbol.asyncIterator];return ae?ae.call(X):(X=function ee(X){var ae="function"==typeof Symbol&&Symbol.iterator,ve=ae&&X[ae],le=0;if(ve)return ve.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&le>=X.length&&(X=void 0),{value:X&&X[le++],done:!X}}};throw new TypeError(ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),ve={},le("next"),le("throw"),le("return"),ve[Symbol.asyncIterator]=function(){return this},ve);function le(fe){ve[fe]=X[fe]&&function(dt){return new Promise(function(xt,fn){!function ke(fe,dt,xt,fn){Promise.resolve(fn).then(function(Ke){fe({value:Ke,done:xt})},dt)}(xt,fn,(dt=X[fe](dt)).done,dt.value)})}}}F.d(Ie,{_T:()=>_e,mG:()=>pe,qq:()=>Q,FC:()=>de,KL:()=>xe})},5e3:(qe,Ie,F)=>{"use strict";F.d(Ie,{AFp:()=>M0,ip1:()=>S0,CZH:()=>Po,hGG:()=>tT,z2F:()=>nm,sBO:()=>FA,_Vd:()=>zu,EJc:()=>dl,SBq:()=>ms,qLn:()=>qn,vpe:()=>Ro,OlP:()=>un,zs3:()=>Vr,ZZ4:()=>G0,aQg:()=>z0,soG:()=>ty,h0i:()=>ji,R0b:()=>_s,FiY:()=>Ti,Lbi:()=>cD,g9A:()=>x0,Qsj:()=>Hb,FYo:()=>cl,JOm:()=>he,q3G:()=>bn,tp0:()=>Si,Rgc:()=>Hh,dDg:()=>F0,q4F:()=>zb,GfV:()=>Gb,s_b:()=>F_,ifc:()=>Et,eFA:()=>_D,G48:()=>OA,Gpc:()=>H,f3M:()=>Tt,X6Q:()=>PA,_c5:()=>ZA,VLi:()=>IA,zSh:()=>yg,wAp:()=>st,vHH:()=>Me,EiD:()=>Mi,mCW:()=>ga,qzn:()=>qa,JVY:()=>Df,pB0:()=>Fr,eBb:()=>Dm,L6k:()=>qc,LAX:()=>If,cg1:()=>xo,kL8:()=>yb,yhl:()=>jl,dqk:()=>St,sIi:()=>ah,CqO:()=>Uv,QGY:()=>Ug,F4k:()=>Hg,RDi:()=>yl,AaK:()=>pe,z3N:()=>mr,qOj:()=>Ht,TTD:()=>ro,_Bn:()=>Bb,xp6:()=>Kf,uIk:()=>xg,ekj:()=>Yg,Suo:()=>j_,Xpm:()=>Kt,lG2:()=>ka,Yz7:()=>Pt,cJS:()=>Ot,oAB:()=>ni,Yjl:()=>Uo,Y36:()=>ac,_UZ:()=>Ru,qZA:()=>gh,TgZ:()=>mh,EpF:()=>Bv,n5z:()=>oa,Ikx:()=>Lu,LFG:()=>Oe,$8M:()=>go,$Z:()=>Vv,NdJ:()=>jg,CRH:()=>Zp,kcU:()=>fm,O4$:()=>hm,oxw:()=>vh,ALo:()=>n0,lcZ:()=>s0,Hsn:()=>lc,F$t:()=>il,Q6J:()=>ph,s9C:()=>To,iGM:()=>H_,MAs:()=>Pg,CHM:()=>Zo,LSH:()=>Fs,YNc:()=>Mv,_uU:()=>ob,Oqu:()=>Xg,Gf:()=>c0});var d=F(7579),te=F(727),O=F(8306),_e=F(266),ie=F(3099);function me(r){for(let s in r)if(r[s]===me)return s;throw Error("Could not find renamed property on target object.")}function ne(r,s){for(const a in s)s.hasOwnProperty(a)&&!r.hasOwnProperty(a)&&(r[a]=s[a])}function pe(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(pe).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function ce(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const G=me({__forward_ref__:me});function H(r){return r.__forward_ref__=H,r.toString=function(){return pe(this())},r}function ee(r){return Ve(r)?r():r}function Ve(r){return"function"==typeof r&&r.hasOwnProperty(G)&&r.__forward_ref__===H}class Me extends Error{constructor(s,a){super(function Be(r,s){return`NG0${Math.abs(r)}${s?": "+s:""}`}(s,a)),this.code=s}}function Q(r){return"string"==typeof r?r:null==r?"":String(r)}function de(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Q(r)}function ge(r,s){const a=s?` in ${s}`:"";throw new Me(-201,`No provider for ${de(r)} found${a}`)}function Ke(r,s){null==r&&function Je(r,s,a,c){throw new Error(`ASSERTION ERROR: ${r}`+(null==c?"":` [Expected=> ${a} ${c} ${s} <=Actual]`))}(s,r,null,"!=")}function Pt(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Ot(r){return{providers:r.providers||[],imports:r.imports||[]}}function At(r){return nr(r,ir)||nr(r,_i)}function nr(r,s){return r.hasOwnProperty(s)?r[s]:null}function ti(r){return r&&(r.hasOwnProperty(Yr)||r.hasOwnProperty(rr))?r[Yr]:null}const ir=me({\u0275prov:me}),Yr=me({\u0275inj:me}),_i=me({ngInjectableDef:me}),rr=me({ngInjectorDef:me});var at=(()=>((at=at||{})[at.Default=0]="Default",at[at.Host=1]="Host",at[at.Self=2]="Self",at[at.SkipSelf=4]="SkipSelf",at[at.Optional=8]="Optional",at))();let yi;function pn(r){const s=yi;return yi=r,s}function qr(r,s,a){const c=At(r);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&at.Optional?null:void 0!==s?s:void ge(pe(r),"Injector")}function We(r){return{toString:r}.toString()}var bt=(()=>((bt=bt||{})[bt.OnPush=0]="OnPush",bt[bt.Default=1]="Default",bt))(),Et=(()=>{return(r=Et||(Et={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",Et;var r})();const Ye="undefined"!=typeof globalThis&&globalThis,et="undefined"!=typeof window&&window,zi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,St=Ye||"undefined"!=typeof global&&global||et||zi,Ri={},B=[],z=me({\u0275cmp:me}),$=me({\u0275dir:me}),Ee=me({\u0275pipe:me}),re=me({\u0275mod:me}),Ge=me({\u0275fac:me}),rt=me({__NG_ELEMENT_ID__:me});let zt=0;function Kt(r){return We(()=>{const a={},c={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===bt.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||B,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||Et.Emulated,id:"c",styles:r.styles||B,_:null,setInput:null,schemas:r.schemas||null,tView:null},u=r.directives,p=r.features,y=r.pipes;return c.id+=zt++,c.inputs=Bo(r.inputs,a),c.outputs=Bo(r.outputs),p&&p.forEach(E=>E(c)),c.directiveDefs=u?()=>("function"==typeof u?u():u).map(bi):null,c.pipeDefs=y?()=>("function"==typeof y?y():y).map(Ct):null,c})}function bi(r){return Sn(r)||function ii(r){return r[$]||null}(r)}function Ct(r){return function br(r){return r[Ee]||null}(r)}const Tn={};function ni(r){return We(()=>{const s={type:r.type,bootstrap:r.bootstrap||B,declarations:r.declarations||B,imports:r.imports||B,exports:r.exports||B,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(Tn[r.id]=r.type),s})}function Bo(r,s){if(null==r)return Ri;const a={};for(const c in r)if(r.hasOwnProperty(c)){let u=r[c],p=u;Array.isArray(u)&&(p=u[1],u=u[0]),a[u]=c,s&&(s[u]=p)}return a}const ka=Kt;function Uo(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function Sn(r){return r[z]||null}function Mn(r,s){const a=r[re]||null;if(!a&&!0===s)throw new Error(`Type ${pe(r)} does not have '\u0275mod' property.`);return a}function $i(r){return Array.isArray(r)&&"object"==typeof r[1]}function Pi(r){return Array.isArray(r)&&!0===r[1]}function Dc(r){return 0!=(8&r.flags)}function Ra(r){return 2==(2&r.flags)}function Qr(r){return 1==(1&r.flags)}function Oi(r){return null!==r.template}function pl(r){return 0!=(512&r[2])}function Fi(r,s){return r.hasOwnProperty(Ge)?r[Ge]:null}class Is{constructor(s,a,c){this.previousValue=s,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function ro(){return so}function so(r){return r.type.prototype.ngOnChanges&&(r.setInput=hf),Mc}function Mc(){const r=xc(this),s=null==r?void 0:r.current;if(s){const a=r.previous;if(a===Ri)r.previous=s;else for(let c in s)a[c]=s[c];r.current=null,this.ngOnChanges(s)}}function hf(r,s,a,c){const u=xc(r)||function Ir(r,s){return r[Wi]=s}(r,{previous:Ri,current:null}),p=u.current||(u.current={}),y=u.previous,E=this.declaredInputs[a],C=y[E];p[E]=new Is(C&&C.currentValue,s,y===Ri),r[c]=s}ro.ngInherit=!0;const Wi="__ngSimpleChanges__";function xc(r){return r[Wi]||null}let _l;function yl(r){_l=r}function $t(r){return!!r.listen}const zo={createRenderer:(r,s)=>function Ar(){return void 0!==_l?_l:"undefined"!=typeof document?document:void 0}()};function Lt(r){for(;Array.isArray(r);)r=r[0];return r}function As(r,s){return Lt(s[r])}function On(r,s){return Lt(s[r.index])}function ln(r,s){return r.data[s]}function Tr(r,s){return r[s]}function Fn(r,s){const a=s[r];return $i(a)?a:a[0]}function oo(r){return 4==(4&r[2])}function sr(r){return 128==(128&r[2])}function wi(r,s){return null==s?null:r[s]}function es(r){r[18]=0}function ts(r,s){r[5]+=s;let a=r,c=r[3];for(;null!==c&&(1===s&&1===a[5]||-1===s&&0===a[5]);)c[5]+=s,a=c,c=c[3]}const tt={lFrame:Ms(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function El(){return tt.bindingsEnabled}function De(){return tt.lFrame.lView}function Dt(){return tt.lFrame.tView}function Zo(r){return tt.lFrame.contextLView=r,r[8]}function nn(){let r=ns();for(;null!==r&&64===r.type;)r=r.parent;return r}function ns(){return tt.lFrame.currentTNode}function ai(r,s){const a=tt.lFrame;a.currentTNode=r,a.isParent=s}function Cl(){return tt.lFrame.isParent}function wl(){tt.lFrame.isParent=!1}function Xo(){return tt.isInCheckNoChangesMode}function ao(r){tt.isInCheckNoChangesMode=r}function or(){return tt.lFrame.bindingIndex++}function ea(r,s){const a=tt.lFrame;a.bindingIndex=a.bindingRootIndex=r,Ts(s)}function Ts(r){tt.lFrame.currentDirectiveIndex=r}function ta(){return tt.lFrame.currentQueryIndex}function Il(r){tt.lFrame.currentQueryIndex=r}function ff(r){const s=r[1];return 2===s.type?s.declTNode:1===s.type?r[6]:null}function Va(r,s,a){if(a&at.SkipSelf){let u=s,p=r;for(;!(u=u.parent,null!==u||a&at.Host||(u=ff(p),null===u||(p=p[15],10&u.type))););if(null===u)return!1;s=u,r=p}const c=tt.lFrame=Al();return c.currentTNode=s,c.lView=r,!0}function Ss(r){const s=Al(),a=r[1];tt.lFrame=s,s.currentTNode=a.firstChild,s.lView=r,s.tView=a,s.contextLView=r,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Al(){const r=tt.lFrame,s=null===r?null:r.child;return null===s?Ms(r):s}function Ms(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function Bc(){const r=tt.lFrame;return tt.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const sd=Bc;function lo(){const r=Bc();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Nn(){return tt.lFrame.selectedIndex}function Mr(r){tt.lFrame.selectedIndex=r}function cn(){const r=tt.lFrame;return ln(r.tView,r.selectedIndex)}function hm(){tt.lFrame.currentNamespace="svg"}function fm(){!function pm(){tt.lFrame.currentNamespace=null}()}function xr(r,s){for(let a=s.directiveStart,c=s.directiveEnd;a<c;a++){const p=r.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:E,ngAfterViewInit:C,ngAfterViewChecked:T,ngOnDestroy:x}=p;y&&(r.contentHooks||(r.contentHooks=[])).push(-a,y),E&&((r.contentHooks||(r.contentHooks=[])).push(a,E),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(a,E)),C&&(r.viewHooks||(r.viewHooks=[])).push(-a,C),T&&((r.viewHooks||(r.viewHooks=[])).push(a,T),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(a,T)),null!=x&&(r.destroyHooks||(r.destroyHooks=[])).push(a,x)}}function na(r,s,a){Ln(r,s,3,a)}function Sl(r,s,a,c){(3&r[2])===a&&Ln(r,s,a,c)}function Ba(r,s){let a=r[2];(3&a)===s&&(a&=2047,a+=1,r[2]=a)}function Ln(r,s,a,c){const p=null!=c?c:-1,y=s.length-1;let E=0;for(let C=void 0!==c?65535&r[18]:0;C<y;C++)if("number"==typeof s[C+1]){if(E=s[C],null!=c&&E>=c)break}else s[C]<0&&(r[18]+=65536),(E<p||-1==p)&&(ld(r,a,s,C),r[18]=(4294901760&r[18])+C+2),C++}function ld(r,s,a,c){const u=a[c]<0,p=a[c+1],E=r[u?-a[c]:a[c]];if(u){if(r[2]>>11<r[18]>>16&&(3&r[2])===s){r[2]+=2048;try{p.call(E)}finally{}}}else try{p.call(E)}finally{}}class co{constructor(s,a,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function Ft(r,s,a){const c=$t(r);let u=0;for(;u<a.length;){const p=a[u];if("number"==typeof p){if(0!==p)break;u++;const y=a[u++],E=a[u++],C=a[u++];c?r.setAttribute(s,E,C,y):s.setAttributeNS(y,E,C)}else{const y=p,E=a[++u];sa(y)?c&&r.setProperty(s,y,E):c?r.setAttribute(s,y,E):s.setAttribute(y,E),u++}}return u}function Rn(r){return 3===r||4===r||6===r}function sa(r){return 64===r.charCodeAt(0)}function Di(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let a=-1;for(let c=0;c<s.length;c++){const u=s[c];"number"==typeof u?a=u:0===a||xs(r,a,u,null,-1===a||2===a?s[++c]:null)}}return r}function xs(r,s,a,c,u){let p=0,y=r.length;if(-1===s)y=-1;else for(;p<r.length;){const E=r[p++];if("number"==typeof E){if(E===s){y=-1;break}if(E>s){y=p-1;break}}}for(;p<r.length;){const E=r[p];if("number"==typeof E)break;if(E===a){if(null===c)return void(null!==u&&(r[p+1]=u));if(c===r[p+1])return void(r[p+2]=u)}p++,null!==c&&p++,null!==u&&p++}-1!==y&&(r.splice(y,0,s),p=y+1),r.splice(p++,0,a),null!==c&&r.splice(p++,0,c),null!==u&&r.splice(p++,0,u)}function li(r){return-1!==r}function yt(r){return 32767&r}function Vt(r,s){let a=function rs(r){return r>>16}(r),c=s;for(;a>0;)c=c[15],a--;return c}let uo=!0;function ss(r){const s=uo;return uo=r,s}let ud=0;function Rr(r,s){const a=Kn(r,s);if(-1!==a)return a;const c=s[1];c.firstCreatePass&&(r.injectorIndex=s.length,os(c.data,r),os(s,null),os(c.blueprint,null));const u=xl(r,s),p=r.injectorIndex;if(li(u)){const y=yt(u),E=Vt(u,s),C=E[1].data;for(let T=0;T<8;T++)s[p+T]=E[y+T]|C[y+T]}return s[p+8]=u,p}function os(r,s){r.push(0,0,0,0,0,0,0,0,s)}function Kn(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function xl(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let a=0,c=null,u=s;for(;null!==u;){const p=u[1],y=p.type;if(c=2===y?p.declTNode:1===y?u[6]:null,null===c)return-1;if(a++,u=u[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function ci(r,s,a){!function Ua(r,s,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(rt)&&(c=a[rt]),null==c&&(c=a[rt]=ud++);const u=255&c;s.data[r+(u>>5)]|=1<<u}(r,s,a)}function ho(r,s,a){if(a&at.Optional)return r;ge(s,"NodeInjector")}function fo(r,s,a,c){if(a&at.Optional&&void 0===c&&(c=null),0==(a&(at.Self|at.Host))){const u=r[9],p=pn(void 0);try{return u?u.get(s,c,a&at.Optional):qr(s,c,a&at.Optional)}finally{pn(p)}}return ho(c,s,a)}function po(r,s,a,c=at.Default,u){if(null!==r){const p=function Ga(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(rt)?r[rt]:void 0;return"number"==typeof s?s>=0?255&s:Pr:s}(a);if("function"==typeof p){if(!Va(s,r,c))return c&at.Host?ho(u,a,c):fo(s,a,c,u);try{const y=p(c);if(null!=y||c&at.Optional)return y;ge(a)}finally{sd()}}else if("number"==typeof p){let y=null,E=Kn(r,s),C=-1,T=c&at.Host?s[16][6]:null;for((-1===E||c&at.SkipSelf)&&(C=-1===E?xl(r,s):s[E+8],-1!==C&&mo(c,!1)?(y=s[1],E=yt(C),s=Vt(C,s)):E=-1);-1!==E;){const x=s[1];if(Rl(p,E,x.data)){const L=rn(E,s,a,y,c,T);if(L!==Ha)return L}C=s[E+8],-1!==C&&mo(c,s[1].data[E+8]===T)&&Rl(p,E,s)?(y=x,E=yt(C),s=Vt(C,s)):E=-1}}}return fo(s,a,c,u)}const Ha={};function Pr(){return new ur(nn(),De())}function rn(r,s,a,c,u,p){const y=s[1],E=y.data[r+8],x=ja(E,y,a,null==c?Ra(E)&&uo:c!=y&&0!=(3&E.type),u&at.Host&&p===E);return null!==x?Li(s,y,x,E):Ha}function ja(r,s,a,c,u){const p=r.providerIndexes,y=s.data,E=1048575&p,C=r.directiveStart,x=p>>20,j=u?E+x:r.directiveEnd;for(let K=c?E:E+x;K<j;K++){const ye=y[K];if(K<C&&a===ye||K>=C&&ye.type===a)return K}if(u){const K=y[C];if(K&&Oi(K)&&K.type===a)return C}return null}function Li(r,s,a,c){let u=r[a];const p=s.data;if(function pf(r){return r instanceof co}(u)){const y=u;y.resolving&&function Se(r,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${r}`:"";throw new Me(-200,`Circular dependency in DI detected for ${r}${a}`)}(de(p[a]));const E=ss(y.canSeeViewProviders);y.resolving=!0;const C=y.injectImpl?pn(y.injectImpl):null;Va(r,c,at.Default);try{u=r[a]=y.factory(void 0,p,r,c),s.firstCreatePass&&a>=c.directiveStart&&function Tl(r,s,a){const{ngOnChanges:c,ngOnInit:u,ngDoCheck:p}=s.type.prototype;if(c){const y=so(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(r,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(r,y)}u&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-r,u),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(r,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(r,p))}(a,p[a],s)}finally{null!==C&&pn(C),ss(E),y.resolving=!1,sd()}}return u}function Rl(r,s,a){return!!(a[s+(r>>5)]&1<<r)}function mo(r,s){return!(r&at.Self||r&at.Host&&s)}class ur{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,c){return po(this._tNode,this._lView,s,c,a)}}function oa(r){return We(()=>{const s=r.prototype.constructor,a=s[Ge]||aa(s),c=Object.prototype;let u=Object.getPrototypeOf(r.prototype).constructor;for(;u&&u!==c;){const p=u[Ge]||aa(u);if(p&&p!==a)return p;u=Object.getPrototypeOf(u)}return p=>new p})}function aa(r){return Ve(r)?()=>{const s=aa(ee(r));return s&&s()}:Fi(r)}function go(r){return function kl(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const a=r.attrs;if(a){const c=a.length;let u=0;for(;u<c;){const p=a[u];if(Rn(p))break;if(0===p)u+=2;else if("number"==typeof p)for(u++;u<c&&"string"==typeof a[u];)u++;else{if(p===s)return a[u+1];u+=2}}}return null}(nn(),r)}const ks="__parameters__";function ca(r,s,a){return We(()=>{const c=function dd(r){return function(...a){if(r){const c=r(...a);for(const u in c)this[u]=c[u]}}}(s);function u(...p){if(this instanceof u)return c.apply(this,p),this;const y=new u(...p);return E.annotation=y,E;function E(C,T,x){const L=C.hasOwnProperty(ks)?C[ks]:Object.defineProperty(C,ks,{value:[]})[ks];for(;L.length<=x;)L.push(null);return(L[x]=L[x]||[]).push(y),C}}return a&&(u.prototype=Object.create(a.prototype)),u.prototype.ngMetadataName=r,u.annotationCls=u,u})}class un{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Pt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}function Pn(r,s){void 0===s&&(s=r);for(let a=0;a<r.length;a++){let c=r[a];Array.isArray(c)?(s===r&&(s=r.slice(0,a)),Pn(c,s)):s!==r&&s.push(c)}return s}function Ii(r,s){r.forEach(a=>Array.isArray(a)?Ii(a,s):s(a))}function ls(r,s,a){s>=r.length?r.push(a):r.splice(s,0,a)}function Wn(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function Bt(r,s){const a=[];for(let c=0;c<r;c++)a.push(s);return a}function ui(r,s,a){let c=ua(r,s);return c>=0?r[1|c]=a:(c=~c,function Ai(r,s,a,c){let u=r.length;if(u==s)r.push(a,c);else if(1===u)r.push(c,r[0]),r[0]=a;else{for(u--,r.push(r[u-1],r[u]);u>s;)r[u]=r[u-2],u--;r[s]=a,r[s+1]=c}}(r,c,s,a)),c}function zc(r,s){const a=ua(r,s);if(a>=0)return r[1|a]}function ua(r,s){return function za(r,s,a){let c=0,u=r.length>>a;for(;u!==c;){const p=c+(u-c>>1),y=r[p<<a];if(s===y)return p<<a;y>s?u=p:c=p+1}return~(u<<a)}(r,s,1)}const cs={},fa="__NG_DI_FLAG__",pa="ngTempTokenPath",w=/\n/gm,k="__source",V=me({provide:String,useValue:me});let q;function se(r){const s=q;return q=r,s}function Ce(r,s=at.Default){if(void 0===q)throw new Me(203,"");return null===q?qr(r,void 0,s):q.get(r,s&at.Optional?null:void 0,s)}function Oe(r,s=at.Default){return(function An(){return yi}()||Ce)(ee(r),s)}const Tt=Oe;function Ut(r){const s=[];for(let a=0;a<r.length;a++){const c=ee(r[a]);if(Array.isArray(c)){if(0===c.length)throw new Me(900,"");let u,p=at.Default;for(let y=0;y<c.length;y++){const E=c[y],C=Qn(E);"number"==typeof C?-1===C?u=E.token:p|=C:u=E}s.push(Oe(u,p))}else s.push(Oe(c))}return s}function yn(r,s){return r[fa]=s,r.prototype[fa]=s,r}function Qn(r){return r[fa]}const fr=yn(ca("Inject",r=>({token:r})),-1),Ti=yn(ca("Optional"),8),Si=yn(ca("SkipSelf"),4);let Ul;function Wa(r){var s;return(null===(s=function Wc(){if(void 0===Ul&&(Ul=null,St.trustedTypes))try{Ul=St.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return Ul}())||void 0===s?void 0:s.createHTML(r))||r}class vn{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Yc extends vn{getTypeName(){return"HTML"}}class Cm extends vn{getTypeName(){return"Style"}}class Hl extends vn{getTypeName(){return"Script"}}class wd extends vn{getTypeName(){return"URL"}}class wm extends vn{getTypeName(){return"ResourceURL"}}function mr(r){return r instanceof vn?r.changingThisBreaksApplicationSecurity:r}function qa(r,s){const a=jl(r);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function jl(r){return r instanceof vn&&r.getTypeName()||null}function Df(r){return new Yc(r)}function qc(r){return new Cm(r)}function Dm(r){return new Hl(r)}function If(r){return new wd(r)}function Fr(r){return new wm(r)}class Kc{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(Wa(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class Im{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const c=this.inertDocument.createElement("body");a.appendChild(c)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Wa(s),a;const c=this.inertDocument.createElement("body");return c.innerHTML=Wa(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(s){const a=s.attributes;for(let u=a.length-1;0<u;u--){const y=a.item(u).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&s.removeAttribute(y)}let c=s.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const gr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Af=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ga(r){return(r=String(r)).match(gr)||r.match(Af)?r:"unsafe:"+r}function _r(r){const s={};for(const a of r.split(","))s[a]=!0;return s}function Gl(...r){const s={};for(const a of r)for(const c in a)a.hasOwnProperty(c)&&(s[c]=!0);return s}const Tf=_r("area,br,col,hr,img,wbr"),Qc=_r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Id=_r("rp,rt"),Ad=Gl(Tf,Gl(Qc,_r("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gl(Id,_r("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Gl(Id,Qc)),Td=_r("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Xc=_r("srcset"),Yn=Gl(Td,Xc,_r("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),_r("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Sd=_r("script,style,template");class Sm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,c=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?c=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,c&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let u=this.checkClobberedElement(a,a.nextSibling);if(u){a=u;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!Ad.hasOwnProperty(a))return this.sanitizedSomething=!0,!Sd.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const c=s.attributes;for(let u=0;u<c.length;u++){const p=c.item(u),y=p.name,E=y.toLowerCase();if(!Yn.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let C=p.value;Td[E]&&(C=ga(C)),Xc[E]&&(r=C,C=(r=String(r)).split(",").map(s=>ga(s.trim())).join(", ")),this.buf.push(" ",y,'="',Mf(C),'"')}var r;return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();Ad.hasOwnProperty(a)&&!Tf.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(Mf(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const Eo=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Jc=/([^\#-~ |!])/g;function Mf(r){return r.replace(/&/g,"&amp;").replace(Eo,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Jc,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let eu;function Mi(r,s){let a=null;try{eu=eu||function Nr(r){const s=new Im(r);return function wy(){try{return!!(new window.DOMParser).parseFromString(Wa(""),"text/html")}catch(r){return!1}}()?new Kc(s):s}(r);let c=s?String(s):"";a=eu.getInertBodyElement(c);let u=5,p=c;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,c=p,p=a.innerHTML,a=eu.getInertBodyElement(c)}while(c!==p);return Wa((new Sm).sanitizeChildren(Md(a)||a))}finally{if(a){const c=Md(a)||a;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Md(r){return"content"in r&&function Mm(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var bn=(()=>((bn=bn||{})[bn.NONE=0]="NONE",bn[bn.HTML=1]="HTML",bn[bn.STYLE=2]="STYLE",bn[bn.SCRIPT=3]="SCRIPT",bn[bn.URL=4]="URL",bn[bn.RESOURCE_URL=5]="RESOURCE_URL",bn))();function Fs(r){const s=function Ka(){const r=De();return r&&r[12]}();return s?s.sanitize(bn.URL,r)||"":qa(r,"URL")?mr(r):ga(Q(r))}const xd="__ngContext__";function Xn(r,s){r[xd]=s}function kd(r){const s=function _a(r){return r[xd]||null}(r);return s?Array.isArray(s)?s:s.lView:null}function Od(r){return r.ngOriginalError}function Ff(r,...s){r.error(...s)}class qn{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),c=function Lm(r){return r&&r.ngErrorLogger||Ff}(s);c(this._console,"ERROR",s),a&&c(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Od(s);for(;a&&Od(a);)a=Od(a);return a||null}}const ql=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(St))();function m(r){return r instanceof Function?r():r}var he=(()=>((he=he||{})[he.Important=1]="Important",he[he.DashCase=2]="DashCase",he))();function $e(r,s){return undefined(r,s)}function hn(r){const s=r[3];return Pi(s)?s[3]:s}function Bd(r){return Ud(r[13])}function Kl(r){return Ud(r[4])}function Ud(r){for(;null!==r&&!Pi(r);)r=r[4];return r}function ya(r,s,a,c,u){if(null!=c){let p,y=!1;Pi(c)?p=c:$i(c)&&(y=!0,c=c[0]);const E=Lt(c);0===r&&null!==a?null==u?ky(s,a,E):Zl(s,a,E,u||null,!0):1===r&&null!==a?Zl(s,a,E,u||null,!0):2===r?function Fy(r,s,a){const c=fi(r,s);c&&function LE(r,s,a,c){$t(r)?r.removeChild(s,a,c):s.removeChild(a)}(r,c,s,a)}(s,E,y):3===r&&s.destroyNode(E),null!=p&&function Ly(r,s,a,c,u){const p=a[7];p!==Lt(a)&&ya(s,r,c,p,u);for(let E=10;E<a.length;E++){const C=a[E];va(C[1],C,r,s,c,p)}}(s,r,p,a,u)}}function jd(r,s,a){if($t(r))return r.createElement(s,a);{const c=null!==a?function gl(r){const s=r.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(a):null;return null===c?r.createElement(s):r.createElementNS(c,s)}}function Jn(r,s){const a=r[9],c=a.indexOf(s),u=s[3];1024&s[2]&&(s[2]&=-1025,ts(u,-1)),a.splice(c,1)}function Lr(r,s){if(r.length<=10)return;const a=10+s,c=r[a];if(c){const u=c[17];null!==u&&u!==r&&Jn(u,c),s>0&&(r[a-1][4]=c[4]);const p=Wn(r,10+s);!function Sy(r,s){va(r,s,s[11],2,null,null),s[0]=null,s[6]=null}(c[1],c);const y=p[19];null!==y&&y.detachView(p[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function Gd(r,s){if(!(256&s[2])){const a=s[11];$t(a)&&a.destroyNode&&va(r,s,a,3,null,null),function My(r){let s=r[13];if(!s)return zd(r[1],r);for(;s;){let a=null;if($i(s))a=s[13];else{const c=s[10];c&&(a=c)}if(!a){for(;s&&!s[4]&&s!==r;)$i(s)&&zd(s[1],s),s=s[3];null===s&&(s=r),$i(s)&&zd(s[1],s),a=s&&s[4]}s=a}}(s)}}function zd(r,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function NE(r,s){let a;if(null!=r&&null!=(a=r.destroyHooks))for(let c=0;c<a.length;c+=2){const u=s[a[c]];if(!(u instanceof co)){const p=a[c+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const E=u[p[y]],C=p[y+1];try{C.call(E)}finally{}}else try{p.call(u)}finally{}}}}(r,s),function FE(r,s){const a=r.cleanup,c=s[7];let u=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const y=a[p+1],E="function"==typeof y?y(s):Lt(s[y]),C=c[u=a[p+2]],T=a[p+3];"boolean"==typeof T?E.removeEventListener(a[p],C,T):T>=0?c[u=T]():c[u=-T].unsubscribe(),p+=2}else{const y=c[u=a[p+1]];a[p].call(y)}if(null!==c){for(let p=u+1;p<c.length;p++)c[p]();s[7]=null}}(r,s),1===s[1].type&&$t(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&Pi(s[3])){a!==s[3]&&Jn(a,s);const c=s[19];null!==c&&c.detachView(r)}}}function xy(r,s,a){return function Um(r,s,a){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return a[0];if(2&c.flags){const u=r.data[c.directiveStart].encapsulation;if(u===Et.None||u===Et.Emulated)return null}return On(c,a)}(r,s.parent,a)}function Zl(r,s,a,c,u){$t(r)?r.insertBefore(s,a,c,u):s.insertBefore(a,c,u)}function ky(r,s,a){$t(r)?r.appendChild(s,a):s.appendChild(a)}function Ry(r,s,a,c,u){null!==c?Zl(r,s,a,c,u):ky(r,s,a)}function fi(r,s){return $t(r)?r.parentNode(s):s.parentNode}function Hm(r,s,a){return Gf(r,s,a)}let Gf=function Py(r,s,a){return 40&r.type?On(r,a):null};function lu(r,s,a,c){const u=xy(r,c,s),p=s[11],E=Hm(c.parent||s[6],c,s);if(null!=u)if(Array.isArray(a))for(let C=0;C<a.length;C++)Ry(p,u,a[C],E,!1);else Ry(p,u,a,E,!1)}function $f(r,s){if(null!==s){const a=s.type;if(3&a)return On(s,r);if(4&a)return jm(-1,r[s.index]);if(8&a){const c=s.child;if(null!==c)return $f(r,c);{const u=r[s.index];return Pi(u)?jm(-1,u):Lt(u)}}if(32&a)return $e(s,r)()||Lt(r[s.index]);{const c=Oy(r,s);return null!==c?Array.isArray(c)?c[0]:$f(hn(r[16]),c):$f(r,s.next)}}return null}function Oy(r,s){return null!==s?r[16][6].projection[s.projection]:null}function jm(r,s){const a=10+r+1;if(a<s.length){const c=s[a],u=c[1].firstChild;if(null!==u)return $f(c,u)}return s[7]}function Gm(r,s,a,c,u,p,y){for(;null!=a;){const E=c[a.index],C=a.type;if(y&&0===s&&(E&&Xn(Lt(E),c),a.flags|=4),64!=(64&a.flags))if(8&C)Gm(r,s,a.child,c,u,p,!1),ya(s,r,u,E,p);else if(32&C){const T=$e(a,c);let x;for(;x=T();)ya(s,r,u,x,p);ya(s,r,u,E,p)}else 16&C?$d(r,s,c,a,u,p):ya(s,r,u,E,p);a=y?a.projectionNext:a.next}}function va(r,s,a,c,u,p){Gm(a,c,r.firstChild,s,u,p,!1)}function $d(r,s,a,c,u,p){const y=a[16],C=y[6].projection[c.projection];if(Array.isArray(C))for(let T=0;T<C.length;T++)ya(s,r,u,C[T],p);else Gm(r,s,C,y[3],u,p,!0)}function Vy(r,s,a){$t(r)?r.setAttribute(s,"style",a):s.style.cssText=a}function zm(r,s,a){$t(r)?""===a?r.removeAttribute(s,"class"):r.setAttribute(s,"class",a):s.className=a}function By(r,s,a){let c=r.length;for(;;){const u=r.indexOf(s,a);if(-1===u)return u;if(0===u||r.charCodeAt(u-1)<=32){const p=s.length;if(u+p===c||r.charCodeAt(u+p)<=32)return u}a=u+1}}const Wf="ng-template";function Uy(r,s,a){let c=0;for(;c<r.length;){let u=r[c++];if(a&&"class"===u){if(u=r[c],-1!==By(u.toLowerCase(),s,0))return!0}else if(1===u){for(;c<r.length&&"string"==typeof(u=r[c++]);)if(u.toLowerCase()===s)return!0;return!1}}return!1}function Yf(r){return 4===r.type&&r.value!==Wf}function Hy(r,s,a){return s===(4!==r.type||a?r.value:Wf)}function Wd(r,s,a){let c=4;const u=r.attrs||[],p=function Ym(r){for(let s=0;s<r.length;s++)if(Rn(r[s]))return s;return r.length}(u);let y=!1;for(let E=0;E<s.length;E++){const C=s[E];if("number"!=typeof C){if(!y)if(4&c){if(c=2|1&c,""!==C&&!Hy(r,C,a)||""===C&&1===s.length){if(Vs(c))return!1;y=!0}}else{const T=8&c?C:s[++E];if(8&c&&null!==r.attrs){if(!Uy(r.attrs,T,a)){if(Vs(c))return!1;y=!0}continue}const L=$m(8&c?"class":C,u,Yf(r),a);if(-1===L){if(Vs(c))return!1;y=!0;continue}if(""!==T){let j;j=L>p?"":u[L+1].toLowerCase();const K=8&c?j:null;if(K&&-1!==By(K,T,0)||2&c&&T!==j){if(Vs(c))return!1;y=!0}}}}else{if(!y&&!Vs(c)&&!Vs(C))return!1;if(y&&Vs(C))continue;y=!1,c=C|1&c}}return Vs(c)||y}function Vs(r){return 0==(1&r)}function $m(r,s,a,c){if(null===s)return-1;let u=0;if(c||!a){let p=!1;for(;u<s.length;){const y=s[u];if(y===r)return u;if(3===y||6===y)p=!0;else{if(1===y||2===y){let E=s[++u];for(;"string"==typeof E;)E=s[++u];continue}if(4===y)break;if(0===y){u+=4;continue}}u+=p?1:2}return-1}return function jy(r,s){let a=r.indexOf(4);if(a>-1)for(a++;a<r.length;){const c=r[a];if("number"==typeof c)return-1;if(c===s)return a;a++}return-1}(s,r)}function Wm(r,s,a=!1){for(let c=0;c<s.length;c++)if(Wd(r,s[c],a))return!0;return!1}function Gy(r,s){e:for(let a=0;a<s.length;a++){const c=s[a];if(r.length===c.length){for(let u=0;u<r.length;u++)if(r[u]!==c[u])continue e;return!0}}return!1}function qf(r,s){return r?":not("+s.trim()+")":s}function HE(r){let s=r[0],a=1,c=2,u="",p=!1;for(;a<r.length;){let y=r[a];if("string"==typeof y)if(2&c){const E=r[++a];u+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&c?u+="."+y:4&c&&(u+=" "+y);else""!==u&&!Vs(y)&&(s+=qf(p,u),u=""),c=y,p=p||!Vs(c);a++}return""!==u&&(s+=qf(p,u)),s}const ht={};function Kf(r){Zf(Dt(),De(),Nn()+r,Xo())}function Zf(r,s,a,c){if(!c)if(3==(3&s[2])){const p=r.preOrderCheckHooks;null!==p&&na(s,p,a)}else{const p=r.preOrderHooks;null!==p&&Sl(s,p,0,a)}Mr(a)}function Yd(r,s){return r<<17|s<<2}function Bs(r){return r>>17&32767}function Km(r){return 2|r}function ba(r){return(131068&r)>>2}function Zm(r,s){return-131069&r|s<<2}function Qm(r){return 1|r}function ng(r,s){const a=r.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const u=a[c],p=a[c+1];if(-1!==p){const y=r.data[p];Il(u),y.contentQueries(2,s[p],p)}}}function Qa(r,s,a,c,u,p,y,E,C,T){const x=s.blueprint.slice();return x[0]=u,x[2]=140|c,es(x),x[3]=x[15]=r,x[8]=a,x[10]=y||r&&r[10],x[11]=E||r&&r[11],x[12]=C||r&&r[12]||null,x[9]=T||r&&r[9]||null,x[6]=p,x[16]=2==s.type?r[16]:x,x}function uu(r,s,a,c,u){let p=r.data[s];if(null===p)p=function ig(r,s,a,c,u){const p=ns(),y=Cl(),C=r.data[s]=function nC(r,s,a,c,u,p){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,a,s,c,u);return null===r.firstChild&&(r.firstChild=C),null!==p&&(y?null==p.child&&null!==C.parent&&(p.child=C):null===p.next&&(p.next=C)),C}(r,s,a,c,u),function Jo(){return tt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=c,p.attrs=u;const y=function Qo(){const r=tt.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return ai(p,!0),p}function du(r,s,a,c){if(0===a)return-1;const u=s.length;for(let p=0;p<a;p++)s.push(c),r.blueprint.push(c),r.data.push(null);return u}function qd(r,s,a){Ss(s);try{const c=r.viewQuery;null!==c&&hg(1,c,a);const u=r.template;null!==u&&rv(r,s,u,1,a),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&ng(r,s),r.staticViewQueries&&hg(2,r.viewQuery,a);const p=r.components;null!==p&&function iv(r,s){for(let a=0;a<s.length;a++)oC(r,s[a])}(s,p)}catch(c){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),c}finally{s[2]&=-5,lo()}}function Jl(r,s,a,c){const u=s[2];if(256==(256&u))return;Ss(s);const p=Xo();try{es(s),function Dl(r){return tt.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==a&&rv(r,s,a,2,c);const y=3==(3&u);if(!p)if(y){const T=r.preOrderCheckHooks;null!==T&&na(s,T,null)}else{const T=r.preOrderHooks;null!==T&&Sl(s,T,0,null),Ba(s,0)}if(function pv(r){for(let s=Bd(r);null!==s;s=Kl(s)){if(!s[2])continue;const a=s[9];for(let c=0;c<a.length;c++){const u=a[c],p=u[3];0==(1024&u[2])&&ts(p,1),u[2]|=1024}}}(s),function ug(r){for(let s=Bd(r);null!==s;s=Kl(s))for(let a=10;a<s.length;a++){const c=s[a],u=c[1];sr(c)&&Jl(u,c,u.template,c[8])}}(s),null!==r.contentQueries&&ng(r,s),!p)if(y){const T=r.contentCheckHooks;null!==T&&na(s,T)}else{const T=r.contentHooks;null!==T&&Sl(s,T,1),Ba(s,1)}!function YI(r,s){const a=r.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const u=a[c];if(u<0)Mr(~u);else{const p=u,y=a[++c],E=a[++c];ea(y,p),E(2,s[p])}}}finally{Mr(-1)}}(r,s);const E=r.components;null!==E&&function tC(r,s){for(let a=0;a<s.length;a++)mi(r,s[a])}(s,E);const C=r.viewQuery;if(null!==C&&hg(2,C,c),!p)if(y){const T=r.viewCheckHooks;null!==T&&na(s,T)}else{const T=r.viewHooks;null!==T&&Sl(s,T,2),Ba(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),p||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,ts(s[3],-1))}finally{lo()}}function qI(r,s,a,c){const u=s[10],p=!Xo(),y=oo(s);try{p&&!y&&u.begin&&u.begin(),y&&qd(r,s,c),Jl(r,s,a,c)}finally{p&&!y&&u.end&&u.end()}}function rv(r,s,a,c,u){const p=Nn(),y=2&c;try{Mr(-1),y&&s.length>20&&Zf(r,s,20,Xo()),a(c,u)}finally{Mr(p)}}function hu(r,s,a){!El()||(function ec(r,s,a,c){const u=a.directiveStart,p=a.directiveEnd;r.firstCreatePass||Rr(a,s),Xn(c,s);const y=a.initialInputs;for(let E=u;E<p;E++){const C=r.data[E],T=Oi(C);T&&rp(s,a,C);const x=Li(s,r,E,a);Xn(x,s),null!==y&&Do(0,E-u,x,C,0,y),T&&(Fn(a.index,s)[8]=x)}}(r,s,a,On(a,s)),128==(128&a.flags)&&function hv(r,s,a){const c=a.directiveStart,u=a.directiveEnd,y=a.index,E=function Vc(){return tt.lFrame.currentDirectiveIndex}();try{Mr(y);for(let C=c;C<u;C++){const T=r.data[C],x=s[C];Ts(C),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&lg(T,x)}}finally{Mr(-1),Ts(E)}}(r,s,a))}function Kd(r,s,a=On){const c=s.localNames;if(null!==c){let u=s.index+1;for(let p=0;p<c.length;p+=2){const y=c[p+1],E=-1===y?a(s,r):r[y];r[u++]=E}}}function ov(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=Zd(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):s}function Zd(r,s,a,c,u,p,y,E,C,T){const x=20+c,L=x+u,j=function rg(r,s){const a=[];for(let c=0;c<s;c++)a.push(c<r?null:ht);return a}(x,L),K="function"==typeof T?T():T;return j[1]={type:r,blueprint:j,template:a,queries:null,viewQuery:E,declTNode:s,data:j.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:C,consts:K,incompleteFirstPass:!1}}function av(r,s,a,c){const u=th(s);null===a?u.push(c):(u.push(a),r.firstCreatePass&&fg(r).push(c,u.length-1))}function iC(r,s,a){for(let c in r)if(r.hasOwnProperty(c)){const u=r[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(s,u):a[c]=[s,u]}return a}function Ki(r,s,a,c,u,p,y,E){const C=On(s,a);let x,T=s.inputs;!E&&null!=T&&(x=T[c])?(gg(r,a,x,c,u),Ra(s)&&function uv(r,s){const a=Fn(s,r);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(c=function cv(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(c),u=null!=y?y(u,s.value||"",c):u,$t(p)?p.setProperty(C,c,u):sa(c)||(C.setProperty?C.setProperty(c,u):C[c]=u))}function ip(r,s,a,c){let u=!1;if(El()){const p=function pi(r,s,a){const c=r.directiveRegistry;let u=null;if(c)for(let p=0;p<c.length;p++){const y=c[p];Wm(a,y.selectors,!1)&&(u||(u=[]),ci(Rr(a,s),r,y.type),Oi(y)?(pu(r,a),u.unshift(y)):u.push(y))}return u}(r,s,a),y=null===c?null:{"":-1};if(null!==p){u=!0,Ui(a,r.data.length,p.length);for(let x=0;x<p.length;x++){const L=p[x];L.providersResolver&&L.providersResolver(L)}let E=!1,C=!1,T=du(r,s,p.length,null);for(let x=0;x<p.length;x++){const L=p[x];a.mergedAttrs=Di(a.mergedAttrs,L.hostAttrs),fv(r,a,s,T,L),Co(T,L,y),null!==L.contentQueries&&(a.flags|=8),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(a.flags|=128);const j=L.type.prototype;!E&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(a.index),E=!0),!C&&(j.ngOnChanges||j.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(a.index),C=!0),T++}!function lv(r,s){const c=s.directiveEnd,u=r.data,p=s.attrs,y=[];let E=null,C=null;for(let T=s.directiveStart;T<c;T++){const x=u[T],L=x.inputs,j=null===p||Yf(s)?null:tc(L,p);y.push(j),E=iC(L,T,E),C=iC(x.outputs,T,C)}null!==E&&(E.hasOwnProperty("class")&&(s.flags|=16),E.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=y,s.inputs=E,s.outputs=C}(r,a)}y&&function cg(r,s,a){if(s){const c=r.localNames=[];for(let u=0;u<s.length;u+=2){const p=a[s[u+1]];if(null==p)throw new Me(-301,!1);c.push(s[u],p)}}}(a,c,y)}return a.mergedAttrs=Di(a.mergedAttrs,a.attrs),u}function ag(r,s,a,c,u,p){const y=p.hostBindings;if(y){let E=r.hostBindingOpCodes;null===E&&(E=r.hostBindingOpCodes=[]);const C=~s.index;(function Qd(r){let s=r.length;for(;s>0;){const a=r[--s];if("number"==typeof a&&a<0)return a}return 0})(E)!=C&&E.push(C),E.push(c,u,y)}}function lg(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function pu(r,s){s.flags|=2,(r.components||(r.components=[])).push(s.index)}function Co(r,s,a){if(a){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)a[s.exportAs[c]]=r;Oi(s)&&(a[""]=r)}}function Ui(r,s,a){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+a,r.providerIndexes=s}function fv(r,s,a,c,u){r.data[c]=u;const p=u.factory||(u.factory=Fi(u.type)),y=new co(p,Oi(u),null);r.blueprint[c]=y,a[c]=y,ag(r,s,0,c,du(r,a,u.hostVars,ht),u)}function rp(r,s,a){const c=On(s,r),u=ov(a),p=r[10],y=op(r,Qa(r,u,null,a.onPush?64:16,c,s,p,p.createRenderer(c,a),null,null));r[s.index]=y}function wo(r,s,a,c,u,p){const y=On(r,s);!function Us(r,s,a,c,u,p,y){if(null==p)$t(r)?r.removeAttribute(s,u,a):s.removeAttribute(u);else{const E=null==y?Q(p):y(p,c||"",u);$t(r)?r.setAttribute(s,u,E,a):a?s.setAttributeNS(a,u,E):s.setAttribute(u,E)}}(s[11],y,p,r.value,a,c,u)}function Do(r,s,a,c,u,p){const y=p[s];if(null!==y){const E=c.setInput;for(let C=0;C<y.length;){const T=y[C++],x=y[C++],L=y[C++];null!==E?c.setInput(a,L,T,x):a[x]=L}}}function tc(r,s){let a=null,c=0;for(;c<s.length;){const u=s[c];if(0!==u)if(5!==u){if("number"==typeof u)break;r.hasOwnProperty(u)&&(null===a&&(a=[]),a.push(u,r[u],s[c+1])),c+=2}else c+=2;else c+=4}return a}function mu(r,s,a,c){return new Array(r,!0,!1,s,null,0,c,a,null,null)}function mi(r,s){const a=Fn(s,r);if(sr(a)){const c=a[1];80&a[2]?Jl(c,a,c.template,a[8]):a[5]>0&&sp(a)}}function sp(r){for(let c=Bd(r);null!==c;c=Kl(c))for(let u=10;u<c.length;u++){const p=c[u];if(1024&p[2]){const y=p[1];Jl(y,p,y.template,p[8])}else p[5]>0&&sp(p)}const a=r[1].components;if(null!==a)for(let c=0;c<a.length;c++){const u=Fn(a[c],r);sr(u)&&u[5]>0&&sp(u)}}function oC(r,s){const a=Fn(s,r),c=a[1];(function aC(r,s){for(let a=s.length;a<r.blueprint.length;a++)s.push(r.blueprint[a])})(c,a),qd(c,a,a[8])}function op(r,s){return r[13]?r[14][4]=s:r[13]=s,r[14]=s,s}function dg(r){for(;r;){r[2]|=64;const s=hn(r);if(pl(r)&&!s)return r;r=s}return null}function gu(r,s,a){const c=s[10];c.begin&&c.begin();try{Jl(r,s,r.template,a)}catch(u){throw mg(s,u),u}finally{c.end&&c.end()}}function nc(r){!function Xd(r){for(let s=0;s<r.components.length;s++){const a=r.components[s],c=kd(a),u=c[1];qI(u,c,u.template,a)}}(r[8])}function hg(r,s,a){Il(0),s(r,a)}const eh=(()=>Promise.resolve(null))();function th(r){return r[7]||(r[7]=[])}function fg(r){return r.cleanup||(r.cleanup=[])}function mg(r,s){const a=r[9],c=a?a.get(qn,null):null;c&&c.handleError(s)}function gg(r,s,a,c,u){for(let p=0;p<a.length;){const y=a[p++],E=a[p++],C=s[y],T=r.data[y];null!==T.setInput?T.setInput(C,u,c,E):C[E]=u}}function Io(r,s,a){const c=As(s,r);!function Bf(r,s,a){$t(r)?r.setValue(s,a):s.textContent=a}(r[11],c,a)}function nh(r,s,a){let c=a?r.styles:null,u=a?r.classes:null,p=0;if(null!==s)for(let y=0;y<s.length;y++){const E=s[y];"number"==typeof E?p=E:1==p?u=ce(u,E):2==p&&(c=ce(c,E+": "+s[++y]+";"))}a?r.styles=c:r.stylesWithoutHost=c,a?r.classes=u:r.classesWithoutHost=u}const ap=new un("INJECTOR",-1);class lp{get(s,a=cs){if(a===cs){const c=new Error(`NullInjectorError: No provider for ${pe(s)}!`);throw c.name="NullInjectorError",c}return a}}const yg=new un("Set Injector scope."),_u={},dC={};let ih;function cp(){return void 0===ih&&(ih=new lp),ih}function up(r,s=null,a=null,c){const u=gv(r,s,a,c);return u._resolveInjectorDefTypes(),u}function gv(r,s=null,a=null,c){return new hC(r,a,s||cp(),c)}class hC{constructor(s,a,c,u=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];a&&Ii(a,E=>this.processProvider(E,s,a)),Ii([s],E=>this.processInjectorType(E,[],p)),this.records.set(ap,ic(void 0,this));const y=this.records.get(yg);this.scope=null!=y?y.value:null,this.source=u||("object"==typeof s?null:pe(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=cs,c=at.Default){this.assertNotDestroyed();const u=se(this),p=pn(void 0);try{if(!(c&at.SkipSelf)){let E=this.records.get(s);if(void 0===E){const C=function vv(r){return"function"==typeof r||"object"==typeof r&&r instanceof un}(s)&&At(s);E=C&&this.injectableDefInScope(C)?ic(dp(s),_u):null,this.records.set(s,E)}if(null!=E)return this.hydrate(s,E)}return(c&at.Self?cp():this.parent).get(s,a=c&at.Optional&&a===cs?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[pa]=y[pa]||[]).unshift(pe(s)),u)throw y;return function sn(r,s,a,c){const u=r[pa];throw s[k]&&u.unshift(s[k]),r.message=function vo(r,s,a,c=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let u=pe(s);if(Array.isArray(s))u=s.map(pe).join(" -> ");else if("object"==typeof s){let p=[];for(let y in s)if(s.hasOwnProperty(y)){let E=s[y];p.push(y+":"+("string"==typeof E?JSON.stringify(E):pe(E)))}u=`{${p.join(", ")}}`}return`${a}${c?"("+c+")":""}[${u}]: ${r.replace(w,"\n  ")}`}("\n"+r.message,u,a,c),r.ngTokenPath=u,r[pa]=null,r}(y,s,"R3InjectorError",this.source)}throw y}finally{pn(p),se(u)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((c,u)=>s.push(pe(u))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Me(205,!1)}processInjectorType(s,a,c){if(!(s=ee(s)))return!1;let u=ti(s);const p=null==u&&s.ngModule||void 0,y=void 0===p?s:p,E=-1!==c.indexOf(y);if(void 0!==p&&(u=ti(p)),null==u)return!1;if(null!=u.imports&&!E){let x;c.push(y);try{Ii(u.imports,L=>{this.processInjectorType(L,a,c)&&(void 0===x&&(x=[]),x.push(L))})}finally{}if(void 0!==x)for(let L=0;L<x.length;L++){const{ngModule:j,providers:K}=x[L];Ii(K,ye=>this.processProvider(ye,j,K||B))}}this.injectorDefTypes.add(y);const C=Fi(y)||(()=>new y);this.records.set(y,ic(C,_u));const T=u.providers;if(null!=T&&!E){const x=s;Ii(T,L=>this.processProvider(L,x,T))}return void 0!==p&&void 0!==s.providers}processProvider(s,a,c){let u=yu(s=ee(s))?s:ee(s&&s.provide);const p=function pC(r,s,a){return vg(r)?ic(void 0,r.useValue):ic(_v(r),_u)}(s);if(yu(s)||!0!==s.multi)this.records.get(u);else{let y=this.records.get(u);y||(y=ic(void 0,_u,!0),y.factory=()=>Ut(y.multi),this.records.set(u,y)),u=s,y.multi.push(s)}this.records.set(u,p)}hydrate(s,a){return a.value===_u&&(a.value=dC,a.value=a.factory()),"object"==typeof a.value&&a.value&&function yC(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=ee(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function dp(r){const s=At(r),a=null!==s?s.factory:Fi(r);if(null!==a)return a;if(r instanceof un)throw new Me(204,!1);if(r instanceof Function)return function fC(r){const s=r.length;if(s>0)throw Bt(s,"?"),new Me(204,!1);const a=function jn(r){const s=r&&(r[ir]||r[_i]);if(s){const a=function Wr(r){if(r.hasOwnProperty("name"))return r.name;const s=(""+r).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(r);return null!==a?()=>a.factory(r):()=>new r}(r);throw new Me(204,!1)}function _v(r,s,a){let c;if(yu(r)){const u=ee(r);return Fi(u)||dp(u)}if(vg(r))c=()=>ee(r.useValue);else if(function mC(r){return!(!r||!r.useFactory)}(r))c=()=>r.useFactory(...Ut(r.deps||[]));else if(function yv(r){return!(!r||!r.useExisting)}(r))c=()=>Oe(ee(r.useExisting));else{const u=ee(r&&(r.useClass||r.provide));if(!function _C(r){return!!r.deps}(r))return Fi(u)||dp(u);c=()=>new u(...Ut(r.deps))}return c}function ic(r,s,a=!1){return{factory:r,value:s,multi:a?[]:void 0}}function vg(r){return null!==r&&"object"==typeof r&&V in r}function yu(r){return"function"==typeof r}let Vr=(()=>{class r{static create(a,c){var u;if(Array.isArray(a))return up({name:""},c,a,"");{const p=null!==(u=a.name)&&void 0!==u?u:"";return up({name:p},a.parent,a.providers,p)}}}return r.THROW_IF_NOT_FOUND=cs,r.NULL=new lp,r.\u0275prov=Pt({token:r,providedIn:"any",factory:()=>Oe(ap)}),r.__NG_ELEMENT_ID__=-1,r})();function pp(r,s){xr(kd(r)[1],nn())}function Ht(r){let s=function Ag(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),a=!0;const c=[r];for(;s;){let u;if(Oi(r))u=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Me(903,"");u=s.\u0275dir}if(u){if(a){c.push(u);const y=r;y.inputs=It(r.inputs),y.declaredInputs=It(r.declaredInputs),y.outputs=It(r.outputs);const E=u.hostBindings;E&&Tg(r,E);const C=u.viewQuery,T=u.contentQueries;if(C&&Ja(r,C),T&&Jt(r,T),ne(r.inputs,u.inputs),ne(r.declaredInputs,u.declaredInputs),ne(r.outputs,u.outputs),Oi(u)&&u.data.animation){const x=r.data;x.animation=(x.animation||[]).concat(u.data.animation)}}const p=u.features;if(p)for(let y=0;y<p.length;y++){const E=p[y];E&&E.ngInherit&&E(r),E===Ht&&(a=!1)}}s=Object.getPrototypeOf(s)}!function jt(r){let s=0,a=null;for(let c=r.length-1;c>=0;c--){const u=r[c];u.hostVars=s+=u.hostVars,u.hostAttrs=Di(u.hostAttrs,a=Di(a,u.hostAttrs))}}(c)}function It(r){return r===Ri?{}:r===B?[]:r}function Ja(r,s){const a=r.viewQuery;r.viewQuery=a?(c,u)=>{s(c,u),a(c,u)}:s}function Jt(r,s){const a=r.contentQueries;r.contentQueries=a?(c,u,p)=>{s(c,u,p),a(c,u,p)}:s}function Tg(r,s){const a=r.hostBindings;r.hostBindings=a?(c,u)=>{s(c,u),a(c,u)}:s}let en=null;function gt(){if(!en){const r=St.Symbol;if(r&&r.iterator)en=r.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const c=s[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(en=c)}}}return en}function ah(r){return!!Mg(r)&&(Array.isArray(r)||!(r instanceof Map)&&gt()in r)}function Mg(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function xi(r,s,a){return!Object.is(r[s],a)&&(r[s]=a,!0)}function xg(r,s,a,c){const u=De();return xi(u,or(),s)&&(Dt(),wo(cn(),u,r,s,a,c)),xg}function sc(r,s,a,c){return xi(r,or(),a)?s+Q(a)+c:ht}function Mv(r,s,a,c,u,p,y,E){const C=De(),T=Dt(),x=r+20,L=T.firstCreatePass?function Rg(r,s,a,c,u,p,y,E,C){const T=s.consts,x=uu(s,r,4,y||null,wi(T,E));ip(s,a,x,wi(T,C)),xr(s,x);const L=x.tViews=Zd(2,x,c,u,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,T);return null!==s.queries&&(s.queries.template(s,x),L.queries=s.queries.embeddedTView(x)),x}(x,T,C,s,a,c,u,p,y):T.data[x];ai(L,!1);const j=C[11].createComment("");lu(T,C,j,L),Xn(j,C),op(C,C[x]=mu(j,C,j,L)),Qr(L)&&hu(T,C,L),null!=y&&Kd(C,L,E)}function Pg(r){return Tr(function Nc(){return tt.lFrame.contextLView}(),20+r)}function ac(r,s=at.Default){const a=De();return null===a?Oe(r,s):po(nn(),a,ee(r),s)}function Vv(){throw new Error("invalid")}function ph(r,s,a){const c=De();return xi(c,or(),s)&&Ki(Dt(),cn(),c,r,s,c[11],a,!1),ph}function Bg(r,s,a,c,u){const y=u?"class":"style";gg(r,a,s.inputs[y],y,c)}function mh(r,s,a,c){const u=De(),p=Dt(),y=20+r,E=u[11],C=u[y]=jd(E,s,function Uc(){return tt.lFrame.currentNamespace}()),T=p.firstCreatePass?function bp(r,s,a,c,u,p,y){const E=s.consts,T=uu(s,r,2,u,wi(E,p));return ip(s,a,T,wi(E,y)),null!==T.attrs&&nh(T,T.attrs,!1),null!==T.mergedAttrs&&nh(T,T.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,T),T}(y,p,u,0,s,a,c):p.data[y];ai(T,!0);const x=T.mergedAttrs;null!==x&&Ft(E,C,x);const L=T.classes;null!==L&&zm(E,C,L);const j=T.styles;return null!==j&&Vy(E,C,j),64!=(64&T.flags)&&lu(p,u,C,T),0===function Yo(){return tt.lFrame.elementDepthCount}()&&Xn(C,u),function Oc(){tt.lFrame.elementDepthCount++}(),Qr(T)&&(hu(p,u,T),function sv(r,s,a){if(Dc(s)){const u=s.directiveEnd;for(let p=s.directiveStart;p<u;p++){const y=r.data[p];y.contentQueries&&y.contentQueries(1,a[p],p)}}}(p,T,u)),null!==c&&Kd(u,T),mh}function gh(){let r=nn();Cl()?wl():(r=r.parent,ai(r,!1));const s=r;!function qo(){tt.lFrame.elementDepthCount--}();const a=Dt();return a.firstCreatePass&&(xr(a,r),Dc(r)&&a.queries.elementEnd(r)),null!=s.classesWithoutHost&&function Hc(r){return 0!=(16&r.flags)}(s)&&Bg(a,s,De(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function mf(r){return 0!=(32&r.flags)}(s)&&Bg(a,s,De(),s.stylesWithoutHost,!1),gh}function Ru(r,s,a,c){return mh(r,s,a,c),gh(),Ru}function Bv(){return De()}function Ug(r){return!!r&&"function"==typeof r.then}function Hg(r){return!!r&&"function"==typeof r.subscribe}const Uv=Hg;function jg(r,s,a,c){const u=De(),p=Dt(),y=nn();return function wp(r,s,a,c,u,p,y,E){const C=Qr(c),x=r.firstCreatePass&&fg(r),L=s[8],j=th(s);let K=!0;if(3&c.type||E){const Ue=On(c,s),Le=E?E(Ue):Ue,we=j.length,ot=E?Mt=>E(Lt(Mt[c.index])):c.index;if($t(a)){let Mt=null;if(!E&&C&&(Mt=function ps(r,s,a,c){const u=r.cleanup;if(null!=u)for(let p=0;p<u.length-1;p+=2){const y=u[p];if(y===a&&u[p+1]===c){const E=s[7],C=u[p+2];return E.length>C?E[C]:null}"string"==typeof y&&(p+=2)}return null}(r,s,u,c.index)),null!==Mt)(Mt.__ngLastListenerFn__||Mt).__ngNextListenerFn__=p,Mt.__ngLastListenerFn__=p,K=!1;else{p=yh(c,s,L,p,!1);const Zt=a.listen(Le,u,p);j.push(p,Zt),x&&x.push(u,ot,we,we+1)}}else p=yh(c,s,L,p,!0),Le.addEventListener(u,p,y),j.push(p),x&&x.push(u,ot,we,y)}else p=yh(c,s,L,p,!1);const ye=c.outputs;let Pe;if(K&&null!==ye&&(Pe=ye[u])){const Ue=Pe.length;if(Ue)for(let Le=0;Le<Ue;Le+=2){const ys=s[Pe[Le]][Pe[Le+1]].subscribe(p),yc=j.length;j.push(p,ys),x&&x.push(u,c.index,yc,-(yc+1))}}}(p,u,u[11],y,r,s,!!a,c),jg}function Dp(r,s,a,c){try{return!1!==a(c)}catch(u){return mg(r,u),!1}}function yh(r,s,a,c,u){return function p(y){if(y===Function)return c;const E=2&r.flags?Fn(r.index,s):s;0==(32&s[2])&&dg(E);let C=Dp(s,0,c,y),T=p.__ngNextListenerFn__;for(;T;)C=Dp(s,0,T,y)&&C,T=T.__ngNextListenerFn__;return u&&!1===C&&(y.preventDefault(),y.returnValue=!1),C}}function vh(r=1){return function ar(r){return(tt.lFrame.contextLView=function od(r,s){for(;r>0;)s=s[15],r--;return s}(r,tt.lFrame.contextLView))[8]}(r)}function bh(r,s){let a=null;const c=function UE(r){const s=r.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(r);for(let u=0;u<s.length;u++){const p=s[u];if("*"!==p){if(null===c?Wm(r,p,!0):Gy(c,p))return u}else a=u}return a}function il(r){const s=De()[16][6];if(!s.projection){const c=s.projection=Bt(r?r.length:1,null),u=c.slice();let p=s.child;for(;null!==p;){const y=r?bh(p,r):0;null!==y&&(u[y]?u[y].projectionNext=p:c[y]=p,u[y]=p),p=p.next}}}function lc(r,s=0,a){const c=De(),u=Dt(),p=uu(u,20+r,16,null,a||null);null===p.projection&&(p.projection=s),wl(),64!=(64&p.flags)&&function Ny(r,s,a){$d(s[11],0,s,a,xy(r,a,s),Hm(a.parent||s[6],a,s))}(u,c,p)}function To(r,s,a){return Gg(r,"",s,"",a),To}function Gg(r,s,a,c,u){const p=De(),y=sc(p,s,a,c);return y!==ht&&Ki(Dt(),cn(),p,r,y,p[11],u,!1),Gg}function tn(r,s,a,c,u){const p=r[a+1],y=null===s;let E=c?Bs(p):ba(p),C=!1;for(;0!==E&&(!1===C||y);){const x=r[E+1];js(r[E],s)&&(C=!0,r[E+1]=c?Qm(x):Km(x)),E=c?Bs(x):ba(x)}C&&(r[a+1]=c?Km(p):Qm(p))}function js(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&ua(r,s)>=0}function Yg(r,s){return function zs(r,s,a,c){const u=De(),p=Dt(),y=function Sr(r){const s=tt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,a}(2);p.firstUpdatePass&&function eb(r,s,a,c){const u=r.data;if(null===u[a+1]){const p=u[Nn()],y=function Jv(r,s){return s>=r.expandoStartIndex}(r,a);(function sb(r,s){return 0!=(r.flags&(s?16:32))})(p,c)&&null===s&&!y&&(s=!1),s=function LC(r,s,a,c){const u=function La(r){const s=tt.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}(r);let p=c?s.residualClasses:s.residualStyles;if(null===u)0===(c?s.classBindings:s.styleBindings)&&(a=wh(a=Nu(null,r,s,a,c),s.attrs,c),p=null);else{const y=s.directiveStylingLast;if(-1===y||r[y]!==u)if(a=Nu(u,r,s,a,c),null===p){let C=function Sp(r,s,a){const c=a?s.classBindings:s.styleBindings;if(0!==ba(c))return r[Bs(c)]}(r,s,c);void 0!==C&&Array.isArray(C)&&(C=Nu(null,r,s,C[1],c),C=wh(C,s.attrs,c),function qg(r,s,a,c){r[Bs(a?s.classBindings:s.styleBindings)]=c}(r,s,c,C))}else p=function tb(r,s,a){let c;const u=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<u;p++)c=wh(c,r[p].hostAttrs,a);return wh(c,s.attrs,a)}(r,s,c)}return void 0!==p&&(c?s.residualClasses=p:s.residualStyles=p),a}(u,p,s,c),function $g(r,s,a,c,u,p){let y=p?s.classBindings:s.styleBindings,E=Bs(y),C=ba(y);r[c]=a;let x,T=!1;if(Array.isArray(a)){const L=a;x=L[1],(null===x||ua(L,x)>0)&&(T=!0)}else x=a;if(u)if(0!==C){const j=Bs(r[E+1]);r[c+1]=Yd(j,E),0!==j&&(r[j+1]=Zm(r[j+1],c)),r[E+1]=function Xf(r,s){return 131071&r|s<<17}(r[E+1],c)}else r[c+1]=Yd(E,0),0!==E&&(r[E+1]=Zm(r[E+1],c)),E=c;else r[c+1]=Yd(C,0),0===E?E=c:r[C+1]=Zm(r[C+1],c),C=c;T&&(r[c+1]=Km(r[c+1])),tn(r,x,c,!0),tn(r,x,c,!1),function FC(r,s,a,c,u){const p=u?r.residualClasses:r.residualStyles;null!=p&&"string"==typeof s&&ua(p,s)>=0&&(a[c+1]=Qm(a[c+1]))}(s,x,r,c,p),y=Yd(E,C),p?s.classBindings=y:s.styleBindings=y}(u,p,s,a,y,c)}}(p,r,y,c),s!==ht&&xi(u,y,s)&&function ib(r,s,a,c,u,p,y,E){if(!(3&s.type))return;const C=r.data,T=C[E+1];Dh(function zy(r){return 1==(1&r)}(T)?rb(C,s,a,u,ba(T),y):void 0)||(Dh(p)||function qm(r){return 2==(2&r)}(T)&&(p=rb(C,null,a,u,E,y)),function VE(r,s,a,c,u){const p=$t(r);if(s)u?p?r.addClass(a,c):a.classList.add(c):p?r.removeClass(a,c):a.classList.remove(c);else{let y=-1===c.indexOf("-")?void 0:he.DashCase;if(null==u)p?r.removeStyle(a,c,y):a.style.removeProperty(c);else{const E="string"==typeof u&&u.endsWith("!important");E&&(u=u.slice(0,-10),y|=he.Important),p?r.setStyle(a,c,u,y):a.style.setProperty(c,u,E?"important":"")}}}(c,y,As(Nn(),a),u,p))}(p,p.data[Nn()],u,u[11],r,u[y+1]=function Qg(r,s){return null==r||("string"==typeof s?r+=s:"object"==typeof r&&(r=pe(mr(r)))),r}(s,a),c,y)}(r,s,null,!0),Yg}function Nu(r,s,a,c,u){let p=null;const y=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<y&&(p=s[E],c=wh(c,p.hostAttrs,u),p!==r);)E++;return null!==r&&(a.directiveStylingLast=E),c}function wh(r,s,a){const c=a?1:2;let u=-1;if(null!==s)for(let p=0;p<s.length;p++){const y=s[p];"number"==typeof y?u=y:u===c&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),ui(r,y,!!a||s[++p]))}return void 0===r?null:r}function rb(r,s,a,c,u,p){const y=null===s;let E;for(;u>0;){const C=r[u],T=Array.isArray(C),x=T?C[1]:C,L=null===x;let j=a[u+1];j===ht&&(j=L?B:void 0);let K=L?zc(j,c):x===c?j:void 0;if(T&&!Dh(K)&&(K=zc(C,c)),Dh(K)&&(E=K,y))return E;const ye=r[u+1];u=y?Bs(ye):ba(ye)}if(null!==s){let C=p?s.residualClasses:s.residualStyles;null!=C&&(E=zc(C,c))}return E}function Dh(r){return void 0!==r}function ob(r,s=""){const a=De(),c=Dt(),u=r+20,p=c.firstCreatePass?uu(c,u,1,s,null):c.data[u],y=a[u]=function Hd(r,s){return $t(r)?r.createText(s):r.createTextNode(s)}(a[11],s);lu(c,a,y,p),ai(p,!1)}function Xg(r){return Jg("",r,""),Xg}function Jg(r,s,a){const c=De(),u=sc(c,r,s,a);return u!==ht&&Io(c,Nn(),u),Jg}function Lu(r,s,a){const c=De();return xi(c,or(),s)&&Ki(Dt(),cn(),c,r,s,c[11],a,!0),Lu}const cc=void 0;var _b=["en",[["a","p"],["AM","PM"],cc],[["AM","PM"],cc,cc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],cc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],cc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",cc,"{1} 'at' {0}",cc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function KC(r){const a=Math.floor(Math.abs(r)),c=r.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let sl={};function xo(r){const s=function ZC(r){return r.toLowerCase().replace(/_/g,"-")}(r);let a=vb(s);if(a)return a;const c=s.split("-")[0];if(a=vb(c),a)return a;if("en"===c)return _b;throw new Error(`Missing locale data for the locale "${r}".`)}function yb(r){return xo(r)[st.PluralCase]}function vb(r){return r in sl||(sl[r]=St.ng&&St.ng.common&&St.ng.common.locales&&St.ng.common.locales[r]),sl[r]}var st=(()=>((st=st||{})[st.LocaleId=0]="LocaleId",st[st.DayPeriodsFormat=1]="DayPeriodsFormat",st[st.DayPeriodsStandalone=2]="DayPeriodsStandalone",st[st.DaysFormat=3]="DaysFormat",st[st.DaysStandalone=4]="DaysStandalone",st[st.MonthsFormat=5]="MonthsFormat",st[st.MonthsStandalone=6]="MonthsStandalone",st[st.Eras=7]="Eras",st[st.FirstDayOfWeek=8]="FirstDayOfWeek",st[st.WeekendRange=9]="WeekendRange",st[st.DateFormat=10]="DateFormat",st[st.TimeFormat=11]="TimeFormat",st[st.DateTimeFormat=12]="DateTimeFormat",st[st.NumberSymbols=13]="NumberSymbols",st[st.NumberFormats=14]="NumberFormats",st[st.CurrencyCode=15]="CurrencyCode",st[st.CurrencySymbol=16]="CurrencySymbol",st[st.CurrencyName=17]="CurrencyName",st[st.Currencies=18]="Currencies",st[st.Directionality=19]="Directionality",st[st.PluralCase=20]="PluralCase",st[st.ExtraData=21]="ExtraData",st))();const uc="en-US";let Sh=uc;function ll(r,s,a,c,u){if(r=ee(r),Array.isArray(r))for(let p=0;p<r.length;p++)ll(r[p],s,a,c,u);else{const p=Dt(),y=De();let E=yu(r)?r:ee(r.provide),C=_v(r);const T=nn(),x=1048575&T.providerIndexes,L=T.directiveStart,j=T.providerIndexes>>20;if(yu(r)||!r.multi){const K=new co(C,u,ac),ye=Hp(E,s,u?x:x+j,L);-1===ye?(ci(Rr(T,y),p,E),I_(p,r,s.length),s.push(E),T.directiveStart++,T.directiveEnd++,u&&(T.providerIndexes+=1048576),a.push(K),y.push(K)):(a[ye]=K,y[ye]=K)}else{const K=Hp(E,s,x+j,L),ye=Hp(E,s,x,x+j),Pe=K>=0&&a[K],Ue=ye>=0&&a[ye];if(u&&!Ue||!u&&!Pe){ci(Rr(T,y),p,E);const Le=function T_(r,s,a,c,u){const p=new co(r,a,ac);return p.multi=[],p.index=s,p.componentProviders=0,A_(p,u,c&&!a),p}(u?jp:Vb,a.length,u,c,C);!u&&Ue&&(a[ye].providerFactory=Le),I_(p,r,s.length,0),s.push(E),T.directiveStart++,T.directiveEnd++,u&&(T.providerIndexes+=1048576),a.push(Le),y.push(Le)}else I_(p,r,K>-1?K:ye,A_(a[u?ye:K],C,!u&&c));!u&&c&&Ue&&a[ye].componentProviders++}}}function I_(r,s,a,c){const u=yu(s),p=function gC(r){return!!r.useClass}(s);if(u||p){const C=(p?ee(s.useClass):s).prototype.ngOnDestroy;if(C){const T=r.destroyHooks||(r.destroyHooks=[]);if(!u&&s.multi){const x=T.indexOf(a);-1===x?T.push(a,[c,C]):T[x+1].push(c,C)}else T.push(a,C)}}}function A_(r,s,a){return a&&r.componentProviders++,r.multi.push(s)-1}function Hp(r,s,a,c){for(let u=a;u<c;u++)if(s[u]===r)return u;return-1}function Vb(r,s,a,c){return Oh(this.multi,[])}function jp(r,s,a,c){const u=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=Li(a,a[1],this.providerFactory.index,c);p=E.slice(0,y),Oh(u,p);for(let C=y;C<E.length;C++)p.push(E[C])}else p=[],Oh(u,p);return p}function Oh(r,s){for(let a=0;a<r.length;a++)s.push((0,r[a])());return s}function Bb(r,s=[]){return a=>{a.providersResolver=(c,u)=>function _w(r,s,a){const c=Dt();if(c.firstCreatePass){const u=Oi(r);ll(a,c.data,c.blueprint,u,!0),ll(s,c.data,c.blueprint,u,!1)}}(c,u?u(r):r,s)}}class Gp{}class Ub{resolveComponentFactory(s){throw function vw(r){const s=Error(`No component factory found for ${pe(r)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=r,s}(s)}}let zu=(()=>{class r{}return r.NULL=new Ub,r})();function yr(){return Ta(nn(),De())}function Ta(r,s){return new ms(On(r,s))}let ms=(()=>{class r{constructor(a){this.nativeElement=a}}return r.__NG_ELEMENT_ID__=yr,r})();function zp(r){return r instanceof ms?r.nativeElement:r}class cl{}let Hb=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function pc(){const r=De(),a=Fn(nn().index,r);return function jb(r){return r[11]}($i(a)?a:r)}(),r})(),uA=(()=>{class r{}return r.\u0275prov=Pt({token:r,providedIn:"root",factory:()=>null}),r})();class Gb{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const zb=new Gb("13.2.4"),Fh={};function $p(r,s,a,c,u=!1){for(;null!==a;){const p=s[a.index];if(null!==p&&c.push(Lt(p)),Pi(p))for(let E=10;E<p.length;E++){const C=p[E],T=C[1].firstChild;null!==T&&$p(C[1],C,T,c)}const y=a.type;if(8&y)$p(r,s,a.child,c);else if(32&y){const E=$e(a,s);let C;for(;C=E();)c.push(C)}else if(16&y){const E=Oy(s,a);if(Array.isArray(E))c.push(...E);else{const C=hn(s[16]);$p(C[1],C,E,c,!0)}}a=u?a.projectionNext:a.next}return c}class Nh{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return $p(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Pi(s)){const a=s[8],c=a?a.indexOf(this):-1;c>-1&&(Lr(s,c),Wn(a,c))}this._attachedToViewContainer=!1}Gd(this._lView[1],this._lView)}onDestroy(s){av(this._lView[1],this._lView,null,s)}markForCheck(){dg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){gu(this._lView[1],this._lView,this.context)}checkNoChanges(){!function lC(r,s,a){ao(!0);try{gu(r,s,a)}finally{ao(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Me(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ou(r,s){va(r,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Me(902,"");this._appRef=s}}class Ew extends Nh{constructor(s){super(s),this._view=s}detectChanges(){nc(this._view)}checkNoChanges(){!function Jd(r){ao(!0);try{nc(r)}finally{ao(!1)}}(this._view)}get context(){return null}}class $b extends zu{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Sn(s);return new Yp(a,this.ngModule)}}function Lh(r){const s=[];for(let a in r)r.hasOwnProperty(a)&&s.push({propName:r[a],templateName:a});return s}const Vh=new un("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ql});class Yp extends Gp{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function jE(r){return r.map(HE).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Lh(this.componentDef.inputs)}get outputs(){return Lh(this.componentDef.outputs)}create(s,a,c,u){const p=(u=u||this.ngModule)?function M_(r,s){return{get:(a,c,u)=>{const p=r.get(a,Fh,u);return p!==Fh||c===Fh?p:s.get(a,c,u)}}}(s,u.injector):s,y=p.get(cl,zo),E=p.get(uA,null),C=y.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",x=c?function og(r,s,a){if($t(r))return r.selectRootElement(s,a===Et.ShadowDom);let c="string"==typeof s?r.querySelector(s):s;return c.textContent="",c}(C,c,this.componentDef.encapsulation):jd(y.createRenderer(null,this.componentDef),T,function Wp(r){const s=r.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(T)),L=this.componentDef.onPush?576:528,j=function Ig(r,s){return{components:[],scheduler:r||ql,clean:eh,playerHandler:s||null,flags:0}}(),K=Zd(0,null,null,1,0,null,null,null,null,null),ye=Qa(null,K,j,L,null,null,y,C,E,p);let Pe,Ue;Ss(ye);try{const Le=function wg(r,s,a,c,u,p){const y=a[1];a[20]=r;const C=uu(y,20,2,"#host",null),T=C.mergedAttrs=s.hostAttrs;null!==T&&(nh(C,T,!0),null!==r&&(Ft(u,r,T),null!==C.classes&&zm(u,r,C.classes),null!==C.styles&&Vy(u,r,C.styles)));const x=c.createRenderer(r,s),L=Qa(a,ov(s),null,s.onPush?64:16,a[20],C,c,x,p||null,null);return y.firstCreatePass&&(ci(Rr(C,a),y,s.type),pu(y,C),Ui(C,a.length,1)),op(a,L),a[20]=L}(x,this.componentDef,ye,y,C);if(x)if(c)Ft(C,x,["ng-version",zb.full]);else{const{attrs:we,classes:ot}=function GE(r){const s=[],a=[];let c=1,u=2;for(;c<r.length;){let p=r[c];if("string"==typeof p)2===u?""!==p&&s.push(p,r[++c]):8===u&&a.push(p);else{if(!Vs(u))break;u=p}c++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);we&&Ft(C,x,we),ot&&ot.length>0&&zm(C,x,ot.join(" "))}if(Ue=ln(K,20),void 0!==a){const we=Ue.projection=[];for(let ot=0;ot<this.ngContentSelectors.length;ot++){const Mt=a[ot];we.push(null!=Mt?Array.from(Mt):null)}}Pe=function Dg(r,s,a,c,u){const p=a[1],y=function fu(r,s,a){const c=nn();r.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),fv(r,c,s,du(r,s,1,null),a));const u=Li(s,r,c.directiveStart,c);Xn(u,s);const p=On(c,s);return p&&Xn(p,s),u}(p,a,s);if(c.components.push(y),r[8]=y,u&&u.forEach(C=>C(y,s)),s.contentQueries){const C=nn();s.contentQueries(1,y,C.directiveStart)}const E=nn();return!p.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Mr(E.index),ag(a[1],E,0,E.directiveStart,E.directiveEnd,s),lg(s,y)),y}(Le,this.componentDef,ye,j,[pp]),qd(K,ye,null)}finally{lo()}return new Yb(this.componentType,Pe,Ta(Ue,ye),ye,Ue)}}class Yb extends class yw{}{constructor(s,a,c,u,p){super(),this.location=c,this._rootLView=u,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new Ew(u),this.componentType=s}get injector(){return new ur(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class ji{}const $u=new Map;class Jb extends ji{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new $b(this);const c=Mn(s);this._bootstrapComponents=m(c.bootstrap),this._r3Injector=gv(s,a,[{provide:ji,useValue:this},{provide:zu,useValue:this.componentFactoryResolver}],pe(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=Vr.THROW_IF_NOT_FOUND,c=at.Default){return s===Vr||s===ji||s===ap?this:this._r3Injector.get(s,a,c)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class x_ extends class Kb{}{constructor(s){super(),this.moduleType=s,null!==Mn(s)&&function Qb(r){const s=new Set;!function a(c){const u=Mn(c,!0),p=u.id;null!==p&&(function Zb(r,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${r} - ${pe(s)} vs ${pe(s.name)}`)}(p,$u.get(p),c),$u.set(p,c));const y=m(u.imports);for(const E of y)s.has(E)||(s.add(E),a(E))}(r)}(s)}create(s){return new Jb(this.moduleType,s)}}function e0(r,s,a,c,u,p){const y=s+a;return xi(r,y,u)?function Ao(r,s,a){return r[s]=a}(r,y+1,p?c.call(p,u):c(u)):function Bh(r,s){const a=r[s];return a===ht?void 0:a}(r,y+1)}function n0(r,s){const a=Dt();let c;const u=r+20;a.firstCreatePass?(c=function r0(r,s){if(s)for(let a=s.length-1;a>=0;a--){const c=s[a];if(r===c.name)return c}}(s,a.pipeRegistry),a.data[u]=c,c.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(u,c.onDestroy)):c=a.data[u];const p=c.factory||(c.factory=Fi(c.type)),y=pn(ac);try{const E=ss(!1),C=p();return ss(E),function xv(r,s,a,c){a>=r.data.length&&(r.data[a]=null,r.blueprint[a]=null),s[a]=c}(a,De(),u,C),C}finally{pn(y)}}function s0(r,s,a){const c=r+20,u=De(),p=Tr(u,c);return function Uh(r,s){return r[1].data[s].pure}(u,c)?e0(u,function kn(){const r=tt.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}(),s,p.transform,a,p):p.transform(a)}function R_(r){return s=>{setTimeout(r,void 0,s)}}const Ro=class Nw extends d.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,c){var u,p,y;let E=s,C=a||(()=>null),T=c;if(s&&"object"==typeof s){const L=s;E=null===(u=L.next)||void 0===u?void 0:u.bind(L),C=null===(p=L.error)||void 0===p?void 0:p.bind(L),T=null===(y=L.complete)||void 0===y?void 0:y.bind(L)}this.__isAsync&&(C=R_(C),E&&(E=R_(E)),T&&(T=R_(T)));const x=super.subscribe({next:E,error:C,complete:T});return s instanceof te.w0&&s.add(x),x}};function Lw(){return this._results[gt()]()}class P_{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=gt(),c=P_.prototype;c[a]||(c[a]=Lw)}get changes(){return this._changes||(this._changes=new Ro)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const c=this;c.dirty=!1;const u=Pn(s);(this._changesDetected=!function Vn(r,s,a){if(r.length!==s.length)return!1;for(let c=0;c<r.length;c++){let u=r[c],p=s[c];if(a&&(u=a(u),p=a(p)),p!==u)return!1}return!0}(c._results,u,a))&&(c._results=u,c.length=u.length,c.last=u[this.length-1],c.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Hh=(()=>{class r{}return r.__NG_ELEMENT_ID__=Uw,r})();const Vw=Hh,Bw=class extends Vw{constructor(s,a,c){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(s){const a=this._declarationTContainer.tViews,c=Qa(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(c[19]=p.createEmbeddedView(a)),qd(a,c,s),new Nh(c)}};function Uw(){return O_(nn(),De())}function O_(r,s){return 4&r.type?new Bw(s,r,Ta(r,s)):null}let F_=(()=>{class r{}return r.__NG_ELEMENT_ID__=Hw,r})();function Hw(){return a0(nn(),De())}const jw=F_,o0=class extends jw{constructor(s,a,c){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=c}get element(){return Ta(this._hostTNode,this._hostLView)}get injector(){return new ur(this._hostTNode,this._hostLView)}get parentInjector(){const s=xl(this._hostTNode,this._hostLView);if(li(s)){const a=Vt(s,this._hostLView),c=yt(s);return new ur(a[1].data[c+8],a)}return new ur(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=N_(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,c){const u=s.createEmbeddedView(a||{});return this.insert(u,c),u}createComponent(s,a,c,u,p){const y=s&&!function yo(r){return"function"==typeof r}(s);let E;if(y)E=a;else{const L=a||{};E=L.index,c=L.injector,u=L.projectableNodes,p=L.ngModuleRef}const C=y?s:new Yp(Sn(s)),T=c||this.parentInjector;if(!p&&null==C.ngModule){const j=(y?T:this.parentInjector).get(ji,null);j&&(p=j)}const x=C.create(T,u,void 0,p);return this.insert(x.hostView,E),x}insert(s,a){const c=s._lView,u=c[1];if(function bl(r){return Pi(r[3])}(c)){const x=this.indexOf(s);if(-1!==x)this.detach(x);else{const L=c[3],j=new o0(L,L[6],L[3]);j.detach(j.indexOf(s))}}const p=this._adjustIndex(a),y=this._lContainer;!function PE(r,s,a,c){const u=10+c,p=a.length;c>0&&(a[u-1][4]=s),c<p-10?(s[4]=a[u],ls(a,10+c,s)):(a.push(s),s[4]=null),s[3]=a;const y=s[17];null!==y&&a!==y&&function OE(r,s){const a=r[9];s[16]!==s[3][3][16]&&(r[2]=!0),null===a?r[9]=[s]:a.push(s)}(y,s);const E=s[19];null!==E&&E.insertView(r),s[2]|=128}(u,c,y,p);const E=jm(p,y),C=c[11],T=fi(C,y[7]);return null!==T&&function Hf(r,s,a,c,u,p){c[0]=u,c[6]=s,va(r,c,a,1,u,p)}(u,y[6],C,c,T,E),s.attachToViewContainerRef(),ls(L_(y),p,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=N_(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),c=Lr(this._lContainer,a);c&&(Wn(L_(this._lContainer),a),Gd(c[1],c))}detach(s){const a=this._adjustIndex(s,-1),c=Lr(this._lContainer,a);return c&&null!=Wn(L_(this._lContainer),a)?new Nh(c):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function N_(r){return r[8]}function L_(r){return r[8]||(r[8]=[])}function a0(r,s){let a;const c=s[r.index];if(Pi(c))a=c;else{let u;if(8&r.type)u=Lt(c);else{const p=s[11];u=p.createComment("");const y=On(r,s);Zl(p,fi(p,y),u,function jf(r,s){return $t(r)?r.nextSibling(s):s.nextSibling}(p,y),!1)}s[r.index]=a=mu(c,s,u,r),op(s,a)}return new o0(a,r,s)}class ei{constructor(s){this.queryList=s,this.matches=null}clone(){return new ei(this.queryList)}setDirty(){this.queryList.setDirty()}}class Xi{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const c=null!==s.contentQueries?s.contentQueries[0]:a.length,u=[];for(let p=0;p<c;p++){const y=a.getByIndex(p);u.push(this.queries[y.indexInDeclarationView].clone())}return new Xi(u)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==G_(s,a).matches&&this.queries[a].setDirty()}}class Wu{constructor(s,a,c=null){this.predicate=s,this.flags=a,this.read=c}}class V_{constructor(s=[]){this.queries=s}elementStart(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let c=0;c<this.length;c++){const u=null!==a?a.length:0,p=this.getByIndex(c).embeddedTView(s,u);p&&(p.indexInDeclarationView=c,null!==a?a.push(p):a=[p])}return null!==a?new V_(a):null}template(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class B_{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new B_(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let u=0;u<c.length;u++){const p=c[u];this.matchTNodeWithReadOption(s,a,$w(a,p)),this.matchTNodeWithReadOption(s,a,ja(a,s,p,!1,!1))}else c===Hh?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,ja(a,s,c,!1,!1))}matchTNodeWithReadOption(s,a,c){if(null!==c){const u=this.metadata.read;if(null!==u)if(u===ms||u===F_||u===Hh&&4&a.type)this.addMatch(a.index,-2);else{const p=ja(a,s,u,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,c)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function $w(r,s){const a=r.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===s)return a[c+1];return null}function gi(r,s,a,c){return-1===a?function Ww(r,s){return 11&r.type?Ta(r,s):4&r.type?O_(r,s):null}(s,r):-2===a?function Kp(r,s,a){return a===ms?Ta(s,r):a===Hh?O_(s,r):a===F_?a0(s,r):void 0}(r,s,c):Li(r,r[1],a,s)}function l0(r,s,a,c){const u=s[19].queries[c];if(null===u.matches){const p=r.data,y=a.matches,E=[];for(let C=0;C<y.length;C+=2){const T=y[C];E.push(T<0?null:gi(s,p[T],y[C+1],a.metadata.read))}u.matches=E}return u.matches}function U_(r,s,a,c){const u=r.queries.getByIndex(a),p=u.matches;if(null!==p){const y=l0(r,s,u,a);for(let E=0;E<p.length;E+=2){const C=p[E];if(C>0)c.push(y[E/2]);else{const T=p[E+1],x=s[-C];for(let L=10;L<x.length;L++){const j=x[L];j[17]===j[3]&&U_(j[1],j,T,c)}if(null!==x[9]){const L=x[9];for(let j=0;j<L.length;j++){const K=L[j];U_(K[1],K,T,c)}}}}}return c}function H_(r){const s=De(),a=Dt(),c=ta();Il(c+1);const u=G_(a,c);if(r.dirty&&oo(s)===(2==(2&u.metadata.flags))){if(null===u.matches)r.reset([]);else{const p=u.crossesNgTemplate?U_(a,s,c,[]):l0(a,s,u,c);r.reset(p,zp),r.notifyOnChanges()}return!0}return!1}function c0(r,s,a){const c=Dt();c.firstCreatePass&&(d0(c,new Wu(r,s,a),-1),2==(2&s)&&(c.staticViewQueries=!0)),u0(c,De(),s)}function j_(r,s,a,c){const u=Dt();if(u.firstCreatePass){const p=nn();d0(u,new Wu(s,a,c),p.index),function qw(r,s){const a=r.contentQueries||(r.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(r.queries.length-1,s)}(u,r),2==(2&a)&&(u.staticContentQueries=!0)}u0(u,De(),a)}function Zp(){return function Yw(r,s){return r[19].queries[s].queryList}(De(),ta())}function u0(r,s,a){const c=new P_(4==(4&a));av(r,s,c,c.destroy),null===s[19]&&(s[19]=new Xi),s[19].queries.push(new ei(c))}function d0(r,s,a){null===r.queries&&(r.queries=new V_),r.queries.track(new B_(s,a))}function G_(r,s){return r.queries.getByIndex(s)}function Sa(...r){}const S0=new un("Application Initializer");let Po=(()=>{class r{constructor(a){this.appInits=a,this.resolve=Sa,this.reject=Sa,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,u)=>{this.resolve=c,this.reject=u})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const p=this.appInits[u]();if(Ug(p))a.push(p);else if(Uv(p)){const y=new Promise((E,C)=>{p.subscribe({complete:E,error:C})});a.push(y)}}Promise.all(a).then(()=>{c()}).catch(u=>{this.reject(u)}),0===a.length&&c(),this.initialized=!0}}return r.\u0275fac=function(a){return new(a||r)(Oe(S0,8))},r.\u0275prov=Pt({token:r,factory:r.\u0275fac}),r})();const M0=new un("AppId"),tm={provide:M0,useFactory:function em(){return`${Ma()}${Ma()}${Ma()}`},deps:[]};function Ma(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const x0=new un("Platform Initializer"),cD=new un("Platform ID"),ey=new un("appBootstrapListener");let uD=(()=>{class r{log(a){console.log(a)}warn(a){console.warn(a)}}return r.\u0275fac=function(a){return new(a||r)},r.\u0275prov=Pt({token:r,factory:r.\u0275fac}),r})();const ty=new un("LocaleId"),dl=new un("DefaultCurrencyCode");class EA{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let dD=(()=>{class r{compileModuleSync(a){return new x_(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),p=m(Mn(a).declarations).reduce((y,E)=>{const C=Sn(E);return C&&y.push(new Yp(C)),y},[]);return new EA(c,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return r.\u0275fac=function(a){return new(a||r)},r.\u0275prov=Pt({token:r,factory:r.\u0275fac}),r})();const hD=(()=>Promise.resolve(0))();function ny(r){"undefined"==typeof Zone?hD.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class _s{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ro(!1),this.onMicrotaskEmpty=new Ro(!1),this.onStable=new Ro(!1),this.onError=new Ro(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!c&&a,u.shouldCoalesceRunChangeDetection=c,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function fD(){let r=St.requestAnimationFrame,s=St.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&s){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function pD(r){const s=()=>{!function DA(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(St,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,iy(r),r.isCheckStableRunning=!0,R0(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),iy(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,u,p,y,E)=>{try{return P0(r),a.invokeTask(u,p,y,E)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||r.shouldCoalesceRunChangeDetection)&&s(),O0(r)}},onInvoke:(a,c,u,p,y,E,C)=>{try{return P0(r),a.invoke(u,p,y,E,C)}finally{r.shouldCoalesceRunChangeDetection&&s(),O0(r)}},onHasTask:(a,c,u,p)=>{a.hasTask(u,p),c===u&&("microTask"==p.change?(r._hasPendingMicrotasks=p.microTask,iy(r),R0(r)):"macroTask"==p.change&&(r.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,c,u,p)=>(a.handleError(u,p),r.runOutsideAngular(()=>r.onError.emit(p)),!1)})}(u)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_s.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(_s.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,c){return this._inner.run(s,a,c)}runTask(s,a,c,u){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+u,s,wA,Sa,Sa);try{return p.runTask(y,a,c)}finally{p.cancelTask(y)}}runGuarded(s,a,c){return this._inner.runGuarded(s,a,c)}runOutsideAngular(s){return this._outer.run(s)}}const wA={};function R0(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function iy(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function P0(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function O0(r){r._nesting--,R0(r)}class mD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ro,this.onMicrotaskEmpty=new Ro,this.onStable=new Ro,this.onError=new Ro}run(s,a,c){return s.apply(a,c)}runGuarded(s,a,c){return s.apply(a,c)}runOutsideAngular(s){return s()}runTask(s,a,c,u){return s.apply(a,c)}}let F0=(()=>{class r{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_s.assertNotInAngularZone(),ny(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ny(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,u){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:u})}whenStable(a,c,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,c,u){return[]}}return r.\u0275fac=function(a){return new(a||r)(Oe(_s))},r.\u0275prov=Pt({token:r,factory:r.\u0275fac}),r})(),N0=(()=>{class r{constructor(){this._applications=new Map,V0.addToWindow(this)}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return V0.findTestabilityInTree(this,a,c)}}return r.\u0275fac=function(a){return new(a||r)},r.\u0275prov=Pt({token:r,factory:r.\u0275fac}),r})();class L0{addToWindow(s){}findTestabilityInTree(s,a,c){return null}}function IA(r){V0=r}let Oo,V0=new L0;const gD=new un("AllowMultipleToken");function _D(r,s,a=[]){const c=`Platform: ${s}`,u=new un(c);return(p=[])=>{let y=yD();if(!y||y.injector.get(gD,!1))if(r)r(a.concat(p).concat({provide:u,useValue:!0}));else{const E=a.concat(p).concat({provide:u,useValue:!0},{provide:yg,useValue:"platform"});!function SA(r){if(Oo&&!Oo.destroyed&&!Oo.injector.get(gD,!1))throw new Me(400,"");Oo=r.get(vD);const s=r.get(x0,null);s&&s.forEach(a=>a())}(Vr.create({providers:E,name:c}))}return function MA(r){const s=yD();if(!s)throw new Me(401,"");return s}()}}function yD(){return Oo&&!Oo.destroyed?Oo:null}let vD=(()=>{class r{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const E=function xA(r,s){let a;return a="noop"===r?new mD:("zone.js"===r?void 0:r)||new _s({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),C=[{provide:_s,useValue:E}];return E.run(()=>{const T=Vr.create({providers:C,parent:this.injector,name:a.moduleType.name}),x=a.create(T),L=x.injector.get(qn,null);if(!L)throw new Me(402,"");return E.runOutsideAngular(()=>{const j=E.onError.subscribe({next:K=>{L.handleError(K)}});x.onDestroy(()=>{B0(this._modules,x),j.unsubscribe()})}),function kA(r,s,a){try{const c=a();return Ug(c)?c.catch(u=>{throw s.runOutsideAngular(()=>r.handleError(u)),u}):c}catch(c){throw s.runOutsideAngular(()=>r.handleError(c)),c}}(L,E,()=>{const j=x.injector.get(Po);return j.runInitializers(),j.donePromise.then(()=>(function Pp(r){Ke(r,"Expected localeId to be defined"),"string"==typeof r&&(Sh=r.toLowerCase().replace(/_/g,"-"))}(x.injector.get(ty,uc)||uc),this._moduleDoBootstrap(x),x))})})}bootstrapModule(a,c=[]){const u=bD({},c);return function AA(r,s,a){const c=new x_(a);return Promise.resolve(c)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,u))}_moduleDoBootstrap(a){const c=a.injector.get(nm);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(u=>c.bootstrap(u));else{if(!a.instance.ngDoBootstrap)throw new Me(403,"");a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Me(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(a){return new(a||r)(Oe(Vr))},r.\u0275prov=Pt({token:r,factory:r.\u0275fac}),r})();function bD(r,s){return Array.isArray(s)?s.reduce(bD,r):Object.assign(Object.assign({},r),s)}let nm=(()=>{class r{constructor(a,c,u,p,y){this._zone=a,this._injector=c,this._exceptionHandler=u,this._componentFactoryResolver=p,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new O.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),C=new O.y(T=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{_s.assertNotInAngularZone(),ny(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const L=this._zone.onUnstable.subscribe(()=>{_s.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{x.unsubscribe(),L.unsubscribe()}});this.isStable=(0,_e.T)(E,C.pipe((0,ie.B)()))}bootstrap(a,c){if(!this._initStatus.done)throw new Me(405,"");let u;u=a instanceof Gp?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(u.componentType);const p=function TA(r){return r.isBoundToModule}(u)?void 0:this._injector.get(ji),E=u.create(Vr.NULL,[],c||u.selector,p),C=E.location.nativeElement,T=E.injector.get(F0,null),x=T&&E.injector.get(N0);return T&&x&&x.registerApplication(C,T),E.onDestroy(()=>{this.detachView(E.hostView),B0(this.components,E),x&&x.unregisterApplication(C)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Me(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;B0(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(ey,[]).concat(this._bootstrapListeners).forEach(u=>u(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(a){return new(a||r)(Oe(_s),Oe(Vr),Oe(qn),Oe(zu),Oe(Po))},r.\u0275prov=Pt({token:r,factory:r.\u0275fac}),r})();function B0(r,s){const a=r.indexOf(s);a>-1&&r.splice(a,1)}let CD=!0,wD=!1;function PA(){return wD=!0,CD}function OA(){if(wD)throw new Error("Cannot enable prod mode after platform setup.");CD=!1}let FA=(()=>{class r{}return r.__NG_ELEMENT_ID__=NA,r})();function NA(r){return function LA(r,s,a){if(Ra(r)&&!a){const c=Fn(r.index,s);return new Nh(c,c)}return 47&r.type?new Nh(s[16],s):null}(nn(),De(),16==(16&r))}class TD{constructor(){}supports(s){return ah(s)}create(s){return new GA(s)}}const jA=(r,s)=>s;class GA{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||jA}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,c=this._removalsHead,u=0,p=null;for(;a||c;){const y=!c||a&&a.currentIndex<MD(c,u,p)?a:c,E=MD(y,u,p),C=y.currentIndex;if(y===c)u--,c=c._nextRemoved;else if(a=a._next,null==y.previousIndex)u++;else{p||(p=[]);const T=E-u,x=C-u;if(T!=x){for(let j=0;j<T;j++){const K=j<p.length?p[j]:p[j]=0,ye=K+j;x<=ye&&ye<T&&(p[j]=K+1)}p[y.previousIndex]=x-T}}E!==C&&s(y,E,C)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!ah(s))throw new Me(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let u,p,y,a=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let E=0;E<this.length;E++)p=s[E],y=this._trackByFn(E,p),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,p,y,E)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,y,E),c=!0),a=a._next}else u=0,function ds(r,s){if(Array.isArray(r))for(let a=0;a<r.length;a++)s(r[a]);else{const a=r[gt()]();let c;for(;!(c=a.next()).done;)s(c.value)}}(s,E=>{y=this._trackByFn(u,E),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,E,y,u)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,y,u),c=!0),a=a._next,u++}),this.length=u;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,c,u){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,p,u)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,u))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,p,u)):s=this._addAfter(new zA(a,c),p,u),s}_verifyReinsertion(s,a,c,u){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?s=this._reinsertAfter(p,s._prev,u):s.currentIndex!=u&&(s.currentIndex=u,this._addToMoves(s,u)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const u=s._prevRemoved,p=s._nextRemoved;return null===u?this._removalsHead=p:u._nextRemoved=p,null===p?this._removalsTail=u:p._prevRemoved=u,this._insertAfter(s,a,c),this._addToMoves(s,c),s}_moveAfter(s,a,c){return this._unlink(s),this._insertAfter(s,a,c),this._addToMoves(s,c),s}_addAfter(s,a,c){return this._insertAfter(s,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,c){const u=null===a?this._itHead:a._next;return s._next=u,s._prev=a,null===u?this._itTail=s:u._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new SD),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,c=s._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new SD),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class zA{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $A{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const a=s._prevDup,c=s._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class SD{constructor(){this.map=new Map}put(s){const a=s.trackById;let c=this.map.get(a);c||(c=new $A,this.map.set(a,c)),c.add(s)}get(s,a){const u=this.map.get(s);return u?u.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function MD(r,s,a){const c=r.previousIndex;if(null===c)return c;let u=0;return a&&c<a.length&&(u=a[c]),c+s+u}class xD{constructor(){}supports(s){return s instanceof Map||Mg(s)}create(){return new WA}}class WA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Mg(s)))throw new Me(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,u)=>{if(a&&a.key===u)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(u,c);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const c=s._prev;return a._next=s,a._prev=c,s._prev=a,c&&(c._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const u=this._records.get(s);this._maybeAddToChanges(u,a);const p=u._prev,y=u._next;return p&&(p._next=y),y&&(y._prev=p),u._next=null,u._prev=null,u}const c=new YA(s);return this._records.set(s,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(c=>a(s[c],c))}}class YA{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function kD(){return new G0([new TD])}let G0=(()=>{class r{constructor(a){this.factories=a}static create(a,c){if(null!=c){const u=c.factories.slice();a=a.concat(u)}return new r(a)}static extend(a){return{provide:r,useFactory:c=>r.create(a,c||kD()),deps:[[r,new Si,new Ti]]}}find(a){const c=this.factories.find(u=>u.supports(a));if(null!=c)return c;throw new Me(901,"")}}return r.\u0275prov=Pt({token:r,providedIn:"root",factory:kD}),r})();function RD(){return new z0([new xD])}let z0=(()=>{class r{constructor(a){this.factories=a}static create(a,c){if(c){const u=c.factories.slice();a=a.concat(u)}return new r(a)}static extend(a){return{provide:r,useFactory:c=>r.create(a,c||RD()),deps:[[r,new Si,new Ti]]}}find(a){const c=this.factories.find(p=>p.supports(a));if(c)return c;throw new Me(901,"")}}return r.\u0275prov=Pt({token:r,providedIn:"root",factory:RD}),r})();const ZA=_D(null,"core",[{provide:cD,useValue:"unknown"},{provide:vD,deps:[Vr]},{provide:N0,deps:[]},{provide:uD,deps:[]}]),JA=[{provide:nm,useClass:nm,deps:[_s,Vr,qn,zu,Po]},{provide:Vh,deps:[_s],useFactory:function eT(r){let s=[];return r.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(a){s.push(a)}}},{provide:Po,useClass:Po,deps:[[new Ti,S0]]},{provide:dD,useClass:dD,deps:[]},tm,{provide:ty,useFactory:function QA(r){return r||function XA(){return"undefined"!=typeof $localize&&$localize.locale||uc}()},deps:[[new fr(ty),new Ti,new Si]]},{provide:dl,useValue:"USD"}];let tT=(()=>{class r{constructor(a){}}return r.\u0275fac=function(a){return new(a||r)(Oe(nm))},r.\u0275mod=ni({type:r}),r.\u0275inj=Ot({providers:JA}),r})()},3942:(qe,Ie,F)=>{"use strict";F.d(Ie,{Z:()=>Me});var d=F(2090),te=F(4859),O=F(9681),_e=F(1877);class ie{constructor(Q,de){this._delegate=Q,this.firebase=de,(0,O._addComponent)(Q,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=Q.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Q){this._delegate.automaticDataCollectionEnabled=Q}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Q=>{this._delegate.checkDestroyed(),Q()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(Q,de=O._DEFAULT_ENTRY_NAME){var Se;this._delegate.checkDestroyed();const xe=this._delegate.container.getProvider(Q);return!xe.isInitialized()&&"EXPLICIT"===(null===(Se=xe.getComponent())||void 0===Se?void 0:Se.instantiationMode)&&xe.initialize(),xe.getImmediate({identifier:de})}_removeServiceInstance(Q,de=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Q).clearInstance(de)}_addComponent(Q){(0,O._addComponent)(this._delegate,Q)}_addOrOverwriteComponent(Q){(0,O._addOrOverwriteComponent)(this._delegate,Q)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ne=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function ce(){const Be=function pe(Be){const Q={},de={__esModule:!0,initializeApp:function ue(je,oe={}){const X=O.initializeApp(je,oe);if((0,d.r3)(Q,X.name))return Q[X.name];const ae=new Be(X,de);return Q[X.name]=ae,ae},app:xe,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function be(je){const oe=je.name,X=oe.replace("-compat","");if(O._registerComponent(je)&&"PUBLIC"===je.type){const ae=(ve=xe())=>{if("function"!=typeof ve[X])throw ne.create("invalid-app-argument",{appName:oe});return ve[X]()};void 0!==je.serviceProps&&(0,d.ZB)(ae,je.serviceProps),de[X]=ae,Be.prototype[X]=function(...ve){return this._getService.bind(this,oe).apply(this,je.multipleInstances?ve:[])}}return"PUBLIC"===je.type?de[X]:null},removeApp:function Se(je){delete Q[je]},useAsService:function He(je,oe){return"serverAuth"===oe?null:oe},modularAPIs:O}};function xe(je){if(!(0,d.r3)(Q,je=je||O._DEFAULT_ENTRY_NAME))throw ne.create("no-app",{appName:je});return Q[je]}return de.default=de,Object.defineProperty(de,"apps",{get:function ge(){return Object.keys(Q).map(je=>Q[je])}}),xe.App=Be,de}(ie);return Be.INTERNAL=Object.assign(Object.assign({},Be.INTERNAL),{createFirebaseNamespace:ce,extendNamespace:function Q(de){(0,d.ZB)(Be,de)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),Be}(),H=new _e.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Be=self.firebase.SDK_VERSION;Be&&Be.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Me=G;!function Ae(Be){(0,O.registerVersion)("@firebase/app-compat","0.1.18",Be)}()},9681:(qe,Ie,F)=>{"use strict";F.r(Ie),F.d(Ie,{FirebaseError:()=>_e.ZR,SDK_VERSION:()=>ti,_DEFAULT_ENTRY_NAME:()=>fn,_addComponent:()=>Gt,_addOrOverwriteComponent:()=>Hn,_apps:()=>Je,_clearComponents:()=>At,_components:()=>In,_getProvider:()=>tr,_registerComponent:()=>Pt,_removeServiceInstance:()=>Ot,deleteApp:()=>rr,getApp:()=>Yr,getApps:()=>_i,initializeApp:()=>ir,onLog:()=>An,registerVersion:()=>yi,setLogLevel:()=>pn});var d=F(5861),te=F(4859),O=F(1877),_e=F(2090);class ie{constructor(We){this.container=We}getPlatformInfoString(){return this.container.getProviders().map(bt=>{if(function me(it){const We=it.getComponent();return"VERSION"===(null==We?void 0:We.type)}(bt)){const qt=bt.getImmediate();return`${qt.library}/${qt.version}`}return null}).filter(bt=>bt).join(" ")}}const ne="@firebase/app",ce=new O.Yd("@firebase/app"),fn="[DEFAULT]",Ke={[ne]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Je=new Map,In=new Map;function Gt(it,We){try{it.container.addComponent(We)}catch(bt){ce.debug(`Component ${We.name} failed to register with FirebaseApp ${it.name}`,bt)}}function Hn(it,We){it.container.addOrOverwriteComponent(We)}function Pt(it){const We=it.name;if(In.has(We))return ce.debug(`There were multiple attempts to register component ${We}.`),!1;In.set(We,it);for(const bt of Je.values())Gt(bt,it);return!0}function tr(it,We){return it.container.getProvider(We)}function Ot(it,We,bt=fn){tr(it,We).clearInstance(bt)}function At(){In.clear()}const jn=new _e.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Wr{constructor(We,bt,qt){this._isDeleted=!1,this._options=Object.assign({},We),this._config=Object.assign({},bt),this._name=bt.name,this._automaticDataCollectionEnabled=bt.automaticDataCollectionEnabled,this._container=qt,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(We){this.checkDestroyed(),this._automaticDataCollectionEnabled=We}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(We){this._isDeleted=We}checkDestroyed(){if(this.isDeleted)throw jn.create("app-deleted",{appName:this._name})}}const ti="9.6.7";function ir(it,We={}){"object"!=typeof We&&(We={name:We});const bt=Object.assign({name:fn,automaticDataCollectionEnabled:!1},We),qt=bt.name;if("string"!=typeof qt||!qt)throw jn.create("bad-app-name",{appName:String(qt)});const Gn=Je.get(qt);if(Gn){if((0,_e.vZ)(it,Gn.options)&&(0,_e.vZ)(bt,Gn.config))return Gn;throw jn.create("duplicate-app",{appName:qt})}const Et=new te.H0(qt);for(const et of In.values())Et.addComponent(et);const Ye=new Wr(it,bt,Et);return Je.set(qt,Ye),Ye}function Yr(it=fn){const We=Je.get(it);if(!We)throw jn.create("no-app",{appName:it});return We}function _i(){return Array.from(Je.values())}function rr(it){return at.apply(this,arguments)}function at(){return(at=(0,d.Z)(function*(it){const We=it.name;Je.has(We)&&(Je.delete(We),yield Promise.all(it.container.getProviders().map(bt=>bt.delete())),it.isDeleted=!0)})).apply(this,arguments)}function yi(it,We,bt){var qt;let Gn=null!==(qt=Ke[it])&&void 0!==qt?qt:it;bt&&(Gn+=`-${bt}`);const Et=Gn.match(/\s|\//),Ye=We.match(/\s|\//);if(Et||Ye){const et=[`Unable to register library "${Gn}" with version "${We}":`];return Et&&et.push(`library name "${Gn}" contains illegal characters (whitespace or "/")`),Et&&Ye&&et.push("and"),Ye&&et.push(`version name "${We}" contains illegal characters (whitespace or "/")`),void ce.warn(et.join(" "))}Pt(new te.wA(`${Gn}-version`,()=>({library:Gn,version:We}),"VERSION"))}function An(it,We){if(null!==it&&"function"!=typeof it)throw jn.create("invalid-log-argument");(0,O.Am)(it,We)}function pn(it){(0,O.Ub)(it)}!function qr(it){Pt(new te.wA("platform-logger",We=>new ie(We),"PRIVATE")),yi(ne,"0.7.17",it),yi(ne,"0.7.17","esm2017"),yi("fire-js","")}("")},4859:(qe,Ie,F)=>{"use strict";F.d(Ie,{wA:()=>O,H0:()=>pe,zt:()=>ie});var d=F(5861),te=F(2090);class O{constructor(G,H,ee){this.name=G,this.instanceFactory=H,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const _e="[DEFAULT]";class ie{constructor(G,H){this.name=G,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const H=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(H)){const ee=new te.BH;if(this.instancesDeferred.set(H,ee),this.isInitialized(H)||this.shouldAutoInitialize())try{const Ve=this.getOrInitializeService({instanceIdentifier:H});Ve&&ee.resolve(Ve)}catch(Ve){}}return this.instancesDeferred.get(H).promise}getImmediate(G){var H;const ee=this.normalizeInstanceIdentifier(null==G?void 0:G.identifier),Ve=null!==(H=null==G?void 0:G.optional)&&void 0!==H&&H;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(Ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(Ae){if(Ve)return null;throw Ae}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function ne(ce){return"EAGER"===ce.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:_e})}catch(H){}for(const[H,ee]of this.instancesDeferred.entries()){const Ve=this.normalizeInstanceIdentifier(H);try{const Ae=this.getOrInitializeService({instanceIdentifier:Ve});ee.resolve(Ae)}catch(Ae){}}}}clearInstance(G=_e){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,d.Z)(function*(){const H=Array.from(G.instances.values());yield Promise.all([...H.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...H.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=_e){return this.instances.has(G)}getOptions(G=_e){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:H={}}=G,ee=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ve=this.getOrInitializeService({instanceIdentifier:ee,options:H});for(const[Ae,Me]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(Ae)&&Me.resolve(Ve);return Ve}onInit(G,H){var ee;const Ve=this.normalizeInstanceIdentifier(H),Ae=null!==(ee=this.onInitCallbacks.get(Ve))&&void 0!==ee?ee:new Set;Ae.add(G),this.onInitCallbacks.set(Ve,Ae);const Me=this.instances.get(Ve);return Me&&G(Me,Ve),()=>{Ae.delete(G)}}invokeOnInitCallbacks(G,H){const ee=this.onInitCallbacks.get(H);if(ee)for(const Ve of ee)try{Ve(G,H)}catch(Ae){}}getOrInitializeService({instanceIdentifier:G,options:H={}}){let ee=this.instances.get(G);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(ce=G,ce===_e?void 0:ce),options:H}),this.instances.set(G,ee),this.instancesOptions.set(G,H),this.invokeOnInitCallbacks(ee,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,ee)}catch(Ve){}var ce;return ee||null}normalizeInstanceIdentifier(G=_e){return this.component?this.component.multipleInstances?G:_e:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const H=this.getProvider(G.name);if(H.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);H.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const H=new ie(G,this);return this.providers.set(G,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(qe,Ie,F)=>{"use strict";F.d(Ie,{in:()=>te,Yd:()=>ne,Ub:()=>pe,Am:()=>ce});const d=[];var te=(()=>{return(G=te||(te={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",te;var G})();const O={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},_e=te.INFO,ie={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},me=(G,H,...ee)=>{if(H<G.logLevel)return;const Ve=(new Date).toISOString(),Ae=ie[H];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[Ae](`[${Ve}]  ${G.name}:`,...ee)};class ne{constructor(H){this.name=H,this._logLevel=_e,this._logHandler=me,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in te))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?O[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...H),this._logHandler(this,te.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...H),this._logHandler(this,te.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,te.INFO,...H),this._logHandler(this,te.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,te.WARN,...H),this._logHandler(this,te.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...H),this._logHandler(this,te.ERROR,...H)}}function pe(G){d.forEach(H=>{H.setLogLevel(G)})}function ce(G,H){for(const ee of d){let Ve=null;H&&H.level&&(Ve=O[H.level]),ee.userLogHandler=null===G?null:(Ae,Me,...Be)=>{const Q=Be.map(de=>{if(null==de)return null;if("string"==typeof de)return de;if("number"==typeof de||"boolean"==typeof de)return de.toString();if(de instanceof Error)return de.message;try{return JSON.stringify(de)}catch(Se){return null}}).filter(de=>de).join(" ");Me>=(null!=Ve?Ve:Ae.logLevel)&&G({level:te[Me].toLowerCase(),message:Q,args:Be,type:Ae.name})}}}},5861:(qe,Ie,F)=>{"use strict";function d(O,_e,ie,me,ne,pe,ce){try{var G=O[pe](ce),H=G.value}catch(ee){return void ie(ee)}G.done?_e(H):Promise.resolve(H).then(me,ne)}function te(O){return function(){var _e=this,ie=arguments;return new Promise(function(me,ne){var pe=O.apply(_e,ie);function ce(H){d(pe,me,ne,ce,G,"next",H)}function G(H){d(pe,me,ne,ce,G,"throw",H)}ce(void 0)})}}F.d(Ie,{Z:()=>te})}},qe=>{qe(qe.s=5818)}]);